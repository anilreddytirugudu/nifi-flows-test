{"flowContents":{"identifier":"ebb2785d-4922-38f6-8742-b6a4e3e95c41","instanceIdentifier":"65179079-0195-1000-0000-00000b406dee","name":"KF 360","comments":"","position":{"x":-1976.0,"y":1024.0},"processGroups":[{"identifier":"2ab28661-a7b2-3130-9b13-bbca66016bfa","instanceIdentifier":"46013a86-cf2c-1dba-ffff-ffffa404e97c","name":"Role","comments":"","position":{"x":544.0,"y":-112.0},"processGroups":[{"identifier":"b1823eb0-4209-30f0-9dc3-375942627a31","instanceIdentifier":"2b044274-b293-136c-ffff-ffffc41a4ef8","name":"Model & Role","comments":"","position":{"x":-384.0,"y":72.0},"processGroups":[{"identifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986","instanceIdentifier":"a20d3197-5122-1395-8e06-ac06b7f80999","name":"FRAME LOGS","comments":"","position":{"x":1424.0,"y":1472.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"04929a2e-e8e7-32fd-bfdd-d763f953ce1d","instanceIdentifier":"10a73549-9a41-1bae-b9f9-2e67c7dd5194","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","position":{"x":2248.0,"y":248.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"${flow_name}-a360_role","flow_name":"${flow_name}","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"},{"identifier":"a5d43049-0256-332f-813a-9c118fe81c7a","instanceIdentifier":"9d5e3d8c-1f0a-168e-a664-cd19808eed6b","name":"ROLE_DB_OPERATION_LOG_ATTRIBUTE","comments":"","position":{"x":568.0,"y":248.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"${flow_name}-a360_role","flow_name":"${flow_name}","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"},{"identifier":"04b6bd7d-f84b-3afa-95ab-d7e16a2b8f4d","instanceIdentifier":"b3a33e1f-c1d6-151c-8647-63398967b01c","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","position":{"x":984.0,"y":248.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"error.sql.state":"404","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"${flow_name}-a360_model","flow_name":"${flow_name}","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}","log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","error.message":"Invalid model data present in payload: model_id ${model_id}/model_name ${model_name}/model_version ${model_version}.","manual_error":"true","error.code":"404"},"propertyDescriptors":{"error.sql.state":{"name":"error.sql.state","displayName":"error.sql.state","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false},"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"error.message":{"name":"error.message","displayName":"error.message","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"error.code":{"name":"error.code","displayName":"error.code","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"},{"identifier":"aaee3da2-3e65-38a5-aed9-cd20296a6f2a","instanceIdentifier":"48223a3e-90fa-15b3-aea4-d0bd38f7e688","name":"ReplaceText","comments":"","position":{"x":1400.0,"y":248.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\"id\": \"${model_id}\"}","Evaluation Mode":"Entire text","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Always Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"},{"identifier":"3f2f7b23-b761-3622-b893-667d95a27c95","instanceIdentifier":"f9e2367f-9c14-12f7-b651-b60b5d78e406","name":"MODEL_DB_OPERATION_LOG_ATTRIBUTE","comments":"","position":{"x":144.0,"y":248.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"${flow_name}-a360_model","flow_name":"${flow_name}","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"},{"identifier":"ddb3846f-c05e-30cf-8b15-c3169d95031e","instanceIdentifier":"0d1230fe-b7b9-1c49-a54e-1e9d6b2fe192","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","position":{"x":1400.0,"y":448.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"${flow_name}-a360_model","flow_name":"${flow_name}","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"},{"identifier":"9856008e-ae5a-34a5-a405-32a52ae7bb47","instanceIdentifier":"81663abb-101f-1bff-95ac-3a9bf782a2b5","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","position":{"x":1832.0,"y":248.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"error.sql.state":"404","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"${flow_name}-a360_role","flow_name":"${flow_name}","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}","log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","error.message":"Invalid role_id/client_id present in payload: client_id ${sap_client_id}/role_id ${a360_role_pkey}.","manual_error":"true","error.code":"404"},"propertyDescriptors":{"error.sql.state":{"name":"error.sql.state","displayName":"error.sql.state","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false},"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"error.message":{"name":"error.message","displayName":"error.message","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"error.code":{"name":"error.code","displayName":"error.code","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"}],"inputPorts":[{"identifier":"42066d53-0254-3e0f-934e-22921631b67a","instanceIdentifier":"7b643d40-edcc-1bed-89b3-6ec8a19f9c27","name":"0-role_id_or_client_id_presence","comments":"","position":{"x":1888.0,"y":128.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"},{"identifier":"5454116a-3cd8-35e2-a3df-7d08adac256e","instanceIdentifier":"08573eab-f25f-1670-9ad8-6487031220ea","name":"send_db_logs_role","comments":"","position":{"x":624.0,"y":128.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"},{"identifier":"b4f17064-1529-3d0c-ba58-7144780778d7","instanceIdentifier":"efef35a0-f89e-1e0a-a7ed-ca480eee9f87","name":"0-model-key-presence","comments":"","position":{"x":1040.0,"y":128.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"},{"identifier":"8b43fd30-d3fe-315c-b185-714556fd49a6","instanceIdentifier":"52e6356b-a937-10a8-964b-455d43960d18","name":"1-role_id_or_client_id_presence","comments":"","position":{"x":2304.0,"y":120.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"},{"identifier":"33432b3d-6e15-392c-832a-984baa913001","instanceIdentifier":"1dcc324f-c6e0-10aa-b5a9-dc2018f2142a","name":"1-model-key-presence","comments":"","position":{"x":1456.0,"y":120.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"},{"identifier":"74e60f68-664b-3c49-a5d6-a5f4340daa9e","instanceIdentifier":"60623a8b-4580-17c7-93c2-eefc6a965e80","name":"send_db_logs_model","comments":"","position":{"x":200.0,"y":128.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"}],"outputPorts":[{"identifier":"5014d334-1779-39e7-bb97-b7820b72c544","instanceIdentifier":"e48036c4-4b7e-1ea7-90d4-58fdd547ce7d","name":"log_op","position":{"x":1232.0,"y":992.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"}],"connections":[{"identifier":"3f19fa36-ce1a-3c88-9fe5-76ee98adb861","instanceIdentifier":"b3cd5fd6-0196-1000-0000-00001e175f6c","name":"","source":{"id":"aaee3da2-3e65-38a5-aed9-cd20296a6f2a","type":"PROCESSOR","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"ReplaceText","comments":"","instanceIdentifier":"48223a3e-90fa-15b3-aea4-d0bd38f7e688"},"destination":{"id":"ddb3846f-c05e-30cf-8b15-c3169d95031e","type":"PROCESSOR","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"0d1230fe-b7b9-1c49-a54e-1e9d6b2fe192"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"},{"identifier":"7a2338c8-38af-3ae5-96e8-4fb15655b571","instanceIdentifier":"af520056-0196-1000-ffff-ffffd82257aa","name":"","source":{"id":"9856008e-ae5a-34a5-a405-32a52ae7bb47","type":"PROCESSOR","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"81663abb-101f-1bff-95ac-3a9bf782a2b5"},"destination":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"log_op","instanceIdentifier":"e48036c4-4b7e-1ea7-90d4-58fdd547ce7d"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"},{"identifier":"30201321-3cd9-379f-bd89-9493b4ce5189","instanceIdentifier":"b3cd1b21-0196-1000-ffff-ffffb6cada78","name":"","source":{"id":"33432b3d-6e15-392c-832a-984baa913001","type":"INPUT_PORT","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"1-model-key-presence","comments":"","instanceIdentifier":"1dcc324f-c6e0-10aa-b5a9-dc2018f2142a"},"destination":{"id":"aaee3da2-3e65-38a5-aed9-cd20296a6f2a","type":"PROCESSOR","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"ReplaceText","comments":"","instanceIdentifier":"48223a3e-90fa-15b3-aea4-d0bd38f7e688"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"},{"identifier":"a3c27f77-4881-306f-a420-29ec9f2ae60e","instanceIdentifier":"f2ec31a0-1b63-1d5a-ad98-806c5fafbe4e","name":"","source":{"id":"5454116a-3cd8-35e2-a3df-7d08adac256e","type":"INPUT_PORT","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"send_db_logs_role","comments":"","instanceIdentifier":"08573eab-f25f-1670-9ad8-6487031220ea"},"destination":{"id":"a5d43049-0256-332f-813a-9c118fe81c7a","type":"PROCESSOR","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"ROLE_DB_OPERATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"9d5e3d8c-1f0a-168e-a664-cd19808eed6b"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"},{"identifier":"bc72a497-9064-3826-8cca-ad2a86d63715","instanceIdentifier":"af52151e-0196-1000-0000-000075582acd","name":"","source":{"id":"04929a2e-e8e7-32fd-bfdd-d763f953ce1d","type":"PROCESSOR","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"10a73549-9a41-1bae-b9f9-2e67c7dd5194"},"destination":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"log_op","instanceIdentifier":"e48036c4-4b7e-1ea7-90d4-58fdd547ce7d"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"},{"identifier":"a1e9f7e4-71d6-3267-8eca-ff03519cf062","instanceIdentifier":"b3ce126b-0196-1000-0000-0000648fb500","name":"","source":{"id":"ddb3846f-c05e-30cf-8b15-c3169d95031e","type":"PROCESSOR","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"0d1230fe-b7b9-1c49-a54e-1e9d6b2fe192"},"destination":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"log_op","instanceIdentifier":"e48036c4-4b7e-1ea7-90d4-58fdd547ce7d"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"},{"identifier":"4e116dd8-c815-39e0-8cd8-5413f21c3033","instanceIdentifier":"ab003eb6-5e54-1014-b8b2-ffb74213f9f2","name":"","source":{"id":"04b6bd7d-f84b-3afa-95ab-d7e16a2b8f4d","type":"PROCESSOR","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"b3a33e1f-c1d6-151c-8647-63398967b01c"},"destination":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"log_op","instanceIdentifier":"e48036c4-4b7e-1ea7-90d4-58fdd547ce7d"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"},{"identifier":"4905e7d5-fc52-3e52-bc99-866acd2387ae","instanceIdentifier":"91153093-4cfc-1090-957f-751caea516ca","name":"","source":{"id":"42066d53-0254-3e0f-934e-22921631b67a","type":"INPUT_PORT","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"0-role_id_or_client_id_presence","comments":"","instanceIdentifier":"7b643d40-edcc-1bed-89b3-6ec8a19f9c27"},"destination":{"id":"9856008e-ae5a-34a5-a405-32a52ae7bb47","type":"PROCESSOR","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"81663abb-101f-1bff-95ac-3a9bf782a2b5"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"},{"identifier":"29f4821d-8ea2-3ee3-8839-0cd10a0fe6e8","instanceIdentifier":"869d32c8-c1e9-143c-9d5f-faf1e3f09e43","name":"","source":{"id":"a5d43049-0256-332f-813a-9c118fe81c7a","type":"PROCESSOR","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"ROLE_DB_OPERATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"9d5e3d8c-1f0a-168e-a664-cd19808eed6b"},"destination":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"log_op","instanceIdentifier":"e48036c4-4b7e-1ea7-90d4-58fdd547ce7d"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"},{"identifier":"5484d9e2-49e5-39b9-8cb7-de5188762ff1","instanceIdentifier":"3b103144-11fb-1db8-b4fe-3ee3e4b51634","name":"","source":{"id":"b4f17064-1529-3d0c-ba58-7144780778d7","type":"INPUT_PORT","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"0-model-key-presence","comments":"","instanceIdentifier":"efef35a0-f89e-1e0a-a7ed-ca480eee9f87"},"destination":{"id":"04b6bd7d-f84b-3afa-95ab-d7e16a2b8f4d","type":"PROCESSOR","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"b3a33e1f-c1d6-151c-8647-63398967b01c"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"},{"identifier":"369fded8-5634-32f3-984a-74b76f419fd5","instanceIdentifier":"6f0b3523-2b57-13a3-968a-8e5b4ea645cb","name":"","source":{"id":"74e60f68-664b-3c49-a5d6-a5f4340daa9e","type":"INPUT_PORT","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"send_db_logs_model","comments":"","instanceIdentifier":"60623a8b-4580-17c7-93c2-eefc6a965e80"},"destination":{"id":"3f2f7b23-b761-3622-b893-667d95a27c95","type":"PROCESSOR","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"MODEL_DB_OPERATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"f9e2367f-9c14-12f7-b651-b60b5d78e406"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"},{"identifier":"e51da9ea-b763-3af4-b7b8-1345d5098b54","instanceIdentifier":"d24e3eff-0b3b-1e0d-98f1-0e4498e333e1","name":"","source":{"id":"8b43fd30-d3fe-315c-b185-714556fd49a6","type":"INPUT_PORT","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"1-role_id_or_client_id_presence","comments":"","instanceIdentifier":"52e6356b-a937-10a8-964b-455d43960d18"},"destination":{"id":"04929a2e-e8e7-32fd-bfdd-d763f953ce1d","type":"PROCESSOR","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"10a73549-9a41-1bae-b9f9-2e67c7dd5194"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"},{"identifier":"eace2759-b6e9-3a29-ab6f-fb0926c5f35c","instanceIdentifier":"6f0b354c-2b57-13a3-0000-0000182d8124","name":"","source":{"id":"3f2f7b23-b761-3622-b893-667d95a27c95","type":"PROCESSOR","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"MODEL_DB_OPERATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"f9e2367f-9c14-12f7-b651-b60b5d78e406"},"destination":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"log_op","instanceIdentifier":"e48036c4-4b7e-1ea7-90d4-58fdd547ce7d"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3fa65b6e-6d0e-3939-950c-a297fea4b986"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"}],"remoteProcessGroups":[],"processors":[{"identifier":"bf81c2cc-1cdc-32d1-83bd-9afe2aed7adf","instanceIdentifier":"6a053c4f-3b5d-14c9-9d65-1f3e6d2af4b4","name":"Upsert into a360_model","comments":"","position":{"x":512.0,"y":664.0},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":"WITH model_data AS (\nSELECT CASE WHEN '${model_id}' = 'projects.internal.kfla.models.kfla' THEN 'Standard' ELSE 'Custom' END AS model_type\n)\nINSERT INTO ${idw_schema}.a360_model (source_model_id, model_name, model_type, model_version_number)\nSELECT '${model_id}',\n'${model_name}',\n(SELECT model_type from model_data), \n'${model_version}'\nON CONFLICT (source_model_id)\nDO UPDATE SET \n\tmodel_name = '${model_name}',\n\tmodel_type = (SELECT model_type from model_data)\nRETURNING model_key;","Transaction Timeout":null,"Batch Size":"100","Obtain Generated Keys":"true","JDBC Connection Pool":"a85f0ea0-eb34-37a2-b07a-58b559559082","database-session-autocommit":"true","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"91cf1282-d48b-355d-9737-517f75a07096","instanceIdentifier":"fc91354a-e8d4-1f45-8d8c-bdf1be33affc","name":"Capturing generated model_key as Attribute","comments":"","position":{"x":512.0,"y":912.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"a360_model_pkey":"${sql.generated.key}","Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"a360_model_pkey":{"name":"a360_model_pkey","displayName":"a360_model_pkey","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"10c81881-9de4-32dc-87f6-9b407bee689c","instanceIdentifier":"ec0d3025-48a3-1908-9181-ac78e85ef6d4","name":"GenerateFlowFile","comments":"","position":{"x":840.0,"y":168.0},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"character-set":"UTF-8","File Size":"0B","mime-type":"application/json","generate-ff-custom-text":"{\n  \"adminGroups\": {\n    \"owner\": \"USGSC\"\n  },\n  \"competencies\": [\n    {\n      \"id\": \"competency1\",\n      \"stage\": 4\n    },\n    {\n      \"id\": \"competency2\",\n      \"stage\": 3\n    },\n    {\n      \"id\": \"competency3\",\n      \"stage\": 2\n    }        \n  ],\n  \"id\": 1234,\n  \"isActive\": true,\n  \"model\": {\n    \"id\": \"projects.internal.kfla.models.kfla\",\n    \"version\": \"v1\"\n  },\n  \"name\": \"Sample KF360 Role Test\",\n  \"options\": {},\n  \"sapClientId\": \"SAP_819476\"\n}","Batch Size":"1","Unique FlowFiles":"false","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"1 min","schedulingStrategy":"TIMER_DRIVEN","executionNode":"PRIMARY","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"63686b40-fae3-34d2-b13c-c00691d3d728","instanceIdentifier":"8fa237cc-cc64-1628-b85d-007b3f24aa44","name":"EvaluateJsonPath","comments":"","position":{"x":512.0,"y":416.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"role_name":"$.name","Destination":"flowfile-attribute","source_role_id":"$.id","model_version":"$.model.version","model_name":"$.model.name","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"the string 'null'","model_id":"$.model.id","sap_client_id":"$.sapClientId","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"role_name":{"name":"role_name","displayName":"role_name","identifiesControllerService":false,"sensitive":false},"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"source_role_id":{"name":"source_role_id","displayName":"source_role_id","identifiesControllerService":false,"sensitive":false},"model_version":{"name":"model_version","displayName":"model_version","identifiesControllerService":false,"sensitive":false},"model_name":{"name":"model_name","displayName":"model_name","identifiesControllerService":false,"sensitive":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"model_id":{"name":"model_id","displayName":"model_id","identifiesControllerService":false,"sensitive":false},"sap_client_id":{"name":"sap_client_id","displayName":"sap_client_id","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"c318b542-eb2b-38c8-87e3-533b83fec231","instanceIdentifier":"dbb23859-529f-1493-8940-3e0d84bc1a57","name":"Check presence of model_key","comments":"","position":{"x":512.0,"y":1160.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Routing Strategy":"Route to Property name","is_model_key_present & is_upsert_success":"${a360_model_pkey:isEmpty():not()}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"is_model_key_present & is_upsert_success":{"name":"is_model_key_present & is_upsert_success","displayName":"is_model_key_present & is_upsert_success","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"a9a51b3f-c5c5-3151-b28a-3a0b5c076a4b","instanceIdentifier":"f585385b-78c2-1596-a8ac-1d4ad2f0d63e","name":"Upsert into a360_role","comments":"","position":{"x":512.0,"y":1680.0},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":"WITH client_data AS (\nSELECT client_key FROM ${idw_schema}.client c \nWHERE c.sap_client_id = '${sap_client_id}' and is_active =true and is_deleted= false),\nmodel_data AS (\nSELECT model_key FROM idw.a360_model m \nWHERE m.source_model_id = '${model_id}')\nINSERT INTO ${idw_schema}.a360_role (client_key, source_role_id, role_name, model_key)\n SELECT (SELECT client_key FROM client_data),\n '${source_role_id}',\n '${role_name}',\n (SELECT model_key FROM model_data)\n WHERE EXISTS (\n    SELECT 1 \n    FROM client_data \n    WHERE client_key IS NOT null)\nON CONFLICT (client_key, source_role_id)\nDO UPDATE SET \n\trole_name = '${role_name}',\n\tmodel_key = (SELECT model_key FROM model_data)\nRETURNING role_key;","Transaction Timeout":null,"Batch Size":"100","Obtain Generated Keys":"true","JDBC Connection Pool":"a85f0ea0-eb34-37a2-b07a-58b559559082","database-session-autocommit":"true","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"bd910d74-e40f-3a5f-9599-d9beffbe6135","instanceIdentifier":"db2134f1-4794-10b3-b35d-7809e5db79f3","name":"Capturing generated role_key as Attribute","comments":"","position":{"x":512.0,"y":1928.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"a360_role_pkey":"${sql.generated.key}","Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"a360_role_pkey":{"name":"a360_role_pkey","displayName":"a360_role_pkey","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"ba930a98-1d64-3e03-b101-b4923940ef10","instanceIdentifier":"25f4324d-3a1f-1655-9b9f-1207b4b93262","name":"Check presence of role_key","comments":"","position":{"x":512.0,"y":2184.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Routing Strategy":"Route to Property name","is_role_id_present & is_upsert_success":"${a360_role_pkey:isEmpty():not()}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"is_role_id_present & is_upsert_success":{"name":"is_role_id_present & is_upsert_success","displayName":"is_role_id_present & is_upsert_success","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"c0b13f38-290e-323d-821e-6377e2e0fcee","instanceIdentifier":"79173cd7-2f4b-1967-aae4-62ef9f9a5004","name":"To clear previously generated SQL Key","comments":"","position":{"x":512.0,"y":1408.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":"sql.generated.key","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"}],"inputPorts":[{"identifier":"9e7e8a2b-3a60-35f4-ae43-f7f039bc4f52","instanceIdentifier":"b317b548-0195-1000-0000-000042013adf","name":"RoleInput","comments":"","position":{"x":341.1333725575315,"y":239.94377682391016},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"}],"outputPorts":[{"identifier":"093c65dd-fac8-3586-b230-678f008b16ef","instanceIdentifier":"b31d50af-0195-1000-0000-000035a8d807","name":"RoleOutput","position":{"x":568.0,"y":2448.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"94f8d508-9b03-32d5-800f-20bab690a5fd","instanceIdentifier":"a9472bca-0196-1000-0000-00001918a299","name":"trigger CMS","position":{"x":-144.0,"y":952.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"ee8354dc-7d6c-3942-997d-be6a4eae6333","instanceIdentifier":"b31ee812-0195-1000-ffff-ffff85846452","name":"log_op_port","comments":"","position":{"x":1496.0,"y":1088.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"}],"connections":[{"identifier":"40afe0b3-5f6d-3ec9-9d75-82557796bc2a","instanceIdentifier":"b31f213c-0195-1000-ffff-ffff9abc9699","name":"","source":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"log_op","instanceIdentifier":"e48036c4-4b7e-1ea7-90d4-58fdd547ce7d"},"destination":{"id":"ee8354dc-7d6c-3942-997d-be6a4eae6333","type":"OUTPUT_PORT","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"log_op_port","comments":"","instanceIdentifier":"b31ee812-0195-1000-ffff-ffff85846452"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"411005c1-beb0-3a39-9a07-a582eec82a5f","instanceIdentifier":"af598451-0196-1000-ffff-ffffa61bc049","name":"","source":{"id":"c318b542-eb2b-38c8-87e3-533b83fec231","type":"PROCESSOR","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"Check presence of model_key","comments":"","instanceIdentifier":"dbb23859-529f-1493-8940-3e0d84bc1a57"},"destination":{"id":"33432b3d-6e15-392c-832a-984baa913001","type":"INPUT_PORT","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"1-model-key-presence","comments":"","instanceIdentifier":"1dcc324f-c6e0-10aa-b5a9-dc2018f2142a"},"labelIndex":1,"zIndex":0,"selectedRelationships":["is_model_key_present & is_upsert_success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"3c3b6650-69d4-3a32-ae29-160d87c4d2cb","instanceIdentifier":"81149692-0196-1000-0000-00001aa8b911","name":"","source":{"id":"bf81c2cc-1cdc-32d1-83bd-9afe2aed7adf","type":"PROCESSOR","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"Upsert into a360_model","comments":"","instanceIdentifier":"6a053c4f-3b5d-14c9-9d65-1f3e6d2af4b4"},"destination":{"id":"91cf1282-d48b-355d-9737-517f75a07096","type":"PROCESSOR","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"Capturing generated model_key as Attribute","comments":"","instanceIdentifier":"fc91354a-e8d4-1f45-8d8c-bdf1be33affc"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"aaecce00-38e3-3d6e-85c9-2e9911551525","instanceIdentifier":"af5a7d31-0196-1000-0000-00003a15bece","name":"","source":{"id":"ba930a98-1d64-3e03-b101-b4923940ef10","type":"PROCESSOR","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"Check presence of role_key","comments":"","instanceIdentifier":"25f4324d-3a1f-1655-9b9f-1207b4b93262"},"destination":{"id":"42066d53-0254-3e0f-934e-22921631b67a","type":"INPUT_PORT","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"0-role_id_or_client_id_presence","comments":"","instanceIdentifier":"7b643d40-edcc-1bed-89b3-6ec8a19f9c27"},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1152.0,"y":1829.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"de72f09b-c928-322e-ae6a-f7c8e0aca1ef","instanceIdentifier":"af2ee03f-0196-1000-ffff-ffffbe166d1d","name":"","source":{"id":"a9a51b3f-c5c5-3151-b28a-3a0b5c076a4b","type":"PROCESSOR","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"Upsert into a360_role","comments":"","instanceIdentifier":"f585385b-78c2-1596-a8ac-1d4ad2f0d63e"},"destination":{"id":"bd910d74-e40f-3a5f-9599-d9beffbe6135","type":"PROCESSOR","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"Capturing generated role_key as Attribute","comments":"","instanceIdentifier":"db2134f1-4794-10b3-b35d-7809e5db79f3"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"d0bebf20-374a-383d-99b3-c4fbb5378bc9","instanceIdentifier":"af58a7e9-0196-1000-0000-000061bc7bd1","name":"","source":{"id":"c318b542-eb2b-38c8-87e3-533b83fec231","type":"PROCESSOR","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"Check presence of model_key","comments":"","instanceIdentifier":"dbb23859-529f-1493-8940-3e0d84bc1a57"},"destination":{"id":"c0b13f38-290e-323d-821e-6377e2e0fcee","type":"PROCESSOR","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"To clear previously generated SQL Key","comments":"","instanceIdentifier":"79173cd7-2f4b-1967-aae4-62ef9f9a5004"},"labelIndex":1,"zIndex":0,"selectedRelationships":["is_model_key_present & is_upsert_success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"95af8018-3407-353e-9fd0-928dd7d3fa55","instanceIdentifier":"af599e65-0196-1000-ffff-fffff39b7659","name":"","source":{"id":"c318b542-eb2b-38c8-87e3-533b83fec231","type":"PROCESSOR","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"Check presence of model_key","comments":"","instanceIdentifier":"dbb23859-529f-1493-8940-3e0d84bc1a57"},"destination":{"id":"b4f17064-1529-3d0c-ba58-7144780778d7","type":"INPUT_PORT","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"0-model-key-presence","comments":"","instanceIdentifier":"efef35a0-f89e-1e0a-a7ed-ca480eee9f87"},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1088.0,"y":1240.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"a7517197-4e08-31a0-92c0-fc200b88bb28","instanceIdentifier":"af2eb33f-0196-1000-ffff-ffff82fec7f6","name":"","source":{"id":"c0b13f38-290e-323d-821e-6377e2e0fcee","type":"PROCESSOR","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"To clear previously generated SQL Key","comments":"","instanceIdentifier":"79173cd7-2f4b-1967-aae4-62ef9f9a5004"},"destination":{"id":"a9a51b3f-c5c5-3151-b28a-3a0b5c076a4b","type":"PROCESSOR","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"Upsert into a360_role","comments":"","instanceIdentifier":"f585385b-78c2-1596-a8ac-1d4ad2f0d63e"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"342366f9-9149-3d76-b4ba-a8aeb800eb4d","instanceIdentifier":"b3177931-0195-1000-0000-0000342c56b3","name":"","source":{"id":"10c81881-9de4-32dc-87f6-9b407bee689c","type":"PROCESSOR","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"GenerateFlowFile","comments":"","instanceIdentifier":"ec0d3025-48a3-1908-9181-ac78e85ef6d4"},"destination":{"id":"63686b40-fae3-34d2-b13c-c00691d3d728","type":"PROCESSOR","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"8fa237cc-cc64-1628-b85d-007b3f24aa44"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"b351244a-e670-3019-8c4d-bc0a531d5fd7","instanceIdentifier":"aef59fdd-0196-1000-ffff-fffface5d6b6","name":"","source":{"id":"91cf1282-d48b-355d-9737-517f75a07096","type":"PROCESSOR","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"Capturing generated model_key as Attribute","comments":"","instanceIdentifier":"fc91354a-e8d4-1f45-8d8c-bdf1be33affc"},"destination":{"id":"94f8d508-9b03-32d5-800f-20bab690a5fd","type":"OUTPUT_PORT","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"trigger CMS","instanceIdentifier":"a9472bca-0196-1000-0000-00001918a299"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"4d30869f-8268-3a5c-97dd-890a6e909930","instanceIdentifier":"b317cd0c-0195-1000-ffff-ffff9967204a","name":"","source":{"id":"9e7e8a2b-3a60-35f4-ae43-f7f039bc4f52","type":"INPUT_PORT","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"RoleInput","comments":"","instanceIdentifier":"b317b548-0195-1000-0000-000042013adf"},"destination":{"id":"63686b40-fae3-34d2-b13c-c00691d3d728","type":"PROCESSOR","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"8fa237cc-cc64-1628-b85d-007b3f24aa44"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"1f933559-ad9c-3a7b-88ef-f854ecb528a4","instanceIdentifier":"042a4158-1ea6-178f-0000-00002f692254","name":"","source":{"id":"ba930a98-1d64-3e03-b101-b4923940ef10","type":"PROCESSOR","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"Check presence of role_key","comments":"","instanceIdentifier":"25f4324d-3a1f-1655-9b9f-1207b4b93262"},"destination":{"id":"093c65dd-fac8-3586-b230-678f008b16ef","type":"OUTPUT_PORT","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"RoleOutput","instanceIdentifier":"b31d50af-0195-1000-0000-000035a8d807"},"labelIndex":1,"zIndex":0,"selectedRelationships":["is_role_id_present & is_upsert_success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"6fd7adca-00c1-3c9e-88ef-a1813645303f","instanceIdentifier":"8080d7c2-0196-1000-ffff-ffffedf719b1","name":"","source":{"id":"63686b40-fae3-34d2-b13c-c00691d3d728","type":"PROCESSOR","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"8fa237cc-cc64-1628-b85d-007b3f24aa44"},"destination":{"id":"bf81c2cc-1cdc-32d1-83bd-9afe2aed7adf","type":"PROCESSOR","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"Upsert into a360_model","comments":"","instanceIdentifier":"6a053c4f-3b5d-14c9-9d65-1f3e6d2af4b4"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"91fd4a6f-b3a2-3fc3-a47b-036562593f8e","instanceIdentifier":"af5a47f1-0196-1000-0000-0000159b7634","name":"","source":{"id":"ba930a98-1d64-3e03-b101-b4923940ef10","type":"PROCESSOR","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"Check presence of role_key","comments":"","instanceIdentifier":"25f4324d-3a1f-1655-9b9f-1207b4b93262"},"destination":{"id":"8b43fd30-d3fe-315c-b185-714556fd49a6","type":"INPUT_PORT","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"1-role_id_or_client_id_presence","comments":"","instanceIdentifier":"52e6356b-a937-10a8-964b-455d43960d18"},"labelIndex":1,"zIndex":0,"selectedRelationships":["is_role_id_present & is_upsert_success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"7cbb0f31-d387-3ab7-b453-c7d2525417c5","instanceIdentifier":"6f0b35b3-2b57-13a3-ffff-ffffd97bb1a6","name":"","source":{"id":"bf81c2cc-1cdc-32d1-83bd-9afe2aed7adf","type":"PROCESSOR","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"Upsert into a360_model","comments":"","instanceIdentifier":"6a053c4f-3b5d-14c9-9d65-1f3e6d2af4b4"},"destination":{"id":"74e60f68-664b-3c49-a5d6-a5f4340daa9e","type":"INPUT_PORT","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"send_db_logs_model","comments":"","instanceIdentifier":"60623a8b-4580-17c7-93c2-eefc6a965e80"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure","retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"4a294495-b2d5-3e27-98d9-d9b0dc183cc8","instanceIdentifier":"af55cd0f-0196-1000-0000-000040965890","name":"","source":{"id":"91cf1282-d48b-355d-9737-517f75a07096","type":"PROCESSOR","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"Capturing generated model_key as Attribute","comments":"","instanceIdentifier":"fc91354a-e8d4-1f45-8d8c-bdf1be33affc"},"destination":{"id":"c318b542-eb2b-38c8-87e3-533b83fec231","type":"PROCESSOR","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"Check presence of model_key","comments":"","instanceIdentifier":"dbb23859-529f-1493-8940-3e0d84bc1a57"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"2f84c246-2205-3000-9a6c-218bbf1b05ba","instanceIdentifier":"76b33329-6c48-1b8e-b0a5-5c8b9e442cc5","name":"","source":{"id":"bd910d74-e40f-3a5f-9599-d9beffbe6135","type":"PROCESSOR","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"Capturing generated role_key as Attribute","comments":"","instanceIdentifier":"db2134f1-4794-10b3-b35d-7809e5db79f3"},"destination":{"id":"ba930a98-1d64-3e03-b101-b4923940ef10","type":"PROCESSOR","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"Check presence of role_key","comments":"","instanceIdentifier":"25f4324d-3a1f-1655-9b9f-1207b4b93262"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"},{"identifier":"66f2428b-d978-344d-bd8e-b041a214ed57","instanceIdentifier":"b3181636-0195-1000-0000-00001b048d08","name":"","source":{"id":"a9a51b3f-c5c5-3151-b28a-3a0b5c076a4b","type":"PROCESSOR","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"Upsert into a360_role","comments":"","instanceIdentifier":"f585385b-78c2-1596-a8ac-1d4ad2f0d63e"},"destination":{"id":"5454116a-3cd8-35e2-a3df-7d08adac256e","type":"INPUT_PORT","groupId":"3fa65b6e-6d0e-3939-950c-a297fea4b986","name":"send_db_logs_role","comments":"","instanceIdentifier":"08573eab-f25f-1670-9ad8-6487031220ea"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure","retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b1823eb0-4209-30f0-9dc3-375942627a31"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"idw_db_secrets","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"2ab28661-a7b2-3130-9b13-bbca66016bfa"},{"identifier":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45","instanceIdentifier":"b31b47eb-0195-1000-ffff-ffffda3588e2","name":"Role Competency","comments":"","position":{"x":-384.0,"y":360.0},"processGroups":[{"identifier":"6f2895ba-62b4-39d9-92a4-76fcd882d745","instanceIdentifier":"598032cd-f38a-1f23-a375-7143bbd05cd4","name":"FRAME LOGS","comments":"","position":{"x":968.0,"y":656.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"48e14633-8213-340b-89a1-7bea70a99b1f","instanceIdentifier":"3eaf336e-eaf1-1060-8f14-cb4dea9daef9","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","position":{"x":1816.0,"y":256.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"${flow_name}-a360_role_competency","flow_name":"${flow_name}","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"6f2895ba-62b4-39d9-92a4-76fcd882d745"},{"identifier":"a5d43049-0256-332f-813a-9c118fe81c7a","instanceIdentifier":"3d063c3d-9ab4-1f6b-9f89-dda79d29b458","name":"DB_OPERATION_LOG_ATTRIBUTE","comments":"","position":{"x":832.0,"y":256.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"${flow_name}-a360_role_competency","flow_name":"${flow_name}","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"6f2895ba-62b4-39d9-92a4-76fcd882d745"},{"identifier":"518a7f71-676a-3ce4-a9f1-05ea73748ca3","instanceIdentifier":"916a3e71-0ddb-1156-b3c3-ef89ce68fddf","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","position":{"x":1408.0,"y":256.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"error.sql.state":"404","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"${flow_name}-a360_role_competency","flow_name":"${flow_name}","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}","log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","error.message":"Invalid competency_id present in payload: competency_id: ${competency_id}.","manual_error":"true","error.code":"404"},"propertyDescriptors":{"error.sql.state":{"name":"error.sql.state","displayName":"error.sql.state","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false},"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"error.message":{"name":"error.message","displayName":"error.message","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"error.code":{"name":"error.code","displayName":"error.code","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"6f2895ba-62b4-39d9-92a4-76fcd882d745"},{"identifier":"dbb5becb-c7cc-3359-a0d1-e0d49e393a72","instanceIdentifier":"c51a3006-bac8-1a17-9e49-3f741fb866b4","name":"DB_OPERATION_LOG_ATTRIBUTE","comments":"","position":{"x":392.0,"y":288.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"${flow_name}-a360_role_competency","flow_name":"${flow_name}","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"6f2895ba-62b4-39d9-92a4-76fcd882d745"}],"inputPorts":[{"identifier":"5454116a-3cd8-35e2-a3df-7d08adac256e","instanceIdentifier":"d50130f0-9100-12f1-a78d-d2c76a1a09d4","name":"failure_db_logs","comments":"","position":{"x":888.0,"y":136.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"6f2895ba-62b4-39d9-92a4-76fcd882d745"},{"identifier":"75f77bac-a69f-379b-8d7c-10abab059453","instanceIdentifier":"32a53ec5-04a9-1ada-969d-da35d34357f6","name":"0-competency_id_presence","comments":"","position":{"x":1456.0,"y":136.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"6f2895ba-62b4-39d9-92a4-76fcd882d745"},{"identifier":"2f1fec5a-c40d-338f-8dac-9b35946aff99","instanceIdentifier":"f3193fba-d715-1f7a-8b30-3d375ef7dbd3","name":"1-competency_id_presence","comments":"","position":{"x":1864.0,"y":136.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"6f2895ba-62b4-39d9-92a4-76fcd882d745"},{"identifier":"b95edf08-41cc-3042-b812-1c4c85a52e9e","instanceIdentifier":"42a33630-f1c8-1bfd-87b2-5487a9c632fe","name":"failure_db_logs_soft_deleted","comments":"","position":{"x":440.0,"y":136.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"6f2895ba-62b4-39d9-92a4-76fcd882d745"}],"outputPorts":[{"identifier":"5014d334-1779-39e7-bb97-b7820b72c544","instanceIdentifier":"f13b3719-a25f-10f4-af4f-0910c5257867","name":"log_op_port","comments":"","position":{"x":1392.0,"y":568.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"6f2895ba-62b4-39d9-92a4-76fcd882d745"}],"connections":[{"identifier":"d6ed8073-50b8-3147-a22d-31529a3fd239","instanceIdentifier":"ce21e9dd-0195-1000-0000-00007c47243d","name":"","source":{"id":"75f77bac-a69f-379b-8d7c-10abab059453","type":"INPUT_PORT","groupId":"6f2895ba-62b4-39d9-92a4-76fcd882d745","name":"0-competency_id_presence","comments":"","instanceIdentifier":"32a53ec5-04a9-1ada-969d-da35d34357f6"},"destination":{"id":"518a7f71-676a-3ce4-a9f1-05ea73748ca3","type":"PROCESSOR","groupId":"6f2895ba-62b4-39d9-92a4-76fcd882d745","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"916a3e71-0ddb-1156-b3c3-ef89ce68fddf"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6f2895ba-62b4-39d9-92a4-76fcd882d745"},{"identifier":"29f4821d-8ea2-3ee3-8839-0cd10a0fe6e8","instanceIdentifier":"2fba368f-9ef0-17c1-9dd0-96c96cbf6e11","name":"","source":{"id":"a5d43049-0256-332f-813a-9c118fe81c7a","type":"PROCESSOR","groupId":"6f2895ba-62b4-39d9-92a4-76fcd882d745","name":"DB_OPERATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"3d063c3d-9ab4-1f6b-9f89-dda79d29b458"},"destination":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"6f2895ba-62b4-39d9-92a4-76fcd882d745","name":"log_op_port","comments":"","instanceIdentifier":"f13b3719-a25f-10f4-af4f-0910c5257867"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6f2895ba-62b4-39d9-92a4-76fcd882d745"},{"identifier":"43960980-441c-39ce-bb17-6f786100318b","instanceIdentifier":"ce223eec-0195-1000-ffff-ffff8d630ddb","name":"","source":{"id":"48e14633-8213-340b-89a1-7bea70a99b1f","type":"PROCESSOR","groupId":"6f2895ba-62b4-39d9-92a4-76fcd882d745","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"3eaf336e-eaf1-1060-8f14-cb4dea9daef9"},"destination":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"6f2895ba-62b4-39d9-92a4-76fcd882d745","name":"log_op_port","comments":"","instanceIdentifier":"f13b3719-a25f-10f4-af4f-0910c5257867"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6f2895ba-62b4-39d9-92a4-76fcd882d745"},{"identifier":"ce450225-ac5f-37bf-a76c-71ee826a4c02","instanceIdentifier":"ce2218b2-0195-1000-0000-0000578cc6df","name":"","source":{"id":"2f1fec5a-c40d-338f-8dac-9b35946aff99","type":"INPUT_PORT","groupId":"6f2895ba-62b4-39d9-92a4-76fcd882d745","name":"1-competency_id_presence","comments":"","instanceIdentifier":"f3193fba-d715-1f7a-8b30-3d375ef7dbd3"},"destination":{"id":"48e14633-8213-340b-89a1-7bea70a99b1f","type":"PROCESSOR","groupId":"6f2895ba-62b4-39d9-92a4-76fcd882d745","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"3eaf336e-eaf1-1060-8f14-cb4dea9daef9"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6f2895ba-62b4-39d9-92a4-76fcd882d745"},{"identifier":"b5c5e5b6-2efa-3929-afea-d74e57f89a62","instanceIdentifier":"ce222840-0195-1000-0000-000042b091e7","name":"","source":{"id":"518a7f71-676a-3ce4-a9f1-05ea73748ca3","type":"PROCESSOR","groupId":"6f2895ba-62b4-39d9-92a4-76fcd882d745","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"916a3e71-0ddb-1156-b3c3-ef89ce68fddf"},"destination":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"6f2895ba-62b4-39d9-92a4-76fcd882d745","name":"log_op_port","comments":"","instanceIdentifier":"f13b3719-a25f-10f4-af4f-0910c5257867"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6f2895ba-62b4-39d9-92a4-76fcd882d745"},{"identifier":"5331df82-b7ce-333a-a142-c973158f3d8e","instanceIdentifier":"15717fd5-0196-1000-ffff-ffffe5886b9a","name":"","source":{"id":"dbb5becb-c7cc-3359-a0d1-e0d49e393a72","type":"PROCESSOR","groupId":"6f2895ba-62b4-39d9-92a4-76fcd882d745","name":"DB_OPERATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"c51a3006-bac8-1a17-9e49-3f741fb866b4"},"destination":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"6f2895ba-62b4-39d9-92a4-76fcd882d745","name":"log_op_port","comments":"","instanceIdentifier":"f13b3719-a25f-10f4-af4f-0910c5257867"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6f2895ba-62b4-39d9-92a4-76fcd882d745"},{"identifier":"a3c27f77-4881-306f-a420-29ec9f2ae60e","instanceIdentifier":"3ef73d25-8f5d-1c90-bcc3-fff705151edc","name":"","source":{"id":"5454116a-3cd8-35e2-a3df-7d08adac256e","type":"INPUT_PORT","groupId":"6f2895ba-62b4-39d9-92a4-76fcd882d745","name":"failure_db_logs","comments":"","instanceIdentifier":"d50130f0-9100-12f1-a78d-d2c76a1a09d4"},"destination":{"id":"a5d43049-0256-332f-813a-9c118fe81c7a","type":"PROCESSOR","groupId":"6f2895ba-62b4-39d9-92a4-76fcd882d745","name":"DB_OPERATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"3d063c3d-9ab4-1f6b-9f89-dda79d29b458"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6f2895ba-62b4-39d9-92a4-76fcd882d745"},{"identifier":"1c14c6c2-2c8b-3781-a73a-33e89f499c52","instanceIdentifier":"1570a38f-0196-1000-ffff-ffff96e5d8c7","name":"","source":{"id":"b95edf08-41cc-3042-b812-1c4c85a52e9e","type":"INPUT_PORT","groupId":"6f2895ba-62b4-39d9-92a4-76fcd882d745","name":"failure_db_logs_soft_deleted","comments":"","instanceIdentifier":"42a33630-f1c8-1bfd-87b2-5487a9c632fe"},"destination":{"id":"dbb5becb-c7cc-3359-a0d1-e0d49e393a72","type":"PROCESSOR","groupId":"6f2895ba-62b4-39d9-92a4-76fcd882d745","name":"DB_OPERATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"c51a3006-bac8-1a17-9e49-3f741fb866b4"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6f2895ba-62b4-39d9-92a4-76fcd882d745"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45"}],"remoteProcessGroups":[],"processors":[{"identifier":"1e16f594-e19e-3bb6-b813-929c4ee2687f","instanceIdentifier":"8b377fae-0195-1000-ffff-ffffe7de9f47","name":"Upsert into a360_role_competency","comments":"","position":{"x":-384.0,"y":1040.0},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":"WITH competency_data AS (\nSELECT competency_key FROM ${idw_schema}.a360_competency c \nWHERE c.source_competency_id = '${competency_id}')\nINSERT INTO ${idw_schema}.a360_role_competency (role_key, competency_key)\n SELECT '${a360_role_pkey}',\n  (SELECT competency_key FROM competency_data)\n WHERE EXISTS (\n    SELECT 1 \n    FROM competency_data \n    WHERE competency_key IS NOT null)\nON CONFLICT (role_key, competency_key)\nDO UPDATE SET \n\trole_key = EXCLUDED.role_key,\n\tcompetency_key = EXCLUDED.competency_key,\n\tis_deleted=false\nRETURNING role_competency_key;","Transaction Timeout":null,"Batch Size":"100","Obtain Generated Keys":"true","JDBC Connection Pool":"a85f0ea0-eb34-37a2-b07a-58b559559082","database-session-autocommit":"true","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45"},{"identifier":"39e2935c-bb58-3815-b2cb-4a46b54f3ac1","instanceIdentifier":"2e833ce7-dcf9-18a7-ffff-ffffc8daadfc","name":"Capturing generated role_competency_key as attribute","comments":"","position":{"x":-392.0,"y":1264.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"a360_role_competency_pkey":"${sql.generated.key}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"a360_role_competency_pkey":{"name":"a360_role_competency_pkey","displayName":"a360_role_competency_pkey","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45"},{"identifier":"e939a4fe-cebc-33c8-9373-34dcebd0a888","instanceIdentifier":"ce22a0bd-0195-1000-ffff-ffff9f55db88","name":"Check for presence of competency_id","comments":"","position":{"x":-384.0,"y":1504.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Routing Strategy":"Route to Property name","is_competency_id_present & is_upsert_success":"${a360_role_competency_pkey:isEmpty():not()}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"is_competency_id_present & is_upsert_success":{"name":"is_competency_id_present & is_upsert_success","displayName":"is_competency_id_present & is_upsert_success","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45"},{"identifier":"d3fac939-9e6e-3ca1-9420-d7045dd98feb","instanceIdentifier":"d14e6091-0195-1000-ffff-ffffeae8a48e","name":"To clear previously generated SQL Key","comments":"","position":{"x":-384.0,"y":792.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":"sql.generated.key","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45"},{"identifier":"09eb8e29-d808-3c01-a190-842107c2f807","instanceIdentifier":"1560687c-0196-1000-0000-00003cf0c446","name":"a360_role_competency_soft_delete","comments":"","position":{"x":-376.0,"y":96.0},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":" UPDATE ${idw_schema}.a360_role_competency rc\n    SET is_deleted = true\n    WHERE rc.role_key = '${a360_role_pkey}'","Transaction Timeout":null,"Batch Size":"100","Obtain Generated Keys":"false","JDBC Connection Pool":"a85f0ea0-eb34-37a2-b07a-58b559559082","database-session-autocommit":"true","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45"},{"identifier":"08280a97-9265-3788-8508-e2143d48811e","instanceIdentifier":"f99a57c7-56c5-101b-0000-000036b13a11","name":"Splitting Competency Array","comments":"","position":{"x":-384.0,"y":312.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.competencies[*]"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45"},{"identifier":"5869c652-40f8-3e4a-9800-4e54fc332549","instanceIdentifier":"8b34f875-0195-1000-ffff-ffffea52fa7e","name":"Capturing Competency ID","comments":"","position":{"x":-384.0,"y":560.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Destination":"flowfile-attribute","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"the string 'null'","competency_id":"$.id","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"competency_id":{"name":"competency_id","displayName":"competency_id","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45"}],"inputPorts":[{"identifier":"682c90e0-d0f0-3483-881f-c946e31c1375","instanceIdentifier":"b31cd250-0195-1000-ffff-ffffcee4ce00","name":"RoleCompetencyInput","position":{"x":-328.0,"y":-40.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45"}],"outputPorts":[{"identifier":"c5335789-1e16-3489-a1a0-a5215a6f5d33","instanceIdentifier":"b3c98e0a-0195-1000-0000-00000933f807","name":"log_op_port","position":{"x":520.0,"y":1600.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45"}],"connections":[{"identifier":"760f02b3-894a-3b78-beb5-4f6c7c21f540","instanceIdentifier":"b3c7456a-0195-1000-0000-0000528a0f03","name":"","source":{"id":"1e16f594-e19e-3bb6-b813-929c4ee2687f","type":"PROCESSOR","groupId":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45","name":"Upsert into a360_role_competency","comments":"","instanceIdentifier":"8b377fae-0195-1000-ffff-ffffe7de9f47"},"destination":{"id":"39e2935c-bb58-3815-b2cb-4a46b54f3ac1","type":"PROCESSOR","groupId":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45","name":"Capturing generated role_competency_key as attribute","comments":"","instanceIdentifier":"2e833ce7-dcf9-18a7-ffff-ffffc8daadfc"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45"},{"identifier":"e4e09fb0-3166-3e07-922b-ace8c3df5eb3","instanceIdentifier":"15656e46-0196-1000-ffff-ffff89f0d388","name":"","source":{"id":"d3fac939-9e6e-3ca1-9420-d7045dd98feb","type":"PROCESSOR","groupId":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45","name":"To clear previously generated SQL Key","comments":"","instanceIdentifier":"d14e6091-0195-1000-ffff-ffffeae8a48e"},"destination":{"id":"1e16f594-e19e-3bb6-b813-929c4ee2687f","type":"PROCESSOR","groupId":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45","name":"Upsert into a360_role_competency","comments":"","instanceIdentifier":"8b377fae-0195-1000-ffff-ffffe7de9f47"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45"},{"identifier":"0532db9d-5330-3ed5-9b5d-f7c4b98ab50e","instanceIdentifier":"d15c4573-0195-1000-ffff-fffff8383ad1","name":"","source":{"id":"5869c652-40f8-3e4a-9800-4e54fc332549","type":"PROCESSOR","groupId":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45","name":"Capturing Competency ID","comments":"","instanceIdentifier":"8b34f875-0195-1000-ffff-ffffea52fa7e"},"destination":{"id":"d3fac939-9e6e-3ca1-9420-d7045dd98feb","type":"PROCESSOR","groupId":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45","name":"To clear previously generated SQL Key","comments":"","instanceIdentifier":"d14e6091-0195-1000-ffff-ffffeae8a48e"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45"},{"identifier":"dfb608fa-3bad-32d4-9e8a-b784d30d0d4d","instanceIdentifier":"15613a67-0196-1000-ffff-ffff9595ac91","name":"","source":{"id":"682c90e0-d0f0-3483-881f-c946e31c1375","type":"INPUT_PORT","groupId":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45","name":"RoleCompetencyInput","instanceIdentifier":"b31cd250-0195-1000-ffff-ffffcee4ce00"},"destination":{"id":"09eb8e29-d808-3c01-a190-842107c2f807","type":"PROCESSOR","groupId":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45","name":"a360_role_competency_soft_delete","comments":"","instanceIdentifier":"1560687c-0196-1000-0000-00003cf0c446"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45"},{"identifier":"7423b84a-9960-3a60-86c9-6b94ad922564","instanceIdentifier":"2e833d0a-dcf9-18a7-0000-00003e2040a8","name":"","source":{"id":"39e2935c-bb58-3815-b2cb-4a46b54f3ac1","type":"PROCESSOR","groupId":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45","name":"Capturing generated role_competency_key as attribute","comments":"","instanceIdentifier":"2e833ce7-dcf9-18a7-ffff-ffffc8daadfc"},"destination":{"id":"e939a4fe-cebc-33c8-9373-34dcebd0a888","type":"PROCESSOR","groupId":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45","name":"Check for presence of competency_id","comments":"","instanceIdentifier":"ce22a0bd-0195-1000-ffff-ffff9f55db88"},"labelIndex":1,"zIndex":1,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45"},{"identifier":"4a60c4c3-20de-3a8a-a4c3-2735367d25bf","instanceIdentifier":"b3c5e1ba-0195-1000-ffff-ffffb08d44fa","name":"","source":{"id":"1e16f594-e19e-3bb6-b813-929c4ee2687f","type":"PROCESSOR","groupId":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45","name":"Upsert into a360_role_competency","comments":"","instanceIdentifier":"8b377fae-0195-1000-ffff-ffffe7de9f47"},"destination":{"id":"5454116a-3cd8-35e2-a3df-7d08adac256e","type":"INPUT_PORT","groupId":"6f2895ba-62b4-39d9-92a4-76fcd882d745","name":"failure_db_logs","comments":"","instanceIdentifier":"d50130f0-9100-12f1-a78d-d2c76a1a09d4"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure","retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45"},{"identifier":"f76740cf-d0b3-37f4-8bd9-322309a0c721","instanceIdentifier":"1573ba52-0196-1000-0000-000013cecb63","name":"","source":{"id":"09eb8e29-d808-3c01-a190-842107c2f807","type":"PROCESSOR","groupId":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45","name":"a360_role_competency_soft_delete","comments":"","instanceIdentifier":"1560687c-0196-1000-0000-00003cf0c446"},"destination":{"id":"b95edf08-41cc-3042-b812-1c4c85a52e9e","type":"INPUT_PORT","groupId":"6f2895ba-62b4-39d9-92a4-76fcd882d745","name":"failure_db_logs_soft_deleted","comments":"","instanceIdentifier":"42a33630-f1c8-1bfd-87b2-5487a9c632fe"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure","retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45"},{"identifier":"4da2d11b-6548-3d5c-909b-d13a85f656dd","instanceIdentifier":"ce27154d-0195-1000-0000-000058511bd8","name":"","source":{"id":"e939a4fe-cebc-33c8-9373-34dcebd0a888","type":"PROCESSOR","groupId":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45","name":"Check for presence of competency_id","comments":"","instanceIdentifier":"ce22a0bd-0195-1000-ffff-ffff9f55db88"},"destination":{"id":"2f1fec5a-c40d-338f-8dac-9b35946aff99","type":"INPUT_PORT","groupId":"6f2895ba-62b4-39d9-92a4-76fcd882d745","name":"1-competency_id_presence","comments":"","instanceIdentifier":"f3193fba-d715-1f7a-8b30-3d375ef7dbd3"},"labelIndex":1,"zIndex":0,"selectedRelationships":["is_competency_id_present & is_upsert_success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":216.0,"y":1385.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45"},{"identifier":"caef7511-3597-33ae-aebb-7657a939b3a1","instanceIdentifier":"1563679b-0196-1000-ffff-ffff809b1e33","name":"","source":{"id":"09eb8e29-d808-3c01-a190-842107c2f807","type":"PROCESSOR","groupId":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45","name":"a360_role_competency_soft_delete","comments":"","instanceIdentifier":"1560687c-0196-1000-0000-00003cf0c446"},"destination":{"id":"08280a97-9265-3788-8508-e2143d48811e","type":"PROCESSOR","groupId":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45","name":"Splitting Competency Array","comments":"","instanceIdentifier":"f99a57c7-56c5-101b-0000-000036b13a11"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45"},{"identifier":"f043a742-4a83-3921-a20d-3e4aef36efe0","instanceIdentifier":"b3c9afee-0195-1000-0000-000025617cf5","name":"","source":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"6f2895ba-62b4-39d9-92a4-76fcd882d745","name":"log_op_port","comments":"","instanceIdentifier":"f13b3719-a25f-10f4-af4f-0910c5257867"},"destination":{"id":"c5335789-1e16-3489-a1a0-a5215a6f5d33","type":"OUTPUT_PORT","groupId":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45","name":"log_op_port","instanceIdentifier":"b3c98e0a-0195-1000-0000-00000933f807"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45"},{"identifier":"3205f08d-7ac2-361a-9c56-6c8abc7e3a2f","instanceIdentifier":"ce26f45f-0195-1000-ffff-ffffe2c25466","name":"","source":{"id":"e939a4fe-cebc-33c8-9373-34dcebd0a888","type":"PROCESSOR","groupId":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45","name":"Check for presence of competency_id","comments":"","instanceIdentifier":"ce22a0bd-0195-1000-ffff-ffff9f55db88"},"destination":{"id":"75f77bac-a69f-379b-8d7c-10abab059453","type":"INPUT_PORT","groupId":"6f2895ba-62b4-39d9-92a4-76fcd882d745","name":"0-competency_id_presence","comments":"","instanceIdentifier":"32a53ec5-04a9-1ada-969d-da35d34357f6"},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45"},{"identifier":"dfb4a9f5-829b-3c83-bd5a-964a8df4a8aa","instanceIdentifier":"8b351d6e-0195-1000-ffff-ffffcf700153","name":"","source":{"id":"08280a97-9265-3788-8508-e2143d48811e","type":"PROCESSOR","groupId":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45","name":"Splitting Competency Array","comments":"","instanceIdentifier":"f99a57c7-56c5-101b-0000-000036b13a11"},"destination":{"id":"5869c652-40f8-3e4a-9800-4e54fc332549","type":"PROCESSOR","groupId":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45","name":"Capturing Competency ID","comments":"","instanceIdentifier":"8b34f875-0195-1000-ffff-ffffea52fa7e"},"labelIndex":1,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"idw_db_secrets","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"2ab28661-a7b2-3130-9b13-bbca66016bfa"}],"remoteProcessGroups":[],"processors":[],"inputPorts":[{"identifier":"5ec56411-5640-36c2-a7b2-42dcd3f2ba42","instanceIdentifier":"8a5b3517-526c-10c3-0000-00001a32d6a0","name":"RoleInput","position":{"x":-312.0,"y":-64.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"2ab28661-a7b2-3130-9b13-bbca66016bfa"}],"outputPorts":[{"identifier":"0c59926c-e3f9-3c48-b2b4-3b635ceff75d","instanceIdentifier":"ad063055-f4ef-1aad-afe4-6411075ebebe","name":"trigger CMS","position":{"x":328.0,"y":128.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"2ab28661-a7b2-3130-9b13-bbca66016bfa"},{"identifier":"10462d4c-371b-38c1-90df-f8dd01138e84","instanceIdentifier":"b3ca805c-0195-1000-ffff-ffffd3690fc1","name":"log_op_port","position":{"x":336.0,"y":304.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"2ab28661-a7b2-3130-9b13-bbca66016bfa"}],"connections":[{"identifier":"0b8fcb68-cb3b-31b6-90b6-55f99affe29d","instanceIdentifier":"b31aa3b7-0195-1000-ffff-ffffa9017575","name":"","source":{"id":"5ec56411-5640-36c2-a7b2-42dcd3f2ba42","type":"INPUT_PORT","groupId":"2ab28661-a7b2-3130-9b13-bbca66016bfa","name":"RoleInput","instanceIdentifier":"8a5b3517-526c-10c3-0000-00001a32d6a0"},"destination":{"id":"9e7e8a2b-3a60-35f4-ae43-f7f039bc4f52","type":"INPUT_PORT","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"RoleInput","comments":"","instanceIdentifier":"b317b548-0195-1000-0000-000042013adf"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2ab28661-a7b2-3130-9b13-bbca66016bfa"},{"identifier":"b54c4307-15fd-3e4f-a48b-30784fcf1744","instanceIdentifier":"b31dc277-0195-1000-0000-00003fdd3ec9","name":"","source":{"id":"093c65dd-fac8-3586-b230-678f008b16ef","type":"OUTPUT_PORT","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"RoleOutput","instanceIdentifier":"b31d50af-0195-1000-0000-000035a8d807"},"destination":{"id":"682c90e0-d0f0-3483-881f-c946e31c1375","type":"INPUT_PORT","groupId":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45","name":"RoleCompetencyInput","instanceIdentifier":"b31cd250-0195-1000-ffff-ffffcee4ce00"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2ab28661-a7b2-3130-9b13-bbca66016bfa"},{"identifier":"99e41ad7-3087-360f-a8d0-babc2249017e","instanceIdentifier":"b3c95e23-0195-1000-ffff-ffff9d1ece6b","name":"","source":{"id":"ee8354dc-7d6c-3942-997d-be6a4eae6333","type":"OUTPUT_PORT","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"log_op_port","comments":"","instanceIdentifier":"b31ee812-0195-1000-ffff-ffff85846452"},"destination":{"id":"10462d4c-371b-38c1-90df-f8dd01138e84","type":"OUTPUT_PORT","groupId":"2ab28661-a7b2-3130-9b13-bbca66016bfa","name":"log_op_port","instanceIdentifier":"b3ca805c-0195-1000-ffff-ffffd3690fc1"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2ab28661-a7b2-3130-9b13-bbca66016bfa"},{"identifier":"cc5e4a88-b377-3a68-88c3-633b2c8ae32a","instanceIdentifier":"ad063083-f4ef-1aad-ffff-ffffa5b4c66b","name":"","source":{"id":"94f8d508-9b03-32d5-800f-20bab690a5fd","type":"OUTPUT_PORT","groupId":"b1823eb0-4209-30f0-9dc3-375942627a31","name":"trigger CMS","instanceIdentifier":"a9472bca-0196-1000-0000-00001918a299"},"destination":{"id":"0c59926c-e3f9-3c48-b2b4-3b635ceff75d","type":"OUTPUT_PORT","groupId":"2ab28661-a7b2-3130-9b13-bbca66016bfa","name":"trigger CMS","instanceIdentifier":"ad063055-f4ef-1aad-afe4-6411075ebebe"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2ab28661-a7b2-3130-9b13-bbca66016bfa"},{"identifier":"2f485488-0dc9-39eb-bba4-a2c186c71f8e","instanceIdentifier":"b3ca5bc8-0195-1000-0000-00005c7a22d5","name":"","source":{"id":"c5335789-1e16-3489-a1a0-a5215a6f5d33","type":"OUTPUT_PORT","groupId":"2344dfa2-64ad-3a46-aefb-3b2921b7cb45","name":"log_op_port","instanceIdentifier":"b3c98e0a-0195-1000-0000-00000933f807"},"destination":{"id":"10462d4c-371b-38c1-90df-f8dd01138e84","type":"OUTPUT_PORT","groupId":"2ab28661-a7b2-3130-9b13-bbca66016bfa","name":"log_op_port","instanceIdentifier":"b3ca805c-0195-1000-ffff-ffffd3690fc1"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2ab28661-a7b2-3130-9b13-bbca66016bfa"}],"labels":[],"funnels":[],"controllerServices":[{"identifier":"a85f0ea0-eb34-37a2-b07a-58b559559082","instanceIdentifier":"84b6b895-0195-1000-0000-000073d74f5c","name":"DBCPConnectionPool","comments":"","type":"org.apache.nifi.dbcp.DBCPConnectionPool","bundle":{"group":"org.apache.nifi","artifact":"nifi-dbcp-service-nar","version":"1.27.0"},"properties":{"dbcp-min-idle-conns":"0","Max Wait Time":"500 millis","Database Driver Class Name":"org.postgresql.Driver","dbcp-min-evictable-idle-time":"30 mins","kerberos-principal":null,"Max Total Connections":"8","kerberos-credentials-service":null,"dbcp-max-conn-lifetime":"-1","Validation-query":null,"Database Connection URL":"jdbc:postgresql://#{host}:5432/insights_dw","dbcp-time-between-eviction-runs":"-1","Database User":"#{username}","kerberos-user-service":null,"dbcp-soft-min-evictable-idle-time":"-1","database-driver-locations":"/stackable/userdata/nifi-user-volume/postgresql-42.2.23.jar","dbcp-max-idle-conns":"8","Password":"#{password}"},"propertyDescriptors":{"kerberos-password":{"name":"kerberos-password","displayName":"Kerberos Password","identifiesControllerService":false,"sensitive":true},"dbcp-min-idle-conns":{"name":"dbcp-min-idle-conns","displayName":"Minimum Idle Connections","identifiesControllerService":false,"sensitive":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Driver Class Name":{"name":"Database Driver Class Name","displayName":"Database Driver Class Name","identifiesControllerService":false,"sensitive":false},"dbcp-min-evictable-idle-time":{"name":"dbcp-min-evictable-idle-time","displayName":"Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false},"kerberos-principal":{"name":"kerberos-principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"Max Total Connections":{"name":"Max Total Connections","displayName":"Max Total Connections","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"dbcp-max-conn-lifetime":{"name":"dbcp-max-conn-lifetime","displayName":"Max Connection Lifetime","identifiesControllerService":false,"sensitive":false},"Validation-query":{"name":"Validation-query","displayName":"Validation query","identifiesControllerService":false,"sensitive":false},"Database Connection URL":{"name":"Database Connection URL","displayName":"Database Connection URL","identifiesControllerService":false,"sensitive":false},"dbcp-time-between-eviction-runs":{"name":"dbcp-time-between-eviction-runs","displayName":"Time Between Eviction Runs","identifiesControllerService":false,"sensitive":false},"Database User":{"name":"Database User","displayName":"Database User","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"dbcp-soft-min-evictable-idle-time":{"name":"dbcp-soft-min-evictable-idle-time","displayName":"Soft Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false},"database-driver-locations":{"name":"database-driver-locations","displayName":"Database Driver Location(s)","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["URL","DIRECTORY","FILE"]}},"dbcp-max-idle-conns":{"name":"dbcp-max-idle-conns","displayName":"Max Idle Connections","identifiesControllerService":false,"sensitive":false},"Password":{"name":"Password","displayName":"Password","identifiesControllerService":false,"sensitive":true}},"controllerServiceApis":[{"type":"org.apache.nifi.dbcp.DBCPService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.27.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"2ab28661-a7b2-3130-9b13-bbca66016bfa"}],"variables":{"idw_schema":"idw","flow_name":"Role"},"parameterContextName":"idw_db_secrets","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"ebb2785d-4922-38f6-8742-b6a4e3e95c41"},{"identifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9","instanceIdentifier":"9fa0b16c-0196-1000-0000-0000436ddc30","name":"CMS","comments":"","position":{"x":1808.0,"y":-120.0},"processGroups":[{"identifier":"62f133f2-efc2-33bd-8f59-cdcf39805a9a","instanceIdentifier":"15a00de2-a138-301f-b269-ed1677ed9aa9","name":"Validate Model Versions","comments":"","position":{"x":-5808.0,"y":896.0},"processGroups":[{"identifier":"3b054a23-0792-37dd-942c-ba172ac8c567","instanceIdentifier":"9cb0328e-1603-16bd-8162-ef88bf805fe8","name":"FRAME LOGS","comments":"","position":{"x":-5136.0,"y":1120.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"a5d43049-0256-332f-813a-9c118fe81c7a","instanceIdentifier":"d9ad39c8-cc9a-1f83-802c-4d572db8e53c","name":"UpdateAttribute","comments":"","position":{"x":-160.0,"y":552.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"filename":"${app_uuid}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","error.message":"Failed to validate model data for ${source_model_id}: ${message}","module":"CMS - Validate Model Versions","flow_name":"CMS","manual_error":"true","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"filename":{"name":"filename","displayName":"filename","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"error.message":{"name":"error.message","displayName":"error.message","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"3b054a23-0792-37dd-942c-ba172ac8c567"},{"identifier":"c291d846-109e-3abe-9f13-30a7545f3944","instanceIdentifier":"8afd33ed-7cb9-1283-9e5e-1a8cc3f9a8fe","name":"ReplaceText","comments":"","position":{"x":-160.0,"y":136.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\"id\":\"${source_model_id}\"}","Evaluation Mode":"Entire text","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"20 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"3b054a23-0792-37dd-942c-ba172ac8c567"},{"identifier":"3d334eb6-6803-32bd-aad4-0beaf845939e","instanceIdentifier":"6d4c3111-4148-1745-beca-46e8f4031b3d","name":"UpdateAttribute","comments":"","position":{"x":-160.0,"y":-64.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","merge_key":"${app_uuid}${source_model_id}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"merge_key":{"name":"merge_key","displayName":"merge_key","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"3b054a23-0792-37dd-942c-ba172ac8c567"},{"identifier":"be626538-8de4-3d3c-9711-5e39b03f3eae","instanceIdentifier":"e7593300-335d-1b5c-baf6-d48457992531","name":"Group","comments":"","position":{"x":-158.99999817194475,"y":344.00000296681264},"type":"org.apache.nifi.processors.standard.MergeContent","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Keep Path":"false","Maximum Group Size":null,"Merge Strategy":"Bin-Packing Algorithm","Attribute Strategy":"Keep All Unique Attributes","Compression Level":"1","Maximum Number of Entries":"10000","Minimum Group Size":"0 B","Maximum number of Bins":"2","Tar Modified Time":"${file.lastModifiedTime}","Delimiter Strategy":"Do Not Use Delimiters","Merge Format":"Binary Concatenation","Footer File":null,"Max Bin Age":"60 sec","Demarcator File":null,"Correlation Attribute Name":"merge_key","Header File":null,"mergecontent-metadata-strategy":"Do Not Merge Uncommon Metadata","Minimum Number of Entries":"1000"},"propertyDescriptors":{"Keep Path":{"name":"Keep Path","displayName":"Keep Path","identifiesControllerService":false,"sensitive":false},"Maximum Group Size":{"name":"Maximum Group Size","displayName":"Maximum Group Size","identifiesControllerService":false,"sensitive":false},"Merge Strategy":{"name":"Merge Strategy","displayName":"Merge Strategy","identifiesControllerService":false,"sensitive":false},"Attribute Strategy":{"name":"Attribute Strategy","displayName":"Attribute Strategy","identifiesControllerService":false,"sensitive":false},"Compression Level":{"name":"Compression Level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"Maximum Number of Entries":{"name":"Maximum Number of Entries","displayName":"Maximum Number of Entries","identifiesControllerService":false,"sensitive":false},"Minimum Group Size":{"name":"Minimum Group Size","displayName":"Minimum Group Size","identifiesControllerService":false,"sensitive":false},"Maximum number of Bins":{"name":"Maximum number of Bins","displayName":"Maximum number of Bins","identifiesControllerService":false,"sensitive":false},"Tar Modified Time":{"name":"Tar Modified Time","displayName":"Tar Modified Time","identifiesControllerService":false,"sensitive":false},"Delimiter Strategy":{"name":"Delimiter Strategy","displayName":"Delimiter Strategy","identifiesControllerService":false,"sensitive":false},"Merge Format":{"name":"Merge Format","displayName":"Merge Format","identifiesControllerService":false,"sensitive":false},"Footer File":{"name":"Footer File","displayName":"Footer","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Max Bin Age":{"name":"Max Bin Age","displayName":"Max Bin Age","identifiesControllerService":false,"sensitive":false},"Demarcator File":{"name":"Demarcator File","displayName":"Demarcator","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Correlation Attribute Name":{"name":"Correlation Attribute Name","displayName":"Correlation Attribute Name","identifiesControllerService":false,"sensitive":false},"Header File":{"name":"Header File","displayName":"Header","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"mergecontent-metadata-strategy":{"name":"mergecontent-metadata-strategy","displayName":"Metadata Strategy","identifiesControllerService":false,"sensitive":false},"Minimum Number of Entries":{"name":"Minimum Number of Entries","displayName":"Minimum Number of Entries","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"3b054a23-0792-37dd-942c-ba172ac8c567"}],"inputPorts":[{"identifier":"5454116a-3cd8-35e2-a3df-7d08adac256e","instanceIdentifier":"6aae34fd-2d56-1e04-9249-b2cfce135edb","name":"input","comments":"","position":{"x":-104.0,"y":-168.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"3b054a23-0792-37dd-942c-ba172ac8c567"}],"outputPorts":[{"identifier":"5014d334-1779-39e7-bb97-b7820b72c544","instanceIdentifier":"4bb43f91-ecf3-137c-b2e7-fbc57282b568","name":"log_op","position":{"x":-88.0,"y":760.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"3b054a23-0792-37dd-942c-ba172ac8c567"}],"connections":[{"identifier":"29f4821d-8ea2-3ee3-8839-0cd10a0fe6e8","instanceIdentifier":"b4773449-1a04-1227-a2f2-63c4640610cc","name":"","source":{"id":"a5d43049-0256-332f-813a-9c118fe81c7a","type":"PROCESSOR","groupId":"3b054a23-0792-37dd-942c-ba172ac8c567","name":"UpdateAttribute","comments":"","instanceIdentifier":"d9ad39c8-cc9a-1f83-802c-4d572db8e53c"},"destination":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"3b054a23-0792-37dd-942c-ba172ac8c567","name":"log_op","instanceIdentifier":"4bb43f91-ecf3-137c-b2e7-fbc57282b568"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3b054a23-0792-37dd-942c-ba172ac8c567"},{"identifier":"d3d09809-3d6d-314e-9501-aab1ea9193ac","instanceIdentifier":"f3003a88-54be-18ab-8ecf-9ee7ddad7e23","name":"","source":{"id":"c291d846-109e-3abe-9f13-30a7545f3944","type":"PROCESSOR","groupId":"3b054a23-0792-37dd-942c-ba172ac8c567","name":"ReplaceText","comments":"","instanceIdentifier":"8afd33ed-7cb9-1283-9e5e-1a8cc3f9a8fe"},"destination":{"id":"be626538-8de4-3d3c-9711-5e39b03f3eae","type":"PROCESSOR","groupId":"3b054a23-0792-37dd-942c-ba172ac8c567","name":"Group","comments":"","instanceIdentifier":"e7593300-335d-1b5c-baf6-d48457992531"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3b054a23-0792-37dd-942c-ba172ac8c567"},{"identifier":"a3c27f77-4881-306f-a420-29ec9f2ae60e","instanceIdentifier":"5fc531c2-8309-1fc3-b22a-3c7395800d2e","name":"","source":{"id":"5454116a-3cd8-35e2-a3df-7d08adac256e","type":"INPUT_PORT","groupId":"3b054a23-0792-37dd-942c-ba172ac8c567","name":"input","comments":"","instanceIdentifier":"6aae34fd-2d56-1e04-9249-b2cfce135edb"},"destination":{"id":"3d334eb6-6803-32bd-aad4-0beaf845939e","type":"PROCESSOR","groupId":"3b054a23-0792-37dd-942c-ba172ac8c567","name":"UpdateAttribute","comments":"","instanceIdentifier":"6d4c3111-4148-1745-beca-46e8f4031b3d"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3b054a23-0792-37dd-942c-ba172ac8c567"},{"identifier":"69147c48-d5ae-33df-85aa-48beff964c94","instanceIdentifier":"66c13237-2d89-1425-a2ca-c8ead5127f53","name":"","source":{"id":"be626538-8de4-3d3c-9711-5e39b03f3eae","type":"PROCESSOR","groupId":"3b054a23-0792-37dd-942c-ba172ac8c567","name":"Group","comments":"","instanceIdentifier":"e7593300-335d-1b5c-baf6-d48457992531"},"destination":{"id":"a5d43049-0256-332f-813a-9c118fe81c7a","type":"PROCESSOR","groupId":"3b054a23-0792-37dd-942c-ba172ac8c567","name":"UpdateAttribute","comments":"","instanceIdentifier":"d9ad39c8-cc9a-1f83-802c-4d572db8e53c"},"labelIndex":1,"zIndex":0,"selectedRelationships":["merged"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3b054a23-0792-37dd-942c-ba172ac8c567"},{"identifier":"c67aa610-0c8f-38b8-ab21-3b180c0bea41","instanceIdentifier":"916e3331-5a9b-1cbd-85a1-ec6b45420a75","name":"","source":{"id":"3d334eb6-6803-32bd-aad4-0beaf845939e","type":"PROCESSOR","groupId":"3b054a23-0792-37dd-942c-ba172ac8c567","name":"UpdateAttribute","comments":"","instanceIdentifier":"6d4c3111-4148-1745-beca-46e8f4031b3d"},"destination":{"id":"c291d846-109e-3abe-9f13-30a7545f3944","type":"PROCESSOR","groupId":"3b054a23-0792-37dd-942c-ba172ac8c567","name":"ReplaceText","comments":"","instanceIdentifier":"8afd33ed-7cb9-1283-9e5e-1a8cc3f9a8fe"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3b054a23-0792-37dd-942c-ba172ac8c567"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"62f133f2-efc2-33bd-8f59-cdcf39805a9a"}],"remoteProcessGroups":[],"processors":[{"identifier":"5a657469-f042-3020-96dd-37124bccd8e5","instanceIdentifier":"9dd35784-1d47-3a9f-9684-2c7c75639f03","name":"ExecuteGroovyScript","comments":"","position":{"x":-5792.0,"y":1104.0},"type":"org.apache.nifi.processors.groovyx.ExecuteGroovyScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-groovyx-nar","version":"1.27.0"},"properties":{"groovyx-script-body":"import groovy.json.JsonSlurper \nimport java.nio.charset.StandardCharsets \nimport org.apache.nifi.processor.io.InputStreamCallback \nimport groovy.json.JsonOutput\n\ndef flowFile = session.get()\nif (!flowFile) {\n    return\n}\n\ndef apiVersionString = flowFile.getAttribute('apiVersion').substring(1)\ndef modelVersionString = flowFile.getAttribute('model_version_number').substring(1)\n\nif (!apiVersionString) {\n    log.warn('Version attribute is missing.')\n    return\n}\nif (!modelVersionString) {\n    log.warn('Model version number attribute is missing.')\n    return\n}\ndef parseVersion(String version) {\n    return version.split('\\\\.').collect { it.toInteger() }\n}\n\ntry {\n    def versionParts = parseVersion(apiVersionString)\n    def modelVersionParts = parseVersion(modelVersionString)\n\n    def comparisonResult = ''\n\n    // Compare version parts\n    for (int i = 0; i < Math.max(versionParts.size(), modelVersionParts.size()); i++) {\n        def v1 = (i < versionParts.size()) ? versionParts[i] : 0\n        def v2 = (i < modelVersionParts.size()) ? modelVersionParts[i] : 0\n\n        if (v1 > v2) {\n            comparisonResult = 'apiVersion'\n\t\t\tmessage = 'Model Data from API is latest compared to data in DB'\n            break\n        } else if (v1 < v2) {\n            comparisonResult = 'dbVersion'\n\t\t\tmessage = 'Model Data from API is old compared to data in DB'\n            break\n        }\n\t\tcomparisonResult = 'equal'\n\t\tmessage = 'Model Data from API is in sync with data in DB'\n\n        // If equal, continue to the next part\n    }\n\n    // Set a FlowFile attribute based on the comparison\n    flowFile = session.putAttribute(flowFile, 'greaterVersion', comparisonResult.toString())\n    flowFile = session.putAttribute(flowFile, 'message', message.toString())\n\n    session.transfer(flowFile, REL_SUCCESS)\n\n} catch (Exception e) {\n    flowFile = session.putAttribute(flowFile, 'message', e.getMessage())\n\n    session.transfer(flowFile, REL_FAILURE)\n}","groovyx-failure-strategy":"rollback","groovyx-additional-classpath":null,"groovyx-script-file":null},"propertyDescriptors":{"groovyx-script-body":{"name":"groovyx-script-body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false},"groovyx-failure-strategy":{"name":"groovyx-failure-strategy","displayName":"Failure strategy","identifiesControllerService":false,"sensitive":false},"groovyx-additional-classpath":{"name":"groovyx-additional-classpath","displayName":"Additional classpath","identifiesControllerService":false,"sensitive":false},"groovyx-script-file":{"name":"groovyx-script-file","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"62f133f2-efc2-33bd-8f59-cdcf39805a9a"},{"identifier":"6b940706-2ce3-3a32-bc7d-a754698e50f6","instanceIdentifier":"389ad3bf-b1c7-3f5a-a605-6bb66213c40a","name":"EvaluateJsonPath","comments":"","position":{"x":-5792.0,"y":896.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Destination":"flowfile-attribute","apiVersion":"$.docMetaData.tag","model_name":"$.name","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"apiVersion":{"name":"apiVersion","displayName":"apiVersion","identifiesControllerService":false,"sensitive":false},"model_name":{"name":"model_name","displayName":"model_name","identifiesControllerService":false,"sensitive":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"62f133f2-efc2-33bd-8f59-cdcf39805a9a"},{"identifier":"36f2f76d-d0f4-3e20-9861-609ff81f62ac","instanceIdentifier":"b95a3d55-1775-3cca-a4ff-efa3630b442f","name":"RouteOnAttribute","comments":"","position":{"x":-5792.0,"y":1312.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Routing Strategy":"Route to Property name","dbVersionGreaterOrEqual":"${greaterVersion:in('dbVersion','equal')}","apiVersionGreater":"${greaterVersion:equals('apiVersion')}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"dbVersionGreaterOrEqual":{"name":"dbVersionGreaterOrEqual","displayName":"dbVersionGreaterOrEqual","identifiesControllerService":false,"sensitive":false},"apiVersionGreater":{"name":"apiVersionGreater","displayName":"apiVersionGreater","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"62f133f2-efc2-33bd-8f59-cdcf39805a9a"}],"inputPorts":[{"identifier":"015b1adb-4e8d-3aad-a7fd-9fc73740ccc1","instanceIdentifier":"96b88ac6-3057-3642-9484-f1bc61ef32db","name":"input","position":{"x":-5736.0,"y":792.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"62f133f2-efc2-33bd-8f59-cdcf39805a9a"}],"outputPorts":[{"identifier":"18b460fe-8bb2-37e4-b563-093737b302ab","instanceIdentifier":"0de23c9a-c9a4-3d14-b98e-265406a176db","name":"to logs","position":{"x":-5064.0,"y":1416.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"62f133f2-efc2-33bd-8f59-cdcf39805a9a"},{"identifier":"2648f0b1-844b-31af-af4d-d6f4ca7d7820","instanceIdentifier":"7dead3e7-bb69-37d3-a054-b16b291f2706","name":"output","position":{"x":-5736.0,"y":1528.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"62f133f2-efc2-33bd-8f59-cdcf39805a9a"}],"connections":[{"identifier":"868f05d2-ba28-392f-a17c-a0778fa41084","instanceIdentifier":"687d787f-8d6d-3d67-8c73-d30d114b9579","name":"","source":{"id":"6b940706-2ce3-3a32-bc7d-a754698e50f6","type":"PROCESSOR","groupId":"62f133f2-efc2-33bd-8f59-cdcf39805a9a","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"389ad3bf-b1c7-3f5a-a605-6bb66213c40a"},"destination":{"id":"5a657469-f042-3020-96dd-37124bccd8e5","type":"PROCESSOR","groupId":"62f133f2-efc2-33bd-8f59-cdcf39805a9a","name":"ExecuteGroovyScript","comments":"","instanceIdentifier":"9dd35784-1d47-3a9f-9684-2c7c75639f03"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"62f133f2-efc2-33bd-8f59-cdcf39805a9a"},{"identifier":"dd426d3c-3909-31af-9643-ab8ffc0900ab","instanceIdentifier":"634ad607-5b62-36b2-b2e0-14d3d4db203e","name":"","source":{"id":"015b1adb-4e8d-3aad-a7fd-9fc73740ccc1","type":"INPUT_PORT","groupId":"62f133f2-efc2-33bd-8f59-cdcf39805a9a","name":"input","instanceIdentifier":"96b88ac6-3057-3642-9484-f1bc61ef32db"},"destination":{"id":"6b940706-2ce3-3a32-bc7d-a754698e50f6","type":"PROCESSOR","groupId":"62f133f2-efc2-33bd-8f59-cdcf39805a9a","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"389ad3bf-b1c7-3f5a-a605-6bb66213c40a"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"62f133f2-efc2-33bd-8f59-cdcf39805a9a"},{"identifier":"a145e385-85c1-3021-b01e-a90f578710da","instanceIdentifier":"2496f29f-88e1-3b47-bf1a-e850f6886e1e","name":"","source":{"id":"5a657469-f042-3020-96dd-37124bccd8e5","type":"PROCESSOR","groupId":"62f133f2-efc2-33bd-8f59-cdcf39805a9a","name":"ExecuteGroovyScript","comments":"","instanceIdentifier":"9dd35784-1d47-3a9f-9684-2c7c75639f03"},"destination":{"id":"36f2f76d-d0f4-3e20-9861-609ff81f62ac","type":"PROCESSOR","groupId":"62f133f2-efc2-33bd-8f59-cdcf39805a9a","name":"RouteOnAttribute","comments":"","instanceIdentifier":"b95a3d55-1775-3cca-a4ff-efa3630b442f"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"62f133f2-efc2-33bd-8f59-cdcf39805a9a"},{"identifier":"9417a798-e8ff-302b-aff7-49982d4788f6","instanceIdentifier":"0740a740-880b-371d-98db-4400f149c215","name":"","source":{"id":"36f2f76d-d0f4-3e20-9861-609ff81f62ac","type":"PROCESSOR","groupId":"62f133f2-efc2-33bd-8f59-cdcf39805a9a","name":"RouteOnAttribute","comments":"","instanceIdentifier":"b95a3d55-1775-3cca-a4ff-efa3630b442f"},"destination":{"id":"5454116a-3cd8-35e2-a3df-7d08adac256e","type":"INPUT_PORT","groupId":"3b054a23-0792-37dd-942c-ba172ac8c567","name":"input","comments":"","instanceIdentifier":"6aae34fd-2d56-1e04-9249-b2cfce135edb"},"labelIndex":1,"zIndex":0,"selectedRelationships":["dbVersionGreaterOrEqual"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"62f133f2-efc2-33bd-8f59-cdcf39805a9a"},{"identifier":"2082f1c4-673f-37b2-a2b9-715a21145a27","instanceIdentifier":"a006464d-0196-1000-ffff-ffff84f7fe5f","name":"","source":{"id":"5a657469-f042-3020-96dd-37124bccd8e5","type":"PROCESSOR","groupId":"62f133f2-efc2-33bd-8f59-cdcf39805a9a","name":"ExecuteGroovyScript","comments":"","instanceIdentifier":"9dd35784-1d47-3a9f-9684-2c7c75639f03"},"destination":{"id":"5454116a-3cd8-35e2-a3df-7d08adac256e","type":"INPUT_PORT","groupId":"3b054a23-0792-37dd-942c-ba172ac8c567","name":"input","comments":"","instanceIdentifier":"6aae34fd-2d56-1e04-9249-b2cfce135edb"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"62f133f2-efc2-33bd-8f59-cdcf39805a9a"},{"identifier":"a483ba2f-0b8a-3270-bca1-677eab16c218","instanceIdentifier":"c5e3720c-65a7-36a9-a333-84a841f5aaee","name":"","source":{"id":"36f2f76d-d0f4-3e20-9861-609ff81f62ac","type":"PROCESSOR","groupId":"62f133f2-efc2-33bd-8f59-cdcf39805a9a","name":"RouteOnAttribute","comments":"","instanceIdentifier":"b95a3d55-1775-3cca-a4ff-efa3630b442f"},"destination":{"id":"2648f0b1-844b-31af-af4d-d6f4ca7d7820","type":"OUTPUT_PORT","groupId":"62f133f2-efc2-33bd-8f59-cdcf39805a9a","name":"output","instanceIdentifier":"7dead3e7-bb69-37d3-a054-b16b291f2706"},"labelIndex":1,"zIndex":0,"selectedRelationships":["apiVersionGreater"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"62f133f2-efc2-33bd-8f59-cdcf39805a9a"},{"identifier":"412dc6e2-bdfd-37f6-bf09-32edf8680d84","instanceIdentifier":"a010bca8-0196-1000-ffff-ffff8383dabb","name":"","source":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"3b054a23-0792-37dd-942c-ba172ac8c567","name":"log_op","instanceIdentifier":"4bb43f91-ecf3-137c-b2e7-fbc57282b568"},"destination":{"id":"18b460fe-8bb2-37e4-b563-093737b302ab","type":"OUTPUT_PORT","groupId":"62f133f2-efc2-33bd-8f59-cdcf39805a9a","name":"to logs","instanceIdentifier":"0de23c9a-c9a4-3d14-b98e-265406a176db"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"62f133f2-efc2-33bd-8f59-cdcf39805a9a"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"92b36446-7c92-3140-a3b8-5e511361659c","instanceIdentifier":"0ec810b3-3f5e-3871-bea8-a4a6f9b79ced","name":"a360_competency","comments":"","position":{"x":-6520.0,"y":1152.0},"processGroups":[{"identifier":"9d291381-e60e-3254-a69c-89d4501bb283","instanceIdentifier":"da5a3e43-0fc8-1882-b47a-cb88f937e8de","name":"FRAME LOGS","comments":"","position":{"x":1160.0,"y":1008.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"c811201e-6830-30a9-a373-25d1355a63a8","instanceIdentifier":"af803537-62fb-1b27-9608-8f031432ae8d","name":"Consume Message Attribute","comments":"","position":{"x":416.0,"y":208.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"CMS - a360_competency","flow_name":"CMS","extras":"competency_count : ${merge.count}","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"extras":{"name":"extras","displayName":"extras","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9d291381-e60e-3254-a69c-89d4501bb283"},{"identifier":"8fab70de-23b5-3b66-8db0-01ab770c74f2","instanceIdentifier":"8ae8333d-7ce1-1d07-b53b-50643e9f5bb7","name":"UpdateAttribute","comments":"","position":{"x":416.0,"y":-416.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","merge_key":"${app_uuid}${source_model_id}${sourceClusterId}${error.message:isEmpty()}${error.sql.state}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"merge_key":{"name":"merge_key","displayName":"merge_key","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9d291381-e60e-3254-a69c-89d4501bb283"},{"identifier":"b5f28e17-195d-301c-b366-433332021b04","instanceIdentifier":"45ad3851-062a-148f-82d9-5993f56f20ee","name":"Group","comments":"","position":{"x":416.0,"y":8.0},"type":"org.apache.nifi.processors.standard.MergeContent","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Keep Path":"false","Maximum Group Size":null,"Merge Strategy":"Bin-Packing Algorithm","Attribute Strategy":"Keep All Unique Attributes","Compression Level":"1","Maximum Number of Entries":"10000","Minimum Group Size":"0 B","Maximum number of Bins":"2","Tar Modified Time":"${file.lastModifiedTime}","Delimiter Strategy":"Do Not Use Delimiters","Merge Format":"Binary Concatenation","Footer File":null,"Max Bin Age":"60 sec","Demarcator File":null,"Correlation Attribute Name":"merge_key","Header File":null,"mergecontent-metadata-strategy":"Do Not Merge Uncommon Metadata","Minimum Number of Entries":"1000"},"propertyDescriptors":{"Keep Path":{"name":"Keep Path","displayName":"Keep Path","identifiesControllerService":false,"sensitive":false},"Maximum Group Size":{"name":"Maximum Group Size","displayName":"Maximum Group Size","identifiesControllerService":false,"sensitive":false},"Merge Strategy":{"name":"Merge Strategy","displayName":"Merge Strategy","identifiesControllerService":false,"sensitive":false},"Attribute Strategy":{"name":"Attribute Strategy","displayName":"Attribute Strategy","identifiesControllerService":false,"sensitive":false},"Compression Level":{"name":"Compression Level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"Maximum Number of Entries":{"name":"Maximum Number of Entries","displayName":"Maximum Number of Entries","identifiesControllerService":false,"sensitive":false},"Minimum Group Size":{"name":"Minimum Group Size","displayName":"Minimum Group Size","identifiesControllerService":false,"sensitive":false},"Maximum number of Bins":{"name":"Maximum number of Bins","displayName":"Maximum number of Bins","identifiesControllerService":false,"sensitive":false},"Tar Modified Time":{"name":"Tar Modified Time","displayName":"Tar Modified Time","identifiesControllerService":false,"sensitive":false},"Delimiter Strategy":{"name":"Delimiter Strategy","displayName":"Delimiter Strategy","identifiesControllerService":false,"sensitive":false},"Merge Format":{"name":"Merge Format","displayName":"Merge Format","identifiesControllerService":false,"sensitive":false},"Footer File":{"name":"Footer File","displayName":"Footer","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Max Bin Age":{"name":"Max Bin Age","displayName":"Max Bin Age","identifiesControllerService":false,"sensitive":false},"Demarcator File":{"name":"Demarcator File","displayName":"Demarcator","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Correlation Attribute Name":{"name":"Correlation Attribute Name","displayName":"Correlation Attribute Name","identifiesControllerService":false,"sensitive":false},"Header File":{"name":"Header File","displayName":"Header","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"mergecontent-metadata-strategy":{"name":"mergecontent-metadata-strategy","displayName":"Metadata Strategy","identifiesControllerService":false,"sensitive":false},"Minimum Number of Entries":{"name":"Minimum Number of Entries","displayName":"Minimum Number of Entries","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9d291381-e60e-3254-a69c-89d4501bb283"},{"identifier":"aad5cfb6-1168-3ab5-a0ca-a4cf365cdfe0","instanceIdentifier":"e10c3c93-f847-16c0-ae39-fa04deff204e","name":"ReplaceText","comments":"","position":{"x":416.0,"y":-208.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\"id\":\"Competency${clientCode}\"}","Evaluation Mode":"Entire text","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"20 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9d291381-e60e-3254-a69c-89d4501bb283"}],"inputPorts":[{"identifier":"69c38982-4205-35c8-8503-c742a525b3bf","instanceIdentifier":"f2833d5c-557d-1beb-ac92-bd11b66632c2","name":"log_ip_port","position":{"x":464.0,"y":-528.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"9d291381-e60e-3254-a69c-89d4501bb283"}],"outputPorts":[{"identifier":"a88ac5a0-8497-357d-a932-9898df7af4b8","instanceIdentifier":"3af43363-5895-182c-a9a5-5356f2a61847","name":"log_op_port","position":{"x":480.0,"y":480.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"9d291381-e60e-3254-a69c-89d4501bb283"}],"connections":[{"identifier":"cd44e86c-4d10-3c98-a625-1237b563c6b7","instanceIdentifier":"ce75306e-0e41-16ec-9c74-b0caeae8120b","name":"","source":{"id":"c811201e-6830-30a9-a373-25d1355a63a8","type":"PROCESSOR","groupId":"9d291381-e60e-3254-a69c-89d4501bb283","name":"Consume Message Attribute","comments":"","instanceIdentifier":"af803537-62fb-1b27-9608-8f031432ae8d"},"destination":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"9d291381-e60e-3254-a69c-89d4501bb283","name":"log_op_port","instanceIdentifier":"3af43363-5895-182c-a9a5-5356f2a61847"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9d291381-e60e-3254-a69c-89d4501bb283"},{"identifier":"ae196b30-b1f3-32b8-a823-92d40695f481","instanceIdentifier":"8c473880-449a-11bb-a6c1-f22bca365beb","name":"","source":{"id":"b5f28e17-195d-301c-b366-433332021b04","type":"PROCESSOR","groupId":"9d291381-e60e-3254-a69c-89d4501bb283","name":"Group","comments":"","instanceIdentifier":"45ad3851-062a-148f-82d9-5993f56f20ee"},"destination":{"id":"c811201e-6830-30a9-a373-25d1355a63a8","type":"PROCESSOR","groupId":"9d291381-e60e-3254-a69c-89d4501bb283","name":"Consume Message Attribute","comments":"","instanceIdentifier":"af803537-62fb-1b27-9608-8f031432ae8d"},"labelIndex":1,"zIndex":0,"selectedRelationships":["merged"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9d291381-e60e-3254-a69c-89d4501bb283"},{"identifier":"c92a5dbd-d301-3dc2-a8fd-b66bc8257dea","instanceIdentifier":"d9af32ec-138d-15f5-ace5-fb2774a5eb87","name":"","source":{"id":"aad5cfb6-1168-3ab5-a0ca-a4cf365cdfe0","type":"PROCESSOR","groupId":"9d291381-e60e-3254-a69c-89d4501bb283","name":"ReplaceText","comments":"","instanceIdentifier":"e10c3c93-f847-16c0-ae39-fa04deff204e"},"destination":{"id":"b5f28e17-195d-301c-b366-433332021b04","type":"PROCESSOR","groupId":"9d291381-e60e-3254-a69c-89d4501bb283","name":"Group","comments":"","instanceIdentifier":"45ad3851-062a-148f-82d9-5993f56f20ee"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9d291381-e60e-3254-a69c-89d4501bb283"},{"identifier":"7b5d5ef0-70e4-3b8b-be2a-6dd4f244ddab","instanceIdentifier":"924f3592-5874-137e-b262-79c725fe0045","name":"","source":{"id":"8fab70de-23b5-3b66-8db0-01ab770c74f2","type":"PROCESSOR","groupId":"9d291381-e60e-3254-a69c-89d4501bb283","name":"UpdateAttribute","comments":"","instanceIdentifier":"8ae8333d-7ce1-1d07-b53b-50643e9f5bb7"},"destination":{"id":"aad5cfb6-1168-3ab5-a0ca-a4cf365cdfe0","type":"PROCESSOR","groupId":"9d291381-e60e-3254-a69c-89d4501bb283","name":"ReplaceText","comments":"","instanceIdentifier":"e10c3c93-f847-16c0-ae39-fa04deff204e"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9d291381-e60e-3254-a69c-89d4501bb283"},{"identifier":"e9094579-04ff-319e-8a54-678a06c6ae21","instanceIdentifier":"fb43356b-c90f-1e19-b726-762156c11d4a","name":"","source":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"9d291381-e60e-3254-a69c-89d4501bb283","name":"log_ip_port","instanceIdentifier":"f2833d5c-557d-1beb-ac92-bd11b66632c2"},"destination":{"id":"8fab70de-23b5-3b66-8db0-01ab770c74f2","type":"PROCESSOR","groupId":"9d291381-e60e-3254-a69c-89d4501bb283","name":"UpdateAttribute","comments":"","instanceIdentifier":"8ae8333d-7ce1-1d07-b53b-50643e9f5bb7"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9d291381-e60e-3254-a69c-89d4501bb283"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"92b36446-7c92-3140-a3b8-5e511361659c"}],"remoteProcessGroups":[],"processors":[{"identifier":"0311aaaf-c7ba-31a2-9382-f69d93dd39d3","instanceIdentifier":"746be1c6-54cf-3a75-abe4-d210440b3159","name":"SplitJson","comments":"","position":{"x":544.0,"y":632.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.competencies.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"92b36446-7c92-3140-a3b8-5e511361659c"},{"identifier":"f273fb1e-0fda-3257-a72f-f3468a33de6d","instanceIdentifier":"76425d86-d6ea-3888-b463-e15335a27fe4","name":"EvaluateJsonPath","comments":"","position":{"x":544.0,"y":840.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Destination":"flowfile-attribute","Max String Length":"20 MB","clientCode":"$.clientCode","Return Type":"auto-detect","Null Value Representation":"empty string","competencyName":"$.competency.name","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"clientCode":{"name":"clientCode","displayName":"clientCode","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"competencyName":{"name":"competencyName","displayName":"competencyName","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"92b36446-7c92-3140-a3b8-5e511361659c"},{"identifier":"46b0eced-970c-3faf-8878-98c463c1b3b5","instanceIdentifier":"ad4dc1fa-7ea6-3d06-93d2-035f2ad0fb01","name":"PutSQL","comments":"","position":{"x":544.0,"y":1048.0},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":"INSERT INTO idw.a360_competency (\n        competency_type,\n        source_competency_id,\n        competency_name,\n        cluster_key\n    ) VALUES (\n        '${clientCode:ge(1):and(${clientCode:le(38)}):ifElse('STANDARD','CUSTOM')}',\n        'Competency${clientCode}',\n        '${competencyName}',\n        (select cluster_key from idw.a360_cluster where source_cluster_id ='${sourceClusterId}' limit 1)\n    ) ON CONFLICT (source_competency_id) DO\n    UPDATE SET\n        competency_name = '${competencyName}',\n        competency_type = '${clientCode:ge(1):and(${clientCode:le(38)}):ifElse('STANDARD','CUSTOM')}',\n\t\tcluster_key= (select cluster_key from idw.a360_cluster where source_cluster_id ='${sourceClusterId}' limit 1)\nRETURNING competency_key;","Transaction Timeout":null,"Batch Size":"100","Obtain Generated Keys":"true","JDBC Connection Pool":"be864070-cba2-3c79-986d-ccaa292953e2","database-session-autocommit":"true","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":5,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"5 mins","componentType":"PROCESSOR","groupIdentifier":"92b36446-7c92-3140-a3b8-5e511361659c"}],"inputPorts":[{"identifier":"8c21ed4f-c908-3ae4-b964-18380cab54ad","instanceIdentifier":"84e121dc-44ea-3aef-81c6-5a65f16c91bb","name":"input","position":{"x":592.0,"y":520.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"92b36446-7c92-3140-a3b8-5e511361659c"}],"outputPorts":[{"identifier":"32a0a8f2-e86e-3953-88a1-ef3b1e00e7d4","instanceIdentifier":"db773d3a-3113-3b13-9197-3acc4180f003","name":"output","position":{"x":600.0,"y":1264.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"92b36446-7c92-3140-a3b8-5e511361659c"},{"identifier":"3ffa32db-d58f-39c0-b0f1-29d6a6449ae2","instanceIdentifier":"c3e9b2f8-5dcc-3caa-9f0a-a7e48097ef85","name":"to_logger","position":{"x":1232.0,"y":1264.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"92b36446-7c92-3140-a3b8-5e511361659c"}],"connections":[{"identifier":"c48de15f-a8a8-393c-ae58-426c21f89898","instanceIdentifier":"456d2190-112c-3c42-abf0-3eef8d93fb97","name":"","source":{"id":"f273fb1e-0fda-3257-a72f-f3468a33de6d","type":"PROCESSOR","groupId":"92b36446-7c92-3140-a3b8-5e511361659c","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"76425d86-d6ea-3888-b463-e15335a27fe4"},"destination":{"id":"46b0eced-970c-3faf-8878-98c463c1b3b5","type":"PROCESSOR","groupId":"92b36446-7c92-3140-a3b8-5e511361659c","name":"PutSQL","comments":"","instanceIdentifier":"ad4dc1fa-7ea6-3d06-93d2-035f2ad0fb01"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"92b36446-7c92-3140-a3b8-5e511361659c"},{"identifier":"b1099372-167c-35bc-b7e0-14c9b5962f5d","instanceIdentifier":"a10456e8-0196-1000-ffff-ffffc5c090a9","name":"","source":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"9d291381-e60e-3254-a69c-89d4501bb283","name":"log_op_port","instanceIdentifier":"3af43363-5895-182c-a9a5-5356f2a61847"},"destination":{"id":"3ffa32db-d58f-39c0-b0f1-29d6a6449ae2","type":"OUTPUT_PORT","groupId":"92b36446-7c92-3140-a3b8-5e511361659c","name":"to_logger","instanceIdentifier":"c3e9b2f8-5dcc-3caa-9f0a-a7e48097ef85"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"92b36446-7c92-3140-a3b8-5e511361659c"},{"identifier":"e790806b-3f03-3f2b-8d59-af8282315360","instanceIdentifier":"39c49149-95ba-33ff-be79-014b42034f5c","name":"","source":{"id":"46b0eced-970c-3faf-8878-98c463c1b3b5","type":"PROCESSOR","groupId":"92b36446-7c92-3140-a3b8-5e511361659c","name":"PutSQL","comments":"","instanceIdentifier":"ad4dc1fa-7ea6-3d06-93d2-035f2ad0fb01"},"destination":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"9d291381-e60e-3254-a69c-89d4501bb283","name":"log_ip_port","instanceIdentifier":"f2833d5c-557d-1beb-ac92-bd11b66632c2"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success","failure","retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"92b36446-7c92-3140-a3b8-5e511361659c"},{"identifier":"9f8f3295-7895-3abf-aa65-babaff9ef7df","instanceIdentifier":"0b07c78d-b77b-3de2-b509-7a073e30633c","name":"","source":{"id":"8c21ed4f-c908-3ae4-b964-18380cab54ad","type":"INPUT_PORT","groupId":"92b36446-7c92-3140-a3b8-5e511361659c","name":"input","instanceIdentifier":"84e121dc-44ea-3aef-81c6-5a65f16c91bb"},"destination":{"id":"0311aaaf-c7ba-31a2-9382-f69d93dd39d3","type":"PROCESSOR","groupId":"92b36446-7c92-3140-a3b8-5e511361659c","name":"SplitJson","comments":"","instanceIdentifier":"746be1c6-54cf-3a75-abe4-d210440b3159"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"92b36446-7c92-3140-a3b8-5e511361659c"},{"identifier":"e400dc14-83b1-3c21-8f2d-5a65e3275ae3","instanceIdentifier":"de95972f-6eea-360d-b091-12885ea248bc","name":"","source":{"id":"46b0eced-970c-3faf-8878-98c463c1b3b5","type":"PROCESSOR","groupId":"92b36446-7c92-3140-a3b8-5e511361659c","name":"PutSQL","comments":"","instanceIdentifier":"ad4dc1fa-7ea6-3d06-93d2-035f2ad0fb01"},"destination":{"id":"32a0a8f2-e86e-3953-88a1-ef3b1e00e7d4","type":"OUTPUT_PORT","groupId":"92b36446-7c92-3140-a3b8-5e511361659c","name":"output","instanceIdentifier":"db773d3a-3113-3b13-9197-3acc4180f003"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"92b36446-7c92-3140-a3b8-5e511361659c"},{"identifier":"6e6051a8-628e-3b8a-ab80-60b4b915b14a","instanceIdentifier":"007c8d18-889f-3d1f-bf42-80bcd7bac145","name":"","source":{"id":"0311aaaf-c7ba-31a2-9382-f69d93dd39d3","type":"PROCESSOR","groupId":"92b36446-7c92-3140-a3b8-5e511361659c","name":"SplitJson","comments":"","instanceIdentifier":"746be1c6-54cf-3a75-abe4-d210440b3159"},"destination":{"id":"f273fb1e-0fda-3257-a72f-f3468a33de6d","type":"PROCESSOR","groupId":"92b36446-7c92-3140-a3b8-5e511361659c","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"76425d86-d6ea-3888-b463-e15335a27fe4"},"labelIndex":1,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"92b36446-7c92-3140-a3b8-5e511361659c"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad","instanceIdentifier":"86551913-c7c4-3651-ba39-b0b8b0cba783","name":"a360_cluster","comments":"","position":{"x":-5808.0,"y":1152.0},"processGroups":[{"identifier":"8b4820cf-adbd-3728-8413-693df1b86842","instanceIdentifier":"0a0c316b-b535-11d6-89fd-6df12e298111","name":"FRAME LOGS","comments":"","position":{"x":1208.0,"y":1016.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"c811201e-6830-30a9-a373-25d1355a63a8","instanceIdentifier":"08fd3a6a-6b8c-1405-9e76-ec7107826e25","name":"Consume Message Attribute","comments":"","position":{"x":416.0,"y":208.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"CMS - a360_cluster","extras":"cluster_count : ${merge.count}","flow_name":"CMS","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"extras":{"name":"extras","displayName":"extras","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"8b4820cf-adbd-3728-8413-693df1b86842"},{"identifier":"8fab70de-23b5-3b66-8db0-01ab770c74f2","instanceIdentifier":"ad4d3b7e-1c6e-117e-905d-ea1cc5c0de92","name":"UpdateAttribute","comments":"","position":{"x":416.0,"y":-416.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","merge_key":"${app_uuid}${source_model_id}${error.message:isEmpty()}${error.sql.state}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"merge_key":{"name":"merge_key","displayName":"merge_key","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"8b4820cf-adbd-3728-8413-693df1b86842"},{"identifier":"e482e673-34ff-3656-bd0a-350389a12361","instanceIdentifier":"93f534fa-a391-1dd6-af8d-c0ca3ed8f947","name":"ReplaceText","comments":"","position":{"x":-48.0,"y":16.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\"id\":\"${source_model_id}\"}","Evaluation Mode":"Entire text","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"20 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"8b4820cf-adbd-3728-8413-693df1b86842"},{"identifier":"823a90d2-fdbc-38c9-a3c5-9a3ce3ca2930","instanceIdentifier":"fadd3270-0e41-10ab-b178-ebedce278953","name":"Consume Message Attribute","comments":"","position":{"x":-48.0,"y":208.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.validation')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","error.message":"Failed to parse JSON payload: ${json.parse.error}","module":"CMS - a360_cluster","flow_name":"CMS","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"error.message":{"name":"error.message","displayName":"error.message","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"8b4820cf-adbd-3728-8413-693df1b86842"},{"identifier":"b5f28e17-195d-301c-b366-433332021b04","instanceIdentifier":"c2cd3c23-206b-12bf-b945-7061d8d820fb","name":"Group","comments":"","position":{"x":416.0,"y":8.0},"type":"org.apache.nifi.processors.standard.MergeContent","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Keep Path":"false","Maximum Group Size":null,"Merge Strategy":"Bin-Packing Algorithm","Attribute Strategy":"Keep All Unique Attributes","Compression Level":"1","Maximum Number of Entries":"10000","Minimum Group Size":"0 B","Maximum number of Bins":"2","Tar Modified Time":"${file.lastModifiedTime}","Delimiter Strategy":"Do Not Use Delimiters","Merge Format":"Binary Concatenation","Footer File":null,"Max Bin Age":"60 sec","Demarcator File":null,"Correlation Attribute Name":"merge_key","Header File":null,"mergecontent-metadata-strategy":"Do Not Merge Uncommon Metadata","Minimum Number of Entries":"1000"},"propertyDescriptors":{"Keep Path":{"name":"Keep Path","displayName":"Keep Path","identifiesControllerService":false,"sensitive":false},"Maximum Group Size":{"name":"Maximum Group Size","displayName":"Maximum Group Size","identifiesControllerService":false,"sensitive":false},"Merge Strategy":{"name":"Merge Strategy","displayName":"Merge Strategy","identifiesControllerService":false,"sensitive":false},"Attribute Strategy":{"name":"Attribute Strategy","displayName":"Attribute Strategy","identifiesControllerService":false,"sensitive":false},"Compression Level":{"name":"Compression Level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"Maximum Number of Entries":{"name":"Maximum Number of Entries","displayName":"Maximum Number of Entries","identifiesControllerService":false,"sensitive":false},"Minimum Group Size":{"name":"Minimum Group Size","displayName":"Minimum Group Size","identifiesControllerService":false,"sensitive":false},"Maximum number of Bins":{"name":"Maximum number of Bins","displayName":"Maximum number of Bins","identifiesControllerService":false,"sensitive":false},"Tar Modified Time":{"name":"Tar Modified Time","displayName":"Tar Modified Time","identifiesControllerService":false,"sensitive":false},"Delimiter Strategy":{"name":"Delimiter Strategy","displayName":"Delimiter Strategy","identifiesControllerService":false,"sensitive":false},"Merge Format":{"name":"Merge Format","displayName":"Merge Format","identifiesControllerService":false,"sensitive":false},"Footer File":{"name":"Footer File","displayName":"Footer","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Max Bin Age":{"name":"Max Bin Age","displayName":"Max Bin Age","identifiesControllerService":false,"sensitive":false},"Demarcator File":{"name":"Demarcator File","displayName":"Demarcator","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Correlation Attribute Name":{"name":"Correlation Attribute Name","displayName":"Correlation Attribute Name","identifiesControllerService":false,"sensitive":false},"Header File":{"name":"Header File","displayName":"Header","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"mergecontent-metadata-strategy":{"name":"mergecontent-metadata-strategy","displayName":"Metadata Strategy","identifiesControllerService":false,"sensitive":false},"Minimum Number of Entries":{"name":"Minimum Number of Entries","displayName":"Minimum Number of Entries","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"8b4820cf-adbd-3728-8413-693df1b86842"},{"identifier":"7d0e90d8-94b8-3097-9223-5e1239b6aabb","instanceIdentifier":"553536fb-2e5e-13a3-b9f1-58c27d619b38","name":"ReplaceText","comments":"","position":{"x":416.0,"y":-208.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\"id\":\"${sourceClusterId}\"}","Evaluation Mode":"Entire text","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"20 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"8b4820cf-adbd-3728-8413-693df1b86842"}],"inputPorts":[{"identifier":"69c38982-4205-35c8-8503-c742a525b3bf","instanceIdentifier":"4cb43332-7bd4-1428-976e-9e611ecb5328","name":"log_ip_port","position":{"x":464.0,"y":-528.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"8b4820cf-adbd-3728-8413-693df1b86842"},{"identifier":"adcb72a9-4066-3171-89a9-1346ce1eeda6","instanceIdentifier":"ecc2352d-5e00-1ded-a005-47d98076f5dc","name":"input","comments":"","position":{"x":8.0,"y":-104.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"8b4820cf-adbd-3728-8413-693df1b86842"}],"outputPorts":[{"identifier":"a88ac5a0-8497-357d-a932-9898df7af4b8","instanceIdentifier":"effd3a9c-8014-1c08-823c-51e918d1cbd6","name":"log_op_port","position":{"x":480.0,"y":480.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"8b4820cf-adbd-3728-8413-693df1b86842"}],"connections":[{"identifier":"cd44e86c-4d10-3c98-a625-1237b563c6b7","instanceIdentifier":"60e83e86-57d9-102f-ab73-7416b6ebbd2c","name":"","source":{"id":"c811201e-6830-30a9-a373-25d1355a63a8","type":"PROCESSOR","groupId":"8b4820cf-adbd-3728-8413-693df1b86842","name":"Consume Message Attribute","comments":"","instanceIdentifier":"08fd3a6a-6b8c-1405-9e76-ec7107826e25"},"destination":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"8b4820cf-adbd-3728-8413-693df1b86842","name":"log_op_port","instanceIdentifier":"effd3a9c-8014-1c08-823c-51e918d1cbd6"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8b4820cf-adbd-3728-8413-693df1b86842"},{"identifier":"ae196b30-b1f3-32b8-a823-92d40695f481","instanceIdentifier":"afa034ce-54a0-1ff8-9a6d-de4267ee7e4f","name":"","source":{"id":"b5f28e17-195d-301c-b366-433332021b04","type":"PROCESSOR","groupId":"8b4820cf-adbd-3728-8413-693df1b86842","name":"Group","comments":"","instanceIdentifier":"c2cd3c23-206b-12bf-b945-7061d8d820fb"},"destination":{"id":"c811201e-6830-30a9-a373-25d1355a63a8","type":"PROCESSOR","groupId":"8b4820cf-adbd-3728-8413-693df1b86842","name":"Consume Message Attribute","comments":"","instanceIdentifier":"08fd3a6a-6b8c-1405-9e76-ec7107826e25"},"labelIndex":1,"zIndex":0,"selectedRelationships":["merged"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8b4820cf-adbd-3728-8413-693df1b86842"},{"identifier":"99d13cad-97f7-363c-82ea-f14643afcc9a","instanceIdentifier":"a0fc142d-0196-1000-0000-0000055eb3c2","name":"","source":{"id":"e482e673-34ff-3656-bd0a-350389a12361","type":"PROCESSOR","groupId":"8b4820cf-adbd-3728-8413-693df1b86842","name":"ReplaceText","comments":"","instanceIdentifier":"93f534fa-a391-1dd6-af8d-c0ca3ed8f947"},"destination":{"id":"823a90d2-fdbc-38c9-a3c5-9a3ce3ca2930","type":"PROCESSOR","groupId":"8b4820cf-adbd-3728-8413-693df1b86842","name":"Consume Message Attribute","comments":"","instanceIdentifier":"fadd3270-0e41-10ab-b178-ebedce278953"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8b4820cf-adbd-3728-8413-693df1b86842"},{"identifier":"7b5d5ef0-70e4-3b8b-be2a-6dd4f244ddab","instanceIdentifier":"db983a83-2747-1797-9649-313a48c1a4dc","name":"","source":{"id":"8fab70de-23b5-3b66-8db0-01ab770c74f2","type":"PROCESSOR","groupId":"8b4820cf-adbd-3728-8413-693df1b86842","name":"UpdateAttribute","comments":"","instanceIdentifier":"ad4d3b7e-1c6e-117e-905d-ea1cc5c0de92"},"destination":{"id":"7d0e90d8-94b8-3097-9223-5e1239b6aabb","type":"PROCESSOR","groupId":"8b4820cf-adbd-3728-8413-693df1b86842","name":"ReplaceText","comments":"","instanceIdentifier":"553536fb-2e5e-13a3-b9f1-58c27d619b38"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8b4820cf-adbd-3728-8413-693df1b86842"},{"identifier":"d79589f3-5ba4-3e66-8447-a3a97b60de70","instanceIdentifier":"a0b54736-0196-1000-ffff-ffffbd723622","name":"","source":{"id":"adcb72a9-4066-3171-89a9-1346ce1eeda6","type":"INPUT_PORT","groupId":"8b4820cf-adbd-3728-8413-693df1b86842","name":"input","comments":"","instanceIdentifier":"ecc2352d-5e00-1ded-a005-47d98076f5dc"},"destination":{"id":"e482e673-34ff-3656-bd0a-350389a12361","type":"PROCESSOR","groupId":"8b4820cf-adbd-3728-8413-693df1b86842","name":"ReplaceText","comments":"","instanceIdentifier":"93f534fa-a391-1dd6-af8d-c0ca3ed8f947"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8b4820cf-adbd-3728-8413-693df1b86842"},{"identifier":"e9094579-04ff-319e-8a54-678a06c6ae21","instanceIdentifier":"f9f5396e-ad3f-1af8-86c8-e96f6dd5dfbd","name":"","source":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"8b4820cf-adbd-3728-8413-693df1b86842","name":"log_ip_port","instanceIdentifier":"4cb43332-7bd4-1428-976e-9e611ecb5328"},"destination":{"id":"8fab70de-23b5-3b66-8db0-01ab770c74f2","type":"PROCESSOR","groupId":"8b4820cf-adbd-3728-8413-693df1b86842","name":"UpdateAttribute","comments":"","instanceIdentifier":"ad4d3b7e-1c6e-117e-905d-ea1cc5c0de92"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8b4820cf-adbd-3728-8413-693df1b86842"},{"identifier":"22c7f735-d406-362e-a98f-ce79e8328d75","instanceIdentifier":"5535373e-2e5e-13a3-0000-00000af490a3","name":"","source":{"id":"7d0e90d8-94b8-3097-9223-5e1239b6aabb","type":"PROCESSOR","groupId":"8b4820cf-adbd-3728-8413-693df1b86842","name":"ReplaceText","comments":"","instanceIdentifier":"553536fb-2e5e-13a3-b9f1-58c27d619b38"},"destination":{"id":"b5f28e17-195d-301c-b366-433332021b04","type":"PROCESSOR","groupId":"8b4820cf-adbd-3728-8413-693df1b86842","name":"Group","comments":"","instanceIdentifier":"c2cd3c23-206b-12bf-b945-7061d8d820fb"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8b4820cf-adbd-3728-8413-693df1b86842"},{"identifier":"631667d3-cd1f-3ee1-b150-7463b529eb7e","instanceIdentifier":"a0b4de1b-0196-1000-0000-000076d60940","name":"","source":{"id":"823a90d2-fdbc-38c9-a3c5-9a3ce3ca2930","type":"PROCESSOR","groupId":"8b4820cf-adbd-3728-8413-693df1b86842","name":"Consume Message Attribute","comments":"","instanceIdentifier":"fadd3270-0e41-10ab-b178-ebedce278953"},"destination":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"8b4820cf-adbd-3728-8413-693df1b86842","name":"log_op_port","instanceIdentifier":"effd3a9c-8014-1c08-823c-51e918d1cbd6"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8b4820cf-adbd-3728-8413-693df1b86842"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad"}],"remoteProcessGroups":[],"processors":[{"identifier":"f4e4c27a-c989-3c3a-a0f6-97a92e94e00c","instanceIdentifier":"16da91d3-2adb-317a-98e9-f2f33269eb7d","name":"SplitJson","comments":"","position":{"x":544.0,"y":632.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad"},{"identifier":"901a20a9-1feb-3fc5-ac4a-112983602695","instanceIdentifier":"3c9dfb99-ae4a-3ad8-9c41-248decce969b","name":"PutSQL","comments":"","position":{"x":544.0,"y":1040.0},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":"INSERT INTO idw.a360_cluster (\n        source_cluster_id,\n        cluster_name,\n        factor_name,\n        cluster_type\n    ) VALUES (\n        '${sourceClusterId}',\n        '${clusterName}',\n        '${factorName}',\n        '${clusterType}'\n    ) ON CONFLICT (source_cluster_id) DO\n    UPDATE SET\n        cluster_name = '${clusterName}',\n        factor_name = '${factorName}',\n        cluster_type = '${clusterType}'\nRETURNING cluster_key;","Transaction Timeout":null,"Batch Size":"100","Obtain Generated Keys":"true","JDBC Connection Pool":"be864070-cba2-3c79-986d-ccaa292953e2","database-session-autocommit":"true","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":5,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"5 mins","componentType":"PROCESSOR","groupIdentifier":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad"},{"identifier":"aa25a82b-a687-3039-a1e1-23a5f4038663","instanceIdentifier":"c8792e2b-5775-3c85-86db-aeb42117d034","name":"CheckIfCluster","comments":"","position":{"x":544.0,"y":1256.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Routing Strategy":"Route to Property name","isCluster":"${clusterType:equals('cluster')}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"isCluster":{"name":"isCluster","displayName":"isCluster","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad"},{"identifier":"057820d2-a332-381b-a148-0facbaacfa54","instanceIdentifier":"9e553de3-a429-3755-9b3f-72ce01aca7ce","name":"ExecuteGroovyScript","comments":"","position":{"x":542.9999208377858,"y":424.9998987972174},"type":"org.apache.nifi.processors.groovyx.ExecuteGroovyScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-groovyx-nar","version":"1.27.0"},"properties":{"groovyx-script-body":"import groovy.json.JsonSlurper \nimport java.nio.charset.StandardCharsets \nimport org.apache.nifi.processor.io.InputStreamCallback \nimport groovy.json.JsonOutput\n\ndef flowFile = session.get()\nif (!flowFile) {\n    return\n}\n\n// Use a variable accessible outside the callback to store the parsed data or errors\ndef data = null\ndef parseError = null\n\ntry {\n    session.read(flowFile, { inputStream ->\n        def reader = new InputStreamReader(inputStream, StandardCharsets.UTF_8)\n        data = new JsonSlurper().parse(reader)\n    } as InputStreamCallback) // Cast the closure to the required interface\n\n\n\tdef extractedClusters = []\n\n\tdata.factors.each { factorKey, factorValue ->\n      def factorName = factorValue?.factor?.name\n      factorValue?.clusters?.each { clusterKey, clusterValue ->\n          def clusterName = clusterValue?.cluster?.name\n          def sourceClusterId = 'Cluster'+clusterValue?.clientCode\n          def clusterType = clusterValue?.cluster?.type\n\t\t  def competencies = clusterValue?.competencies\n          if (clusterName && factorName && sourceClusterId) {\n              extractedClusters << [sourceClusterId:sourceClusterId, clusterName: clusterName, factorName: factorName , clusterType:clusterType, competencies:competencies]\n          }\n      }\n\t}\n\tdata.antiFactors.each { antiFactorKey, antiFactorValue ->\n      def antiFactorName = antiFactorValue?.antiFactor?.name\n      antiFactorValue?.antiClusters?.each { antiClusterKey, antiClusterValue ->\n          def clusterName = antiClusterValue?.antiCluster?.name\n          def sourceClusterId = 'AntiCluster'+antiClusterValue?.clientCode\n          def clusterType = antiClusterValue?.antiCluster?.type\n\t\t  def stallerStoppers = antiClusterValue?.stallerStoppers\n          if (clusterName && antiFactorName && sourceClusterId) {\n              extractedClusters << [sourceClusterId:sourceClusterId, clusterName: clusterName, factorName: antiFactorName ,  clusterType:clusterType, stallerStoppers:stallerStoppers]\n          }\n      }\n\t}\n\t\n    def jsonOutput = JsonOutput.toJson(extractedClusters)\n    flowFile = session.write(flowFile, { outputStream ->\n        outputStream.write(jsonOutput.getBytes(StandardCharsets.UTF_8))\n    } as OutputStreamCallback)\n\n    session.transfer(flowFile, REL_SUCCESS)\n\n} catch (Exception e) {\n    parseError = e\n\n    flowFile = session.putAttribute(flowFile, 'json.parsed.status', 'failure')\n    flowFile = session.putAttribute(flowFile, 'json.parse.error', e.getMessage())\n\n    session.transfer(flowFile, REL_FAILURE)\n}","groovyx-failure-strategy":"rollback","groovyx-additional-classpath":null,"groovyx-script-file":null},"propertyDescriptors":{"groovyx-script-body":{"name":"groovyx-script-body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false},"groovyx-failure-strategy":{"name":"groovyx-failure-strategy","displayName":"Failure strategy","identifiesControllerService":false,"sensitive":false},"groovyx-additional-classpath":{"name":"groovyx-additional-classpath","displayName":"Additional classpath","identifiesControllerService":false,"sensitive":false},"groovyx-script-file":{"name":"groovyx-script-file","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad"},{"identifier":"581ce459-58ad-35ac-86c9-98a999dbc591","instanceIdentifier":"dc873e39-b208-37fc-aede-8698a36e6707","name":"EvaluateJsonPath","comments":"","position":{"x":544.0,"y":832.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Destination":"flowfile-attribute","clusterType":"$.clusterType","Max String Length":"20 MB","Return Type":"auto-detect","factorName":"$.factorName","clusterName":"$.clusterName","Null Value Representation":"empty string","sourceClusterId":"$.sourceClusterId","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"clusterType":{"name":"clusterType","displayName":"clusterType","identifiesControllerService":false,"sensitive":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"factorName":{"name":"factorName","displayName":"factorName","identifiesControllerService":false,"sensitive":false},"clusterName":{"name":"clusterName","displayName":"clusterName","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"sourceClusterId":{"name":"sourceClusterId","displayName":"sourceClusterId","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad"}],"inputPorts":[{"identifier":"d7955b05-0375-3537-bff2-1c538af633c7","instanceIdentifier":"c0a0fb66-058a-3207-8c80-0b3b579c1335","name":"input","position":{"x":600.0,"y":296.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad"}],"outputPorts":[{"identifier":"d78323b9-dfd2-33ff-af9c-bae28267a0ef","instanceIdentifier":"5aa6df21-d17b-3ead-9d91-7b5e023960bc","name":"to_competency","comments":"","position":{"x":352.0,"y":1488.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad"},{"identifier":"78735a2e-dc47-38b5-a91c-030c17b36135","instanceIdentifier":"05390fe0-f052-3152-98d7-28c41b3d61a5","name":"to logger","comments":"","position":{"x":1280.0,"y":1320.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad"},{"identifier":"fa5ea2e3-fd35-3756-9c19-b61a32a0aa2f","instanceIdentifier":"8c2e4c08-9a08-30b4-9e5c-23c769c15fed","name":"toStallerAndStopper","comments":"","position":{"x":928.0,"y":1488.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad"}],"connections":[{"identifier":"224d8010-a781-31e1-aa62-c901d4623b90","instanceIdentifier":"5be862ce-91e6-393c-80d7-4b25cda11b61","name":"","source":{"id":"901a20a9-1feb-3fc5-ac4a-112983602695","type":"PROCESSOR","groupId":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad","name":"PutSQL","comments":"","instanceIdentifier":"3c9dfb99-ae4a-3ad8-9c41-248decce969b"},"destination":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"8b4820cf-adbd-3728-8413-693df1b86842","name":"log_ip_port","instanceIdentifier":"4cb43332-7bd4-1428-976e-9e611ecb5328"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success","failure","retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad"},{"identifier":"a430046f-e275-3e34-9a53-41fa54a21fd7","instanceIdentifier":"d8c4ead2-f6f7-3b18-812c-1438c11ca0f5","name":"","source":{"id":"057820d2-a332-381b-a148-0facbaacfa54","type":"PROCESSOR","groupId":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad","name":"ExecuteGroovyScript","comments":"","instanceIdentifier":"9e553de3-a429-3755-9b3f-72ce01aca7ce"},"destination":{"id":"adcb72a9-4066-3171-89a9-1346ce1eeda6","type":"INPUT_PORT","groupId":"8b4820cf-adbd-3728-8413-693df1b86842","name":"input","comments":"","instanceIdentifier":"ecc2352d-5e00-1ded-a005-47d98076f5dc"},"labelIndex":0,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1400.0,"y":488.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad"},{"identifier":"af9a7be1-aacb-31d1-aed8-e367688e4da9","instanceIdentifier":"409d1a19-949d-3367-8975-167f25aa9d9c","name":"","source":{"id":"d7955b05-0375-3537-bff2-1c538af633c7","type":"INPUT_PORT","groupId":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad","name":"input","instanceIdentifier":"c0a0fb66-058a-3207-8c80-0b3b579c1335"},"destination":{"id":"057820d2-a332-381b-a148-0facbaacfa54","type":"PROCESSOR","groupId":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad","name":"ExecuteGroovyScript","comments":"","instanceIdentifier":"9e553de3-a429-3755-9b3f-72ce01aca7ce"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad"},{"identifier":"d6dcc0ea-64d4-3ebd-a2a6-3928804f8304","instanceIdentifier":"870a1690-8c64-312f-aa19-d6526bce0af6","name":"","source":{"id":"aa25a82b-a687-3039-a1e1-23a5f4038663","type":"PROCESSOR","groupId":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad","name":"CheckIfCluster","comments":"","instanceIdentifier":"c8792e2b-5775-3c85-86db-aeb42117d034"},"destination":{"id":"d78323b9-dfd2-33ff-af9c-bae28267a0ef","type":"OUTPUT_PORT","groupId":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad","name":"to_competency","comments":"","instanceIdentifier":"5aa6df21-d17b-3ead-9d91-7b5e023960bc"},"labelIndex":1,"zIndex":0,"selectedRelationships":["isCluster"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad"},{"identifier":"43c77714-3605-3139-8fb7-e9328703aa6c","instanceIdentifier":"9f5ec9b1-df4a-3baa-8091-c235f72acbe2","name":"","source":{"id":"f4e4c27a-c989-3c3a-a0f6-97a92e94e00c","type":"PROCESSOR","groupId":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad","name":"SplitJson","comments":"","instanceIdentifier":"16da91d3-2adb-317a-98e9-f2f33269eb7d"},"destination":{"id":"581ce459-58ad-35ac-86c9-98a999dbc591","type":"PROCESSOR","groupId":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"dc873e39-b208-37fc-aede-8698a36e6707"},"labelIndex":1,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad"},{"identifier":"348bc261-f8da-3fa1-9192-2336c203f2fa","instanceIdentifier":"8748a8fe-4423-3c7d-be6d-1c19f9bd5278","name":"","source":{"id":"057820d2-a332-381b-a148-0facbaacfa54","type":"PROCESSOR","groupId":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad","name":"ExecuteGroovyScript","comments":"","instanceIdentifier":"9e553de3-a429-3755-9b3f-72ce01aca7ce"},"destination":{"id":"f4e4c27a-c989-3c3a-a0f6-97a92e94e00c","type":"PROCESSOR","groupId":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad","name":"SplitJson","comments":"","instanceIdentifier":"16da91d3-2adb-317a-98e9-f2f33269eb7d"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad"},{"identifier":"ed5a6aaf-7fc5-35f8-8481-47eca46fa000","instanceIdentifier":"74d10f82-53db-381d-a8d3-62c99c25e321","name":"","source":{"id":"901a20a9-1feb-3fc5-ac4a-112983602695","type":"PROCESSOR","groupId":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad","name":"PutSQL","comments":"","instanceIdentifier":"3c9dfb99-ae4a-3ad8-9c41-248decce969b"},"destination":{"id":"aa25a82b-a687-3039-a1e1-23a5f4038663","type":"PROCESSOR","groupId":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad","name":"CheckIfCluster","comments":"","instanceIdentifier":"c8792e2b-5775-3c85-86db-aeb42117d034"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad"},{"identifier":"bfcd5137-1c01-3801-8f93-c5d9799b5c5b","instanceIdentifier":"a0b5d913-0196-1000-ffff-ffff9a6bc92b","name":"","source":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"8b4820cf-adbd-3728-8413-693df1b86842","name":"log_op_port","instanceIdentifier":"effd3a9c-8014-1c08-823c-51e918d1cbd6"},"destination":{"id":"78735a2e-dc47-38b5-a91c-030c17b36135","type":"OUTPUT_PORT","groupId":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad","name":"to logger","comments":"","instanceIdentifier":"05390fe0-f052-3152-98d7-28c41b3d61a5"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad"},{"identifier":"44928540-762e-3847-b1ec-8b72705a3013","instanceIdentifier":"177e58b1-d270-34cb-ba04-6d17e3736035","name":"","source":{"id":"aa25a82b-a687-3039-a1e1-23a5f4038663","type":"PROCESSOR","groupId":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad","name":"CheckIfCluster","comments":"","instanceIdentifier":"c8792e2b-5775-3c85-86db-aeb42117d034"},"destination":{"id":"fa5ea2e3-fd35-3756-9c19-b61a32a0aa2f","type":"OUTPUT_PORT","groupId":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad","name":"toStallerAndStopper","comments":"","instanceIdentifier":"8c2e4c08-9a08-30b4-9e5c-23c769c15fed"},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad"},{"identifier":"fa3aeca0-b49b-3a8a-a9c0-aec031faf670","instanceIdentifier":"b19ac1a5-bde8-3437-bce9-38abfd64a8c9","name":"","source":{"id":"581ce459-58ad-35ac-86c9-98a999dbc591","type":"PROCESSOR","groupId":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"dc873e39-b208-37fc-aede-8698a36e6707"},"destination":{"id":"901a20a9-1feb-3fc5-ac4a-112983602695","type":"PROCESSOR","groupId":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad","name":"PutSQL","comments":"","instanceIdentifier":"3c9dfb99-ae4a-3ad8-9c41-248decce969b"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a","instanceIdentifier":"8c446270-c153-30c2-b15b-9f63e52deb6c","name":"a360_competency_behaviour","comments":"","position":{"x":-6520.0,"y":1648.0},"processGroups":[{"identifier":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b","instanceIdentifier":"8d8b3e64-df52-1c3f-aabe-1dc1d8391e45","name":"FRAME LOGS","comments":"","position":{"x":1088.0,"y":616.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"c811201e-6830-30a9-a373-25d1355a63a8","instanceIdentifier":"320d351f-1351-10cb-9c21-dbc125fcbfc2","name":"Consume Message Attribute","comments":"","position":{"x":416.0,"y":208.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"CMS - a360_competency_behaviour","flow_name":"CMS","extras":"competency_behaviour_count : ${merge.count}","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"extras":{"name":"extras","displayName":"extras","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b"},{"identifier":"8fab70de-23b5-3b66-8db0-01ab770c74f2","instanceIdentifier":"38333c48-a410-1f37-a1a2-ae117d555a5b","name":"UpdateAttribute","comments":"","position":{"x":416.0,"y":-416.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","merge_key":"${app_uuid}${source_model_id}Competency${clientCode}${error.message:isEmpty()}${error.sql.state}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"merge_key":{"name":"merge_key","displayName":"merge_key","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b"},{"identifier":"19cf79f0-0ef4-3357-a2b7-25cc32884e61","instanceIdentifier":"bd033d12-ac55-1dd4-98b3-ff63d97db6e4","name":"Consume Message Attribute","comments":"","position":{"x":-48.0,"y":208.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.validation')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","error.message":"Failed to parse JSON payload: ${json.parse.error}","module":"CMS - a360_competency_behaviour","flow_name":"CMS","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"error.message":{"name":"error.message","displayName":"error.message","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b"},{"identifier":"688dc5ad-a8e5-3407-979c-56adab6fe75a","instanceIdentifier":"5ee43343-a176-1a61-a36f-f22ac7116dd6","name":"ReplaceText","comments":"","position":{"x":-48.0,"y":8.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\"id\":\"${source_model_id}\"}","Evaluation Mode":"Entire text","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"20 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b"},{"identifier":"b5f28e17-195d-301c-b366-433332021b04","instanceIdentifier":"d6183021-fd6e-1e5c-a514-353568203796","name":"Group","comments":"","position":{"x":416.0,"y":8.0},"type":"org.apache.nifi.processors.standard.MergeContent","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Keep Path":"false","Maximum Group Size":null,"Merge Strategy":"Bin-Packing Algorithm","Attribute Strategy":"Keep All Unique Attributes","Compression Level":"1","Maximum Number of Entries":"10000","Minimum Group Size":"0 B","Maximum number of Bins":"2","Tar Modified Time":"${file.lastModifiedTime}","Delimiter Strategy":"Do Not Use Delimiters","Merge Format":"Binary Concatenation","Footer File":null,"Max Bin Age":"60 sec","Demarcator File":null,"Correlation Attribute Name":"merge_key","Header File":null,"mergecontent-metadata-strategy":"Do Not Merge Uncommon Metadata","Minimum Number of Entries":"1000"},"propertyDescriptors":{"Keep Path":{"name":"Keep Path","displayName":"Keep Path","identifiesControllerService":false,"sensitive":false},"Maximum Group Size":{"name":"Maximum Group Size","displayName":"Maximum Group Size","identifiesControllerService":false,"sensitive":false},"Merge Strategy":{"name":"Merge Strategy","displayName":"Merge Strategy","identifiesControllerService":false,"sensitive":false},"Attribute Strategy":{"name":"Attribute Strategy","displayName":"Attribute Strategy","identifiesControllerService":false,"sensitive":false},"Compression Level":{"name":"Compression Level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"Maximum Number of Entries":{"name":"Maximum Number of Entries","displayName":"Maximum Number of Entries","identifiesControllerService":false,"sensitive":false},"Minimum Group Size":{"name":"Minimum Group Size","displayName":"Minimum Group Size","identifiesControllerService":false,"sensitive":false},"Maximum number of Bins":{"name":"Maximum number of Bins","displayName":"Maximum number of Bins","identifiesControllerService":false,"sensitive":false},"Tar Modified Time":{"name":"Tar Modified Time","displayName":"Tar Modified Time","identifiesControllerService":false,"sensitive":false},"Delimiter Strategy":{"name":"Delimiter Strategy","displayName":"Delimiter Strategy","identifiesControllerService":false,"sensitive":false},"Merge Format":{"name":"Merge Format","displayName":"Merge Format","identifiesControllerService":false,"sensitive":false},"Footer File":{"name":"Footer File","displayName":"Footer","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Max Bin Age":{"name":"Max Bin Age","displayName":"Max Bin Age","identifiesControllerService":false,"sensitive":false},"Demarcator File":{"name":"Demarcator File","displayName":"Demarcator","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Correlation Attribute Name":{"name":"Correlation Attribute Name","displayName":"Correlation Attribute Name","identifiesControllerService":false,"sensitive":false},"Header File":{"name":"Header File","displayName":"Header","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"mergecontent-metadata-strategy":{"name":"mergecontent-metadata-strategy","displayName":"Metadata Strategy","identifiesControllerService":false,"sensitive":false},"Minimum Number of Entries":{"name":"Minimum Number of Entries","displayName":"Minimum Number of Entries","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b"},{"identifier":"6c8f1b3e-16aa-31c5-9d9a-1aae1da0afcd","instanceIdentifier":"fb2932c9-bd2e-1b69-8073-2533ea3d0a94","name":"ReplaceText","comments":"","position":{"x":416.0,"y":-208.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\"id\":\"${sourcebehaviorId}\"}","Evaluation Mode":"Entire text","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"20 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b"}],"inputPorts":[{"identifier":"69c38982-4205-35c8-8503-c742a525b3bf","instanceIdentifier":"24d73501-e61d-1055-9576-5b7ddb2540d7","name":"log_ip_port","position":{"x":472.0,"y":-528.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b"},{"identifier":"d183296d-658c-3367-909a-9761b301e59e","instanceIdentifier":"28f4302d-ec3e-1f41-9335-de2f7b3f6b8b","name":"input","comments":"","position":{"x":8.0,"y":-104.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b"}],"outputPorts":[{"identifier":"a88ac5a0-8497-357d-a932-9898df7af4b8","instanceIdentifier":"d5ff3bcf-5acd-1b24-8fec-9e6c233805a9","name":"log_op_port","position":{"x":472.0,"y":480.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b"}],"connections":[{"identifier":"ae196b30-b1f3-32b8-a823-92d40695f481","instanceIdentifier":"51853ee5-2b41-1c95-8ff6-85b73fb6bbed","name":"","source":{"id":"b5f28e17-195d-301c-b366-433332021b04","type":"PROCESSOR","groupId":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b","name":"Group","comments":"","instanceIdentifier":"d6183021-fd6e-1e5c-a514-353568203796"},"destination":{"id":"c811201e-6830-30a9-a373-25d1355a63a8","type":"PROCESSOR","groupId":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b","name":"Consume Message Attribute","comments":"","instanceIdentifier":"320d351f-1351-10cb-9c21-dbc125fcbfc2"},"labelIndex":1,"zIndex":0,"selectedRelationships":["merged"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b"},{"identifier":"cd44e86c-4d10-3c98-a625-1237b563c6b7","instanceIdentifier":"3cab38c7-51ea-173b-9419-b38644462727","name":"","source":{"id":"c811201e-6830-30a9-a373-25d1355a63a8","type":"PROCESSOR","groupId":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b","name":"Consume Message Attribute","comments":"","instanceIdentifier":"320d351f-1351-10cb-9c21-dbc125fcbfc2"},"destination":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b","name":"log_op_port","instanceIdentifier":"d5ff3bcf-5acd-1b24-8fec-9e6c233805a9"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b"},{"identifier":"7fddb799-e912-3f85-a9df-b698a6458a2e","instanceIdentifier":"19453e64-4a74-1ae3-a6ea-8020fb129fec","name":"","source":{"id":"19cf79f0-0ef4-3357-a2b7-25cc32884e61","type":"PROCESSOR","groupId":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b","name":"Consume Message Attribute","comments":"","instanceIdentifier":"bd033d12-ac55-1dd4-98b3-ff63d97db6e4"},"destination":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b","name":"log_op_port","instanceIdentifier":"d5ff3bcf-5acd-1b24-8fec-9e6c233805a9"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":128.0,"y":504.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b"},{"identifier":"dc7c3e32-76e4-318b-bdef-f6c755382f78","instanceIdentifier":"c9bd36cb-f601-191e-9cbb-d5063c5702ed","name":"","source":{"id":"d183296d-658c-3367-909a-9761b301e59e","type":"INPUT_PORT","groupId":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b","name":"input","comments":"","instanceIdentifier":"28f4302d-ec3e-1f41-9335-de2f7b3f6b8b"},"destination":{"id":"688dc5ad-a8e5-3407-979c-56adab6fe75a","type":"PROCESSOR","groupId":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b","name":"ReplaceText","comments":"","instanceIdentifier":"5ee43343-a176-1a61-a36f-f22ac7116dd6"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b"},{"identifier":"5b26270b-dc4f-3fbe-8bd1-a443d0748795","instanceIdentifier":"55633835-1557-1570-8491-db3493505fcf","name":"","source":{"id":"6c8f1b3e-16aa-31c5-9d9a-1aae1da0afcd","type":"PROCESSOR","groupId":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b","name":"ReplaceText","comments":"","instanceIdentifier":"fb2932c9-bd2e-1b69-8073-2533ea3d0a94"},"destination":{"id":"b5f28e17-195d-301c-b366-433332021b04","type":"PROCESSOR","groupId":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b","name":"Group","comments":"","instanceIdentifier":"d6183021-fd6e-1e5c-a514-353568203796"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b"},{"identifier":"7b5d5ef0-70e4-3b8b-be2a-6dd4f244ddab","instanceIdentifier":"e0283d08-a150-10d2-9bf3-065ab7006865","name":"","source":{"id":"8fab70de-23b5-3b66-8db0-01ab770c74f2","type":"PROCESSOR","groupId":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b","name":"UpdateAttribute","comments":"","instanceIdentifier":"38333c48-a410-1f37-a1a2-ae117d555a5b"},"destination":{"id":"6c8f1b3e-16aa-31c5-9d9a-1aae1da0afcd","type":"PROCESSOR","groupId":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b","name":"ReplaceText","comments":"","instanceIdentifier":"fb2932c9-bd2e-1b69-8073-2533ea3d0a94"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b"},{"identifier":"e9094579-04ff-319e-8a54-678a06c6ae21","instanceIdentifier":"22f13d38-b1be-1a6f-b7dd-e44d65f59627","name":"","source":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b","name":"log_ip_port","instanceIdentifier":"24d73501-e61d-1055-9576-5b7ddb2540d7"},"destination":{"id":"8fab70de-23b5-3b66-8db0-01ab770c74f2","type":"PROCESSOR","groupId":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b","name":"UpdateAttribute","comments":"","instanceIdentifier":"38333c48-a410-1f37-a1a2-ae117d555a5b"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b"},{"identifier":"50ff83aa-f5f2-37de-96d6-4b04e603f8e5","instanceIdentifier":"5f8c3d16-f97a-1cb1-9e84-d1f01359b86c","name":"","source":{"id":"688dc5ad-a8e5-3407-979c-56adab6fe75a","type":"PROCESSOR","groupId":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b","name":"ReplaceText","comments":"","instanceIdentifier":"5ee43343-a176-1a61-a36f-f22ac7116dd6"},"destination":{"id":"19cf79f0-0ef4-3357-a2b7-25cc32884e61","type":"PROCESSOR","groupId":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b","name":"Consume Message Attribute","comments":"","instanceIdentifier":"bd033d12-ac55-1dd4-98b3-ff63d97db6e4"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a"}],"remoteProcessGroups":[],"processors":[{"identifier":"343be33d-bdf5-3a40-b5e3-d906476de7b2","instanceIdentifier":"46ba20c7-40bc-3ab7-b158-58ddab181ee8","name":"PutSQL","comments":"","position":{"x":544.0,"y":1048.0},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":"INSERT INTO idw.a360_competency_behavior (\n        source_behavior_id,\n        stage,\n        behavior_name,\n        competency_key\n    ) VALUES (\n        '${sourcebehaviorId}',\n        '${stageId}',\n        '${behaviorName:replace(\"'\", \"''\")}',\n        (select competency_key from idw.a360_competency where competency_key ='${sql.generated.key}' limit 1)\n    ) ON CONFLICT (source_behavior_id, stage, competency_key) DO\n    UPDATE SET\n        source_behavior_id = '${sourcebehaviorId}',\n        stage = '${stageId}',\n\t\tbehavior_name ='${behaviorName:replace(\"'\", \"''\")}',\n\t\tcompetency_key= (select competency_key from idw.a360_competency where competency_key ='${sql.generated.key}' limit 1)\nRETURNING competency_behavior_key;","Transaction Timeout":null,"Batch Size":"100","Obtain Generated Keys":"true","JDBC Connection Pool":"be864070-cba2-3c79-986d-ccaa292953e2","database-session-autocommit":"true","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":3,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":5,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"5 mins","componentType":"PROCESSOR","groupIdentifier":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a"},{"identifier":"1fb3dd24-6068-3659-9dc9-ece51487968f","instanceIdentifier":"b107e7d9-bfa6-375d-8da6-9055f0eefaf1","name":"EvaluateJsonPath","comments":"","position":{"x":544.0,"y":840.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"sourcebehaviorId":"$.sourcebehaviorId","Destination":"flowfile-attribute","stageName":"$.stageName","behaviorName":"$.behaviorName","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore","stageId":"$.stageId"},"propertyDescriptors":{"sourcebehaviorId":{"name":"sourcebehaviorId","displayName":"sourcebehaviorId","identifiesControllerService":false,"sensitive":false},"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"stageName":{"name":"stageName","displayName":"stageName","identifiesControllerService":false,"sensitive":false},"behaviorName":{"name":"behaviorName","displayName":"behaviorName","identifiesControllerService":false,"sensitive":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false},"stageId":{"name":"stageId","displayName":"stageId","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a"},{"identifier":"d0953c15-034e-3647-a266-499132fceef0","instanceIdentifier":"44d12d59-4c8f-35cb-8eb4-3883d147f3e7","name":"SplitJson","comments":"","position":{"x":544.0,"y":632.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a"},{"identifier":"47886645-03b2-38ea-853a-7769fe046a19","instanceIdentifier":"4c606582-5aaf-3806-95ac-e67c3252f9f8","name":"ExecuteGroovyScript","comments":"","position":{"x":544.0,"y":440.0},"type":"org.apache.nifi.processors.groovyx.ExecuteGroovyScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-groovyx-nar","version":"1.27.0"},"properties":{"groovyx-script-body":"import groovy.json.JsonSlurper \nimport java.nio.charset.StandardCharsets \nimport org.apache.nifi.processor.io.InputStreamCallback \nimport groovy.json.JsonOutput\n\ndef flowFile = session.get()\nif (!flowFile) {\n    return\n}\n\n// Use a variable accessible outside the callback to store the parsed data or errors\ndef data = null\ndef parseError = null\n\ntry {\n    session.read(flowFile, { inputStream ->\n        def reader = new InputStreamReader(inputStream, StandardCharsets.UTF_8)\n        data = new JsonSlurper().parse(reader)\n    } as InputStreamCallback) // Cast the closure to the required interface\n\n\n\tdef behaviors = []\n\n    data.stages.each { stageKey, stageValue ->\n\t\t  def stageId = 'Stage'+stageValue?.clientCode\n          def stageName = stageValue?.stage?.name\n          stageValue?.behaviors?.each { behaviorKey, behaviorValue ->\n              def behaviorName = behaviorValue?.behavior?.name\n              def sourcebehaviorId = 'Behavior'+behaviorValue?.clientCode\n              if (behaviorName && sourcebehaviorId && stageName) {\n                  behaviors << [behaviorName:behaviorName, sourcebehaviorId: sourcebehaviorId, stageName: stageName, stageId: stageId]\n              }\n          }\n        }\n\t\n    def jsonOutput = JsonOutput.toJson(behaviors)\n    flowFile = session.write(flowFile, { outputStream ->\n        outputStream.write(jsonOutput.getBytes(StandardCharsets.UTF_8))\n    } as OutputStreamCallback)\n\n    session.transfer(flowFile, REL_SUCCESS)\n\n} catch (Exception e) {\n    parseError = e\n\n    flowFile = session.putAttribute(flowFile, 'json.parsed.status', 'failure')\n    flowFile = session.putAttribute(flowFile, 'json.parse.error', e.getMessage())\n\n    session.transfer(flowFile, REL_FAILURE)\n}","groovyx-failure-strategy":"rollback","groovyx-additional-classpath":null,"groovyx-script-file":null},"propertyDescriptors":{"groovyx-script-body":{"name":"groovyx-script-body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false},"groovyx-failure-strategy":{"name":"groovyx-failure-strategy","displayName":"Failure strategy","identifiesControllerService":false,"sensitive":false},"groovyx-additional-classpath":{"name":"groovyx-additional-classpath","displayName":"Additional classpath","identifiesControllerService":false,"sensitive":false},"groovyx-script-file":{"name":"groovyx-script-file","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a"}],"inputPorts":[{"identifier":"8ec84290-18bb-30d3-b491-3b821656585d","instanceIdentifier":"28ed06dc-835d-30cd-8bd6-845df9681956","name":"input","position":{"x":592.0,"y":328.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a"}],"outputPorts":[{"identifier":"7ee6a3ad-458b-39f9-8480-9554a3d6c01e","instanceIdentifier":"80af67a7-7574-3b47-a218-049bc741baa1","name":"to_logger","position":{"x":1736.0,"y":672.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a"},{"identifier":"fb7722eb-f676-3191-9fdf-3d52b1d7fd52","instanceIdentifier":"1c1f4f00-d81c-383a-aade-6fe61d916c47","name":"output","position":{"x":600.0,"y":1264.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a"}],"connections":[{"identifier":"1be6c149-6bbf-3d46-a69f-cf12a781934a","instanceIdentifier":"a2ca5eb5-7687-3774-b109-1b5c1f7a41dc","name":"","source":{"id":"343be33d-bdf5-3a40-b5e3-d906476de7b2","type":"PROCESSOR","groupId":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a","name":"PutSQL","comments":"","instanceIdentifier":"46ba20c7-40bc-3ab7-b158-58ddab181ee8"},"destination":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b","name":"log_ip_port","instanceIdentifier":"24d73501-e61d-1055-9576-5b7ddb2540d7"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success","failure","retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1280.0,"y":1112.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a"},{"identifier":"17260478-93d9-35e2-a1c7-195b9a85fea0","instanceIdentifier":"5c7e2bd7-1f45-3fa2-8192-a1b3b0682632","name":"","source":{"id":"1fb3dd24-6068-3659-9dc9-ece51487968f","type":"PROCESSOR","groupId":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"b107e7d9-bfa6-375d-8da6-9055f0eefaf1"},"destination":{"id":"343be33d-bdf5-3a40-b5e3-d906476de7b2","type":"PROCESSOR","groupId":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a","name":"PutSQL","comments":"","instanceIdentifier":"46ba20c7-40bc-3ab7-b158-58ddab181ee8"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a"},{"identifier":"44576052-f76c-36dc-8d09-99ffcb537732","instanceIdentifier":"73ca1e30-3c40-3b1e-a89a-30b489775b7a","name":"","source":{"id":"d0953c15-034e-3647-a266-499132fceef0","type":"PROCESSOR","groupId":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a","name":"SplitJson","comments":"","instanceIdentifier":"44d12d59-4c8f-35cb-8eb4-3883d147f3e7"},"destination":{"id":"1fb3dd24-6068-3659-9dc9-ece51487968f","type":"PROCESSOR","groupId":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"b107e7d9-bfa6-375d-8da6-9055f0eefaf1"},"labelIndex":1,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a"},{"identifier":"a6b463f3-078c-35a4-b762-5e18c0434428","instanceIdentifier":"9b10ae8f-cc72-3688-bca0-975a8de5f6a2","name":"","source":{"id":"47886645-03b2-38ea-853a-7769fe046a19","type":"PROCESSOR","groupId":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a","name":"ExecuteGroovyScript","comments":"","instanceIdentifier":"4c606582-5aaf-3806-95ac-e67c3252f9f8"},"destination":{"id":"d0953c15-034e-3647-a266-499132fceef0","type":"PROCESSOR","groupId":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a","name":"SplitJson","comments":"","instanceIdentifier":"44d12d59-4c8f-35cb-8eb4-3883d147f3e7"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a"},{"identifier":"731dec3b-4a2c-34da-817c-e439043c8ebe","instanceIdentifier":"154ef52b-c8e4-392f-97d1-b19665bb8362","name":"","source":{"id":"8ec84290-18bb-30d3-b491-3b821656585d","type":"INPUT_PORT","groupId":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a","name":"input","instanceIdentifier":"28ed06dc-835d-30cd-8bd6-845df9681956"},"destination":{"id":"47886645-03b2-38ea-853a-7769fe046a19","type":"PROCESSOR","groupId":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a","name":"ExecuteGroovyScript","comments":"","instanceIdentifier":"4c606582-5aaf-3806-95ac-e67c3252f9f8"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a"},{"identifier":"8965fa53-b028-39b2-a299-5da85394fe8d","instanceIdentifier":"55633851-1557-1570-0000-000055a62cc5","name":"","source":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b","name":"log_op_port","instanceIdentifier":"d5ff3bcf-5acd-1b24-8fec-9e6c233805a9"},"destination":{"id":"7ee6a3ad-458b-39f9-8480-9554a3d6c01e","type":"OUTPUT_PORT","groupId":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a","name":"to_logger","instanceIdentifier":"80af67a7-7574-3b47-a218-049bc741baa1"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a"},{"identifier":"01b95c70-d673-39ef-8dd7-08f871dfad70","instanceIdentifier":"977b200e-ab7b-3276-99e3-e99d723f0b12","name":"","source":{"id":"47886645-03b2-38ea-853a-7769fe046a19","type":"PROCESSOR","groupId":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a","name":"ExecuteGroovyScript","comments":"","instanceIdentifier":"4c606582-5aaf-3806-95ac-e67c3252f9f8"},"destination":{"id":"d183296d-658c-3367-909a-9761b301e59e","type":"INPUT_PORT","groupId":"c9d5fc0d-ee6b-3527-bcc8-0a1b14fab18b","name":"input","comments":"","instanceIdentifier":"28f4302d-ec3e-1f41-9335-de2f7b3f6b8b"},"labelIndex":0,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1280.0,"y":504.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a"},{"identifier":"f14772ca-adcb-3b50-939d-a7efa94763cc","instanceIdentifier":"e6d5c645-2d31-3183-a64e-e67906a80a10","name":"","source":{"id":"343be33d-bdf5-3a40-b5e3-d906476de7b2","type":"PROCESSOR","groupId":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a","name":"PutSQL","comments":"","instanceIdentifier":"46ba20c7-40bc-3ab7-b158-58ddab181ee8"},"destination":{"id":"fb7722eb-f676-3191-9fdf-3d52b1d7fd52","type":"OUTPUT_PORT","groupId":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a","name":"output","instanceIdentifier":"1c1f4f00-d81c-383a-aade-6fe61d916c47"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"4c9dbadc-19e8-3764-a585-0fcc9f173b92","instanceIdentifier":"2ce3fe70-3968-3974-a7f1-f6fcc278340f","name":"Fetch Models","comments":"","position":{"x":-5808.0,"y":376.0},"processGroups":[{"identifier":"ffef5e0b-81ac-3eb3-8cf8-9c07fc5f9796","instanceIdentifier":"dd2e38bb-889a-1333-0000-000067889f30","name":"FRAME_LOGS","comments":"","position":{"x":-5152.0,"y":-136.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"44deaed0-2ce3-3977-9087-8eb8a4298454","instanceIdentifier":"0ab739dd-26ea-1c58-912b-ff1f205b153a","name":"Consume Message Attribute","comments":"","position":{"x":-5528.0,"y":-264.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.validation')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","error.message":"No models present in a360_model table. ","module":"CMS - Fetch Models","flow_name":"CMS","manual_error":"true","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"error.message":{"name":"error.message","displayName":"error.message","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"ffef5e0b-81ac-3eb3-8cf8-9c07fc5f9796"},{"identifier":"2c26c716-b35f-3834-9587-09c01f13ca20","instanceIdentifier":"dd2e38ab-889a-1333-8b66-e5c428ab9ebf","name":"Consume Message Attribute","comments":"","position":{"x":-5128.0,"y":-256.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"error.sql.state":"400","log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","error.message":"${executesql.error.message}","module":"CMS - Fetch Models","flow_name":"CMS","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"error.sql.state":{"name":"error.sql.state","displayName":"error.sql.state","identifiesControllerService":false,"sensitive":false},"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"error.message":{"name":"error.message","displayName":"error.message","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"ffef5e0b-81ac-3eb3-8cf8-9c07fc5f9796"}],"inputPorts":[{"identifier":"382e72a0-9dd4-3529-863a-ce48cd394b36","instanceIdentifier":"dd2e38cc-889a-1333-ffff-ffffc8dae2db","name":"input","position":{"x":-5064.0,"y":-384.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"ffef5e0b-81ac-3eb3-8cf8-9c07fc5f9796"},{"identifier":"ece9cccf-57f2-3ebc-8459-d2f8ca15ded8","instanceIdentifier":"a7a83247-d9cc-1808-9c2b-a9e21ed8c8ff","name":"inputFromRoute","comments":"","position":{"x":-5480.0,"y":-376.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"ffef5e0b-81ac-3eb3-8cf8-9c07fc5f9796"}],"outputPorts":[{"identifier":"2b6f09a5-9501-318d-86ac-08f9dde7db9d","instanceIdentifier":"dd2e38db-889a-1333-ffff-fffff4dc7934","name":"output","position":{"x":-5280.0,"y":-8.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"ffef5e0b-81ac-3eb3-8cf8-9c07fc5f9796"}],"connections":[{"identifier":"e263c284-654f-3103-adc6-df264df3febe","instanceIdentifier":"a7a8324b-d9cc-1808-0000-00001a35e23f","name":"","source":{"id":"ece9cccf-57f2-3ebc-8459-d2f8ca15ded8","type":"INPUT_PORT","groupId":"ffef5e0b-81ac-3eb3-8cf8-9c07fc5f9796","name":"inputFromRoute","comments":"","instanceIdentifier":"a7a83247-d9cc-1808-9c2b-a9e21ed8c8ff"},"destination":{"id":"44deaed0-2ce3-3977-9087-8eb8a4298454","type":"PROCESSOR","groupId":"ffef5e0b-81ac-3eb3-8cf8-9c07fc5f9796","name":"Consume Message Attribute","comments":"","instanceIdentifier":"0ab739dd-26ea-1c58-912b-ff1f205b153a"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ffef5e0b-81ac-3eb3-8cf8-9c07fc5f9796"},{"identifier":"0143cabe-65e6-3dc9-ab90-ad6ff2f929a8","instanceIdentifier":"dd2e38e6-889a-1333-ffff-fffff4bae7cd","name":"","source":{"id":"2c26c716-b35f-3834-9587-09c01f13ca20","type":"PROCESSOR","groupId":"ffef5e0b-81ac-3eb3-8cf8-9c07fc5f9796","name":"Consume Message Attribute","comments":"","instanceIdentifier":"dd2e38ab-889a-1333-8b66-e5c428ab9ebf"},"destination":{"id":"2b6f09a5-9501-318d-86ac-08f9dde7db9d","type":"OUTPUT_PORT","groupId":"ffef5e0b-81ac-3eb3-8cf8-9c07fc5f9796","name":"output","instanceIdentifier":"dd2e38db-889a-1333-ffff-fffff4dc7934"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ffef5e0b-81ac-3eb3-8cf8-9c07fc5f9796"},{"identifier":"ac5a226b-c354-322e-8a76-b9deb0af5ea6","instanceIdentifier":"a7a83253-d9cc-1808-ffff-ffffbe111425","name":"","source":{"id":"44deaed0-2ce3-3977-9087-8eb8a4298454","type":"PROCESSOR","groupId":"ffef5e0b-81ac-3eb3-8cf8-9c07fc5f9796","name":"Consume Message Attribute","comments":"","instanceIdentifier":"0ab739dd-26ea-1c58-912b-ff1f205b153a"},"destination":{"id":"2b6f09a5-9501-318d-86ac-08f9dde7db9d","type":"OUTPUT_PORT","groupId":"ffef5e0b-81ac-3eb3-8cf8-9c07fc5f9796","name":"output","instanceIdentifier":"dd2e38db-889a-1333-ffff-fffff4dc7934"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ffef5e0b-81ac-3eb3-8cf8-9c07fc5f9796"},{"identifier":"387a2dee-0899-3e97-bfa1-2ea0abbbab9f","instanceIdentifier":"dd2e38d4-889a-1333-ffff-ffffe3d53a72","name":"","source":{"id":"382e72a0-9dd4-3529-863a-ce48cd394b36","type":"INPUT_PORT","groupId":"ffef5e0b-81ac-3eb3-8cf8-9c07fc5f9796","name":"input","instanceIdentifier":"dd2e38cc-889a-1333-ffff-ffffc8dae2db"},"destination":{"id":"2c26c716-b35f-3834-9587-09c01f13ca20","type":"PROCESSOR","groupId":"ffef5e0b-81ac-3eb3-8cf8-9c07fc5f9796","name":"Consume Message Attribute","comments":"","instanceIdentifier":"dd2e38ab-889a-1333-8b66-e5c428ab9ebf"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ffef5e0b-81ac-3eb3-8cf8-9c07fc5f9796"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"4c9dbadc-19e8-3764-a585-0fcc9f173b92"}],"remoteProcessGroups":[],"processors":[{"identifier":"d59c27dd-1266-30fc-af8d-9b1a5a71057d","instanceIdentifier":"532db308-b5a6-351e-9765-fc0180fff895","name":"RouteOnAttribute","comments":"","position":{"x":-5800.0,"y":-16.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Routing Strategy":"Route to Property name","hasModels":"${fileSize:gt(2)}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"hasModels":{"name":"hasModels","displayName":"hasModels","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"4c9dbadc-19e8-3764-a585-0fcc9f173b92"},{"identifier":"3b3e0283-3b81-301e-9d7f-d80ec5e6a671","instanceIdentifier":"5c06f0fe-ec24-3c86-98de-4dfe20d1cdb3","name":"ExecuteSQLRecord","comments":"","position":{"x":-5800.0,"y":-232.0},"type":"org.apache.nifi.processors.standard.ExecuteSQLRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"esql-max-rows":"0","esqlrecord-record-writer":"20dd942d-b55a-3442-bb98-3533d9d37ab6","dbf-default-precision":"10","Max Wait Time":"0 seconds","Database Connection Pooling Service":"be864070-cba2-3c79-986d-ccaa292953e2","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"esql-output-batch-size":"0","esql-fetch-size":"0","SQL select query":"${query}","esqlrecord-normalize":"false"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false},"esqlrecord-record-writer":{"name":"esqlrecord-record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false},"SQL select query":{"name":"SQL select query","displayName":"SQL select query","identifiesControllerService":false,"sensitive":false},"esqlrecord-normalize":{"name":"esqlrecord-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"4c9dbadc-19e8-3764-a585-0fcc9f173b92"},{"identifier":"ebae5a44-db81-3e9d-9228-a5971150b502","instanceIdentifier":"a94a4faf-3d52-32e8-a614-aa8322e3ac49","name":"EvaluateJsonPath","comments":"","position":{"x":-5800.0,"y":392.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Destination":"flowfile-attribute","Max String Length":"20 MB","Return Type":"auto-detect","source_model_id":"$.source_model_id","Null Value Representation":"empty string","Path Not Found Behavior":"ignore","model_version_number":"$.model_version_number"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"source_model_id":{"name":"source_model_id","displayName":"source_model_id","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false},"model_version_number":{"name":"model_version_number","displayName":"model_version_number","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"4c9dbadc-19e8-3764-a585-0fcc9f173b92"},{"identifier":"ee20dc92-bba1-308d-ab80-f13b4ecad3bd","instanceIdentifier":"fc0398c1-ef79-3cbf-b318-4c7e0aabd149","name":"SplitJson","comments":"","position":{"x":-5800.0,"y":200.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"4c9dbadc-19e8-3764-a585-0fcc9f173b92"},{"identifier":"10c44b84-619d-310e-898e-6bdd96ecd728","instanceIdentifier":"9fe74b4d-0196-1000-0000-00006bc36d93","name":"UpdateAttribute","comments":"","position":{"x":-5808.0,"y":-448.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","app_uuid":"${uuid}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"app_uuid":{"name":"app_uuid","displayName":"app_uuid","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"annotationData":"<criteria>\n    <flowFilePolicy>USE_CLONE</flowFilePolicy>\n    <rules>\n        <actions>\n            <attribute>query</attribute>\n            <id>ab3a372a-5d72-4656-aab2-d98cf8027860</id>\n            <value>select distinct source_model_id,model_version_number from idw.a360_model where source_model_id = '${model_id}'</value>\n        </actions>\n        <comments></comments>\n        <conditions>\n            <expression>${model_id:isEmpty():not()}</expression>\n            <id>af515b56-40d9-485a-b2f5-f66714da3368</id>\n        </conditions>\n        <id>d5f783ea-a214-4c21-bc44-31db4505b858</id>\n        <name>TriggerFromRole</name>\n    </rules>\n    <rules>\n        <actions>\n            <attribute>query</attribute>\n            <id>ab3a372a-5d72-4656-aab2-d98cf8027860</id>\n            <value>select distinct source_model_id,model_version_number from idw.a360_model</value>\n        </actions>\n        <comments></comments>\n        <conditions>\n            <expression>${model_id:isEmpty()}</expression>\n            <id>af515b56-40d9-485a-b2f5-f66714da3368</id>\n        </conditions>\n        <id>68b0d089-fb3c-4cb2-beb7-5660ea075099</id>\n        <name>Scheduler</name>\n    </rules>\n</criteria>","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"4c9dbadc-19e8-3764-a585-0fcc9f173b92"}],"inputPorts":[{"identifier":"264c6e78-7d87-3d9c-8253-81ea0b547733","instanceIdentifier":"04ce263a-4206-3923-9cc0-f022cb29e426","name":"input","position":{"x":-5752.0,"y":-592.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"4c9dbadc-19e8-3764-a585-0fcc9f173b92"}],"outputPorts":[{"identifier":"65b56c55-8a4b-3d51-913c-8f3302cfd189","instanceIdentifier":"79436920-5b34-3a41-afc0-84f9d8c0aa31","name":"output","position":{"x":-5744.0,"y":616.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"4c9dbadc-19e8-3764-a585-0fcc9f173b92"},{"identifier":"364d32c9-bb24-3d0f-8e24-a807fb593767","instanceIdentifier":"ca43bd41-99df-3e3e-8ff3-77babecae273","name":"to logs","position":{"x":-5080.0,"y":200.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"4c9dbadc-19e8-3764-a585-0fcc9f173b92"}],"connections":[{"identifier":"9eebe036-83b2-3957-978f-479a7b50f50b","instanceIdentifier":"9fe76f43-0196-1000-ffff-fffff23b544f","name":"","source":{"id":"10c44b84-619d-310e-898e-6bdd96ecd728","type":"PROCESSOR","groupId":"4c9dbadc-19e8-3764-a585-0fcc9f173b92","name":"UpdateAttribute","comments":"","instanceIdentifier":"9fe74b4d-0196-1000-0000-00006bc36d93"},"destination":{"id":"3b3e0283-3b81-301e-9d7f-d80ec5e6a671","type":"PROCESSOR","groupId":"4c9dbadc-19e8-3764-a585-0fcc9f173b92","name":"ExecuteSQLRecord","comments":"","instanceIdentifier":"5c06f0fe-ec24-3c86-98de-4dfe20d1cdb3"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4c9dbadc-19e8-3764-a585-0fcc9f173b92"},{"identifier":"9e6aded6-e2c1-35d7-9642-68fedb7f3f88","instanceIdentifier":"b981d006-63bb-3e12-8c2a-dcbcab9cb00c","name":"","source":{"id":"d59c27dd-1266-30fc-af8d-9b1a5a71057d","type":"PROCESSOR","groupId":"4c9dbadc-19e8-3764-a585-0fcc9f173b92","name":"RouteOnAttribute","comments":"","instanceIdentifier":"532db308-b5a6-351e-9765-fc0180fff895"},"destination":{"id":"ee20dc92-bba1-308d-ab80-f13b4ecad3bd","type":"PROCESSOR","groupId":"4c9dbadc-19e8-3764-a585-0fcc9f173b92","name":"SplitJson","comments":"","instanceIdentifier":"fc0398c1-ef79-3cbf-b318-4c7e0aabd149"},"labelIndex":1,"zIndex":0,"selectedRelationships":["hasModels"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4c9dbadc-19e8-3764-a585-0fcc9f173b92"},{"identifier":"aa36ec00-16df-3018-b158-f5b636b2fb83","instanceIdentifier":"59accc45-8c63-3a6b-9bef-7b977db01208","name":"","source":{"id":"ebae5a44-db81-3e9d-9228-a5971150b502","type":"PROCESSOR","groupId":"4c9dbadc-19e8-3764-a585-0fcc9f173b92","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"a94a4faf-3d52-32e8-a614-aa8322e3ac49"},"destination":{"id":"65b56c55-8a4b-3d51-913c-8f3302cfd189","type":"OUTPUT_PORT","groupId":"4c9dbadc-19e8-3764-a585-0fcc9f173b92","name":"output","instanceIdentifier":"79436920-5b34-3a41-afc0-84f9d8c0aa31"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4c9dbadc-19e8-3764-a585-0fcc9f173b92"},{"identifier":"ec093b18-4fb0-3e31-8f7f-1f8fc6003b9c","instanceIdentifier":"9663d8b4-9a50-32bd-8427-60ce8ff5f378","name":"","source":{"id":"d59c27dd-1266-30fc-af8d-9b1a5a71057d","type":"PROCESSOR","groupId":"4c9dbadc-19e8-3764-a585-0fcc9f173b92","name":"RouteOnAttribute","comments":"","instanceIdentifier":"532db308-b5a6-351e-9765-fc0180fff895"},"destination":{"id":"ece9cccf-57f2-3ebc-8459-d2f8ca15ded8","type":"INPUT_PORT","groupId":"ffef5e0b-81ac-3eb3-8cf8-9c07fc5f9796","name":"inputFromRoute","comments":"","instanceIdentifier":"a7a83247-d9cc-1808-9c2b-a9e21ed8c8ff"},"labelIndex":0,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4c9dbadc-19e8-3764-a585-0fcc9f173b92"},{"identifier":"99fe3322-1c3f-3eea-ae46-1cd58afa2f95","instanceIdentifier":"e9c09050-71aa-39bf-8327-42d105ea3539","name":"","source":{"id":"3b3e0283-3b81-301e-9d7f-d80ec5e6a671","type":"PROCESSOR","groupId":"4c9dbadc-19e8-3764-a585-0fcc9f173b92","name":"ExecuteSQLRecord","comments":"","instanceIdentifier":"5c06f0fe-ec24-3c86-98de-4dfe20d1cdb3"},"destination":{"id":"382e72a0-9dd4-3529-863a-ce48cd394b36","type":"INPUT_PORT","groupId":"ffef5e0b-81ac-3eb3-8cf8-9c07fc5f9796","name":"input","instanceIdentifier":"dd2e38cc-889a-1333-ffff-ffffc8dae2db"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4c9dbadc-19e8-3764-a585-0fcc9f173b92"},{"identifier":"81e56e71-d7a8-3348-b2ab-a4b3f18b4df3","instanceIdentifier":"c7aad6c9-0332-36c6-a9c3-ee58090c2741","name":"","source":{"id":"ee20dc92-bba1-308d-ab80-f13b4ecad3bd","type":"PROCESSOR","groupId":"4c9dbadc-19e8-3764-a585-0fcc9f173b92","name":"SplitJson","comments":"","instanceIdentifier":"fc0398c1-ef79-3cbf-b318-4c7e0aabd149"},"destination":{"id":"ebae5a44-db81-3e9d-9228-a5971150b502","type":"PROCESSOR","groupId":"4c9dbadc-19e8-3764-a585-0fcc9f173b92","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"a94a4faf-3d52-32e8-a614-aa8322e3ac49"},"labelIndex":1,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4c9dbadc-19e8-3764-a585-0fcc9f173b92"},{"identifier":"c0a4eb54-acee-363d-8b73-3f437c0b3e9f","instanceIdentifier":"a7a8328b-d9cc-1808-0000-000009b8addb","name":"","source":{"id":"2b6f09a5-9501-318d-86ac-08f9dde7db9d","type":"OUTPUT_PORT","groupId":"ffef5e0b-81ac-3eb3-8cf8-9c07fc5f9796","name":"output","instanceIdentifier":"dd2e38db-889a-1333-ffff-fffff4dc7934"},"destination":{"id":"364d32c9-bb24-3d0f-8e24-a807fb593767","type":"OUTPUT_PORT","groupId":"4c9dbadc-19e8-3764-a585-0fcc9f173b92","name":"to logs","instanceIdentifier":"ca43bd41-99df-3e3e-8ff3-77babecae273"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4c9dbadc-19e8-3764-a585-0fcc9f173b92"},{"identifier":"4c591d82-11ec-34c0-8f0e-1d6b43529af5","instanceIdentifier":"275a5315-c2be-30b8-b6eb-dfd41bd1a534","name":"","source":{"id":"3b3e0283-3b81-301e-9d7f-d80ec5e6a671","type":"PROCESSOR","groupId":"4c9dbadc-19e8-3764-a585-0fcc9f173b92","name":"ExecuteSQLRecord","comments":"","instanceIdentifier":"5c06f0fe-ec24-3c86-98de-4dfe20d1cdb3"},"destination":{"id":"d59c27dd-1266-30fc-af8d-9b1a5a71057d","type":"PROCESSOR","groupId":"4c9dbadc-19e8-3764-a585-0fcc9f173b92","name":"RouteOnAttribute","comments":"","instanceIdentifier":"532db308-b5a6-351e-9765-fc0180fff895"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4c9dbadc-19e8-3764-a585-0fcc9f173b92"},{"identifier":"aa36b937-ebc0-3df1-86ec-7375b3a1e37e","instanceIdentifier":"01705f12-7db7-35d2-aaab-4840437cdaa5","name":"","source":{"id":"264c6e78-7d87-3d9c-8253-81ea0b547733","type":"INPUT_PORT","groupId":"4c9dbadc-19e8-3764-a585-0fcc9f173b92","name":"input","instanceIdentifier":"04ce263a-4206-3923-9cc0-f022cb29e426"},"destination":{"id":"10c44b84-619d-310e-898e-6bdd96ecd728","type":"PROCESSOR","groupId":"4c9dbadc-19e8-3764-a585-0fcc9f173b92","name":"UpdateAttribute","comments":"","instanceIdentifier":"9fe74b4d-0196-1000-0000-00006bc36d93"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4c9dbadc-19e8-3764-a585-0fcc9f173b92"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"8720aa19-5400-3282-ad05-b6abd3a82b38","instanceIdentifier":"ef5c54e0-551b-3814-98ec-73922894df08","name":"a360_ss_type","comments":"","position":{"x":-5808.0,"y":1400.0},"processGroups":[{"identifier":"2678a3cc-efe8-369d-b158-915349faf4f5","instanceIdentifier":"fd9a3bdb-a644-1a2b-ba75-15412f2a3c90","name":"FRAME LOGS","comments":"","position":{"x":1176.0,"y":1000.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"c811201e-6830-30a9-a373-25d1355a63a8","instanceIdentifier":"46e83006-ebd2-1c84-ae84-e890c41aa18b","name":"Consume Message Attribute","comments":"","position":{"x":416.0,"y":208.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"CMS - a360_ss_type","flow_name":"CMS","extras":"ss_type_count : ${merge.count}","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"extras":{"name":"extras","displayName":"extras","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"2678a3cc-efe8-369d-b158-915349faf4f5"},{"identifier":"8fab70de-23b5-3b66-8db0-01ab770c74f2","instanceIdentifier":"d7213f0b-025d-13b5-b567-63a816abfc6e","name":"UpdateAttribute","comments":"","position":{"x":416.0,"y":-416.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","merge_key":"${app_uuid}${source_model_id}${sourceClusterId}${error.message:isEmpty()}${error.sql.state}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"merge_key":{"name":"merge_key","displayName":"merge_key","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"2678a3cc-efe8-369d-b158-915349faf4f5"},{"identifier":"b5f28e17-195d-301c-b366-433332021b04","instanceIdentifier":"09b13b78-c65b-1600-a4e5-56e086925df2","name":"Group","comments":"","position":{"x":416.0,"y":8.0},"type":"org.apache.nifi.processors.standard.MergeContent","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Keep Path":"false","Maximum Group Size":null,"Merge Strategy":"Bin-Packing Algorithm","Attribute Strategy":"Keep All Unique Attributes","Compression Level":"1","Maximum Number of Entries":"10000","Minimum Group Size":"0 B","Maximum number of Bins":"2","Tar Modified Time":"${file.lastModifiedTime}","Delimiter Strategy":"Do Not Use Delimiters","Merge Format":"Binary Concatenation","Footer File":null,"Max Bin Age":"60 sec","Demarcator File":null,"Correlation Attribute Name":"merge_key","Header File":null,"mergecontent-metadata-strategy":"Do Not Merge Uncommon Metadata","Minimum Number of Entries":"1000"},"propertyDescriptors":{"Keep Path":{"name":"Keep Path","displayName":"Keep Path","identifiesControllerService":false,"sensitive":false},"Maximum Group Size":{"name":"Maximum Group Size","displayName":"Maximum Group Size","identifiesControllerService":false,"sensitive":false},"Merge Strategy":{"name":"Merge Strategy","displayName":"Merge Strategy","identifiesControllerService":false,"sensitive":false},"Attribute Strategy":{"name":"Attribute Strategy","displayName":"Attribute Strategy","identifiesControllerService":false,"sensitive":false},"Compression Level":{"name":"Compression Level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"Maximum Number of Entries":{"name":"Maximum Number of Entries","displayName":"Maximum Number of Entries","identifiesControllerService":false,"sensitive":false},"Minimum Group Size":{"name":"Minimum Group Size","displayName":"Minimum Group Size","identifiesControllerService":false,"sensitive":false},"Maximum number of Bins":{"name":"Maximum number of Bins","displayName":"Maximum number of Bins","identifiesControllerService":false,"sensitive":false},"Tar Modified Time":{"name":"Tar Modified Time","displayName":"Tar Modified Time","identifiesControllerService":false,"sensitive":false},"Delimiter Strategy":{"name":"Delimiter Strategy","displayName":"Delimiter Strategy","identifiesControllerService":false,"sensitive":false},"Merge Format":{"name":"Merge Format","displayName":"Merge Format","identifiesControllerService":false,"sensitive":false},"Footer File":{"name":"Footer File","displayName":"Footer","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Max Bin Age":{"name":"Max Bin Age","displayName":"Max Bin Age","identifiesControllerService":false,"sensitive":false},"Demarcator File":{"name":"Demarcator File","displayName":"Demarcator","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Correlation Attribute Name":{"name":"Correlation Attribute Name","displayName":"Correlation Attribute Name","identifiesControllerService":false,"sensitive":false},"Header File":{"name":"Header File","displayName":"Header","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"mergecontent-metadata-strategy":{"name":"mergecontent-metadata-strategy","displayName":"Metadata Strategy","identifiesControllerService":false,"sensitive":false},"Minimum Number of Entries":{"name":"Minimum Number of Entries","displayName":"Minimum Number of Entries","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"2678a3cc-efe8-369d-b158-915349faf4f5"},{"identifier":"aad5cfb6-1168-3ab5-a0ca-a4cf365cdfe0","instanceIdentifier":"43e13667-7539-1ec0-a475-31dd87bb9187","name":"ReplaceText","comments":"","position":{"x":416.0,"y":-208.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\"id\":\"SS${clientCode}\"}","Evaluation Mode":"Entire text","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"20 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"2678a3cc-efe8-369d-b158-915349faf4f5"}],"inputPorts":[{"identifier":"69c38982-4205-35c8-8503-c742a525b3bf","instanceIdentifier":"774438e5-9825-15dd-8839-4384e731cc23","name":"log_ip_port","position":{"x":464.0,"y":-528.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"2678a3cc-efe8-369d-b158-915349faf4f5"}],"outputPorts":[{"identifier":"a88ac5a0-8497-357d-a932-9898df7af4b8","instanceIdentifier":"90b83886-657f-1509-a567-ad57853be2c0","name":"log_op_port","position":{"x":480.0,"y":480.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"2678a3cc-efe8-369d-b158-915349faf4f5"}],"connections":[{"identifier":"ae196b30-b1f3-32b8-a823-92d40695f481","instanceIdentifier":"265d3ce3-5540-12dc-99c3-a49e27305f2b","name":"","source":{"id":"b5f28e17-195d-301c-b366-433332021b04","type":"PROCESSOR","groupId":"2678a3cc-efe8-369d-b158-915349faf4f5","name":"Group","comments":"","instanceIdentifier":"09b13b78-c65b-1600-a4e5-56e086925df2"},"destination":{"id":"c811201e-6830-30a9-a373-25d1355a63a8","type":"PROCESSOR","groupId":"2678a3cc-efe8-369d-b158-915349faf4f5","name":"Consume Message Attribute","comments":"","instanceIdentifier":"46e83006-ebd2-1c84-ae84-e890c41aa18b"},"labelIndex":1,"zIndex":0,"selectedRelationships":["merged"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2678a3cc-efe8-369d-b158-915349faf4f5"},{"identifier":"cd44e86c-4d10-3c98-a625-1237b563c6b7","instanceIdentifier":"b9f53bb2-1520-1c2a-96b1-aab6be1ca0ad","name":"","source":{"id":"c811201e-6830-30a9-a373-25d1355a63a8","type":"PROCESSOR","groupId":"2678a3cc-efe8-369d-b158-915349faf4f5","name":"Consume Message Attribute","comments":"","instanceIdentifier":"46e83006-ebd2-1c84-ae84-e890c41aa18b"},"destination":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"2678a3cc-efe8-369d-b158-915349faf4f5","name":"log_op_port","instanceIdentifier":"90b83886-657f-1509-a567-ad57853be2c0"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2678a3cc-efe8-369d-b158-915349faf4f5"},{"identifier":"c92a5dbd-d301-3dc2-a8fd-b66bc8257dea","instanceIdentifier":"ed7a3aaf-32a1-1f10-862f-c24e3e0378bc","name":"","source":{"id":"aad5cfb6-1168-3ab5-a0ca-a4cf365cdfe0","type":"PROCESSOR","groupId":"2678a3cc-efe8-369d-b158-915349faf4f5","name":"ReplaceText","comments":"","instanceIdentifier":"43e13667-7539-1ec0-a475-31dd87bb9187"},"destination":{"id":"b5f28e17-195d-301c-b366-433332021b04","type":"PROCESSOR","groupId":"2678a3cc-efe8-369d-b158-915349faf4f5","name":"Group","comments":"","instanceIdentifier":"09b13b78-c65b-1600-a4e5-56e086925df2"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2678a3cc-efe8-369d-b158-915349faf4f5"},{"identifier":"7b5d5ef0-70e4-3b8b-be2a-6dd4f244ddab","instanceIdentifier":"5b2a3f3d-0d3e-1c38-8c1a-00c1ccd61347","name":"","source":{"id":"8fab70de-23b5-3b66-8db0-01ab770c74f2","type":"PROCESSOR","groupId":"2678a3cc-efe8-369d-b158-915349faf4f5","name":"UpdateAttribute","comments":"","instanceIdentifier":"d7213f0b-025d-13b5-b567-63a816abfc6e"},"destination":{"id":"aad5cfb6-1168-3ab5-a0ca-a4cf365cdfe0","type":"PROCESSOR","groupId":"2678a3cc-efe8-369d-b158-915349faf4f5","name":"ReplaceText","comments":"","instanceIdentifier":"43e13667-7539-1ec0-a475-31dd87bb9187"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2678a3cc-efe8-369d-b158-915349faf4f5"},{"identifier":"e9094579-04ff-319e-8a54-678a06c6ae21","instanceIdentifier":"3a0c3bd1-0380-18e0-9ecc-514536937133","name":"","source":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"2678a3cc-efe8-369d-b158-915349faf4f5","name":"log_ip_port","instanceIdentifier":"774438e5-9825-15dd-8839-4384e731cc23"},"destination":{"id":"8fab70de-23b5-3b66-8db0-01ab770c74f2","type":"PROCESSOR","groupId":"2678a3cc-efe8-369d-b158-915349faf4f5","name":"UpdateAttribute","comments":"","instanceIdentifier":"d7213f0b-025d-13b5-b567-63a816abfc6e"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2678a3cc-efe8-369d-b158-915349faf4f5"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"8720aa19-5400-3282-ad05-b6abd3a82b38"}],"remoteProcessGroups":[],"processors":[{"identifier":"b67dc3e7-d0b1-3d1e-a755-983e7c2488a6","instanceIdentifier":"e03aac7f-2f1c-3196-b176-c139c2ccb66b","name":"PutSQL","comments":"","position":{"x":544.0,"y":1048.0},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":"INSERT INTO idw.a360_ss_type (\n        ss_source_id,\n        ss_name,\n        ss_type\n    ) VALUES (\n        'SS${clientCode}',\n        '${stallerStopperName}',\n\t\t'${clientCode:ge(101):and(${clientCode:le(110)}):ifElse('STANDARD','CUSTOM')}'\n    ) ON CONFLICT (ss_source_id) DO\n    UPDATE SET\n        ss_name = '${stallerStopperName}',\n\t\tss_type = '${clientCode:ge(101):and(${clientCode:le(110)}):ifElse('STANDARD','CUSTOM')}'\nRETURNING ss_type_key;","Transaction Timeout":null,"Batch Size":"100","Obtain Generated Keys":"true","JDBC Connection Pool":"be864070-cba2-3c79-986d-ccaa292953e2","database-session-autocommit":"true","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":5,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"5 mins","componentType":"PROCESSOR","groupIdentifier":"8720aa19-5400-3282-ad05-b6abd3a82b38"},{"identifier":"528a2f09-8df4-30f0-a72e-8efcdc0f23c8","instanceIdentifier":"7ad3ffee-1db9-342a-af11-b955bad20b66","name":"EvaluateJsonPath","comments":"","position":{"x":544.0,"y":840.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Destination":"flowfile-attribute","Max String Length":"20 MB","clientCode":"$.clientCode","Return Type":"auto-detect","stallerStopperName":"$.stallerStopper.name","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"clientCode":{"name":"clientCode","displayName":"clientCode","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"stallerStopperName":{"name":"stallerStopperName","displayName":"stallerStopperName","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"8720aa19-5400-3282-ad05-b6abd3a82b38"},{"identifier":"045d6c87-c300-353e-8bc7-a14bf83e8eef","instanceIdentifier":"5e794ef1-e924-3708-8db2-b0a2c82d8242","name":"SplitJson","comments":"","position":{"x":544.0,"y":632.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.stallerStoppers.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"8720aa19-5400-3282-ad05-b6abd3a82b38"}],"inputPorts":[{"identifier":"2e8638dd-e054-3f7c-9a62-aa91131cab94","instanceIdentifier":"1ef1b7ed-f1d8-310c-9372-f0ac05ebd0d6","name":"input","position":{"x":592.0,"y":520.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"8720aa19-5400-3282-ad05-b6abd3a82b38"}],"outputPorts":[{"identifier":"3c8d18fd-4ed2-3e32-9d32-1cda40e8a96f","instanceIdentifier":"3c1cafb9-3fcc-3a5c-8412-cb4446fb2d32","name":"output","position":{"x":600.0,"y":1264.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"8720aa19-5400-3282-ad05-b6abd3a82b38"},{"identifier":"19235e7b-cced-3a7c-8302-9c6bcdbbaa8f","instanceIdentifier":"242b23bd-6b76-3f6e-94c2-8e9c513c3a84","name":"to_logger","position":{"x":1248.0,"y":1256.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"8720aa19-5400-3282-ad05-b6abd3a82b38"}],"connections":[{"identifier":"857f5552-3444-36b6-aae0-fdae47d4681b","instanceIdentifier":"e741298a-d4de-36fe-96ff-07d389c187f4","name":"","source":{"id":"b67dc3e7-d0b1-3d1e-a755-983e7c2488a6","type":"PROCESSOR","groupId":"8720aa19-5400-3282-ad05-b6abd3a82b38","name":"PutSQL","comments":"","instanceIdentifier":"e03aac7f-2f1c-3196-b176-c139c2ccb66b"},"destination":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"2678a3cc-efe8-369d-b158-915349faf4f5","name":"log_ip_port","instanceIdentifier":"774438e5-9825-15dd-8839-4384e731cc23"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success","failure","retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8720aa19-5400-3282-ad05-b6abd3a82b38"},{"identifier":"0f5dfc69-9d0f-34c3-b54d-046a3fe361fc","instanceIdentifier":"eca4a625-8456-3859-9d72-21063af0afd1","name":"","source":{"id":"045d6c87-c300-353e-8bc7-a14bf83e8eef","type":"PROCESSOR","groupId":"8720aa19-5400-3282-ad05-b6abd3a82b38","name":"SplitJson","comments":"","instanceIdentifier":"5e794ef1-e924-3708-8db2-b0a2c82d8242"},"destination":{"id":"528a2f09-8df4-30f0-a72e-8efcdc0f23c8","type":"PROCESSOR","groupId":"8720aa19-5400-3282-ad05-b6abd3a82b38","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"7ad3ffee-1db9-342a-af11-b955bad20b66"},"labelIndex":1,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8720aa19-5400-3282-ad05-b6abd3a82b38"},{"identifier":"25f62d39-f4ff-3905-8b32-d2f984f44916","instanceIdentifier":"a130d2a9-0196-1000-ffff-ffffced27f60","name":"","source":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"2678a3cc-efe8-369d-b158-915349faf4f5","name":"log_op_port","instanceIdentifier":"90b83886-657f-1509-a567-ad57853be2c0"},"destination":{"id":"19235e7b-cced-3a7c-8302-9c6bcdbbaa8f","type":"OUTPUT_PORT","groupId":"8720aa19-5400-3282-ad05-b6abd3a82b38","name":"to_logger","instanceIdentifier":"242b23bd-6b76-3f6e-94c2-8e9c513c3a84"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8720aa19-5400-3282-ad05-b6abd3a82b38"},{"identifier":"3944c851-4497-39c5-b962-c761146c9f1a","instanceIdentifier":"3f878392-3d4d-3f80-80c6-5d97190c50ca","name":"","source":{"id":"528a2f09-8df4-30f0-a72e-8efcdc0f23c8","type":"PROCESSOR","groupId":"8720aa19-5400-3282-ad05-b6abd3a82b38","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"7ad3ffee-1db9-342a-af11-b955bad20b66"},"destination":{"id":"b67dc3e7-d0b1-3d1e-a755-983e7c2488a6","type":"PROCESSOR","groupId":"8720aa19-5400-3282-ad05-b6abd3a82b38","name":"PutSQL","comments":"","instanceIdentifier":"e03aac7f-2f1c-3196-b176-c139c2ccb66b"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8720aa19-5400-3282-ad05-b6abd3a82b38"},{"identifier":"9dd1dd07-fd36-374d-851d-79eed183808d","instanceIdentifier":"041badbd-d057-386b-8f4f-1b401f57a3a9","name":"","source":{"id":"b67dc3e7-d0b1-3d1e-a755-983e7c2488a6","type":"PROCESSOR","groupId":"8720aa19-5400-3282-ad05-b6abd3a82b38","name":"PutSQL","comments":"","instanceIdentifier":"e03aac7f-2f1c-3196-b176-c139c2ccb66b"},"destination":{"id":"3c8d18fd-4ed2-3e32-9d32-1cda40e8a96f","type":"OUTPUT_PORT","groupId":"8720aa19-5400-3282-ad05-b6abd3a82b38","name":"output","instanceIdentifier":"3c1cafb9-3fcc-3a5c-8412-cb4446fb2d32"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8720aa19-5400-3282-ad05-b6abd3a82b38"},{"identifier":"bb78c5c6-4112-3990-a883-225b2b0dd041","instanceIdentifier":"1f442d24-bf3e-3109-ad80-b948383cc0bf","name":"","source":{"id":"2e8638dd-e054-3f7c-9a62-aa91131cab94","type":"INPUT_PORT","groupId":"8720aa19-5400-3282-ad05-b6abd3a82b38","name":"input","instanceIdentifier":"1ef1b7ed-f1d8-310c-9372-f0ac05ebd0d6"},"destination":{"id":"045d6c87-c300-353e-8bc7-a14bf83e8eef","type":"PROCESSOR","groupId":"8720aa19-5400-3282-ad05-b6abd3a82b38","name":"SplitJson","comments":"","instanceIdentifier":"5e794ef1-e924-3708-8db2-b0a2c82d8242"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8720aa19-5400-3282-ad05-b6abd3a82b38"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"0a478230-2303-3863-add2-24b71c44a30b","instanceIdentifier":"ae48ffa1-e95e-3960-84d3-754ad7d60ed6","name":"Invoke CMS API","comments":"","position":{"x":-5808.0,"y":640.0},"processGroups":[{"identifier":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5","instanceIdentifier":"a0263a04-dd5b-1554-bf90-6e3c83fdee1b","name":"FRAME LOGS","comments":"","position":{"x":1320.0,"y":864.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"1623f923-efc4-38df-b60e-7b7f6113c58b","instanceIdentifier":"86243b07-2e38-18b2-0000-000031b46289","name":"ReplaceText","comments":"","position":{"x":-160.0,"y":136.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\"id\":\"${source_model_id}\"}","Evaluation Mode":"Entire text","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5"},{"identifier":"a5d43049-0256-332f-813a-9c118fe81c7a","instanceIdentifier":"a850312f-82b5-1fb8-9619-b4d82ace45eb","name":"API Fail Attributes","comments":"","position":{"x":-160.0,"y":552.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"CMS - Invoke CMS API","extras":"path : ${http.request.uri}","flow_name":"CMS","Stateful Variables Initial Value":null,"message":"Failed to invoke ${invokehttp.request.url}: ${invokehttp.java.exception.message}","event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}","log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"filename":"${app_uuid}","event_type":"${#{log_config}:jsonPath('$.event_type.api_request')}","error.message":"Failed to invoke ${invokehttp.request.url}: ${invokehttp.java.exception.message}","manual_error":"true","error.code":"${invokehttp.status.code}","statusCode":"${invokehttp.status.code}"},"propertyDescriptors":{"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"extras":{"name":"extras","displayName":"extras","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"message":{"name":"message","displayName":"message","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false},"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"filename":{"name":"filename","displayName":"filename","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"error.message":{"name":"error.message","displayName":"error.message","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"error.code":{"name":"error.code","displayName":"error.code","identifiesControllerService":false,"sensitive":false},"statusCode":{"name":"statusCode","displayName":"statusCode","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5"},{"identifier":"ca9948e5-835a-362d-b5e6-09a0ead73343","instanceIdentifier":"342132fc-8374-13c0-9056-ef31ac2fb2de","name":"Group","comments":"","position":{"x":-158.99999817194475,"y":344.00000296681264},"type":"org.apache.nifi.processors.standard.MergeContent","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Keep Path":"false","Maximum Group Size":null,"Merge Strategy":"Bin-Packing Algorithm","Attribute Strategy":"Keep All Unique Attributes","Compression Level":"1","Maximum Number of Entries":"10000","Minimum Group Size":"0 B","Maximum number of Bins":"2","Tar Modified Time":"${file.lastModifiedTime}","Delimiter Strategy":"Do Not Use Delimiters","Merge Format":"Binary Concatenation","Footer File":null,"Max Bin Age":"60 sec","Demarcator File":null,"Correlation Attribute Name":"merge_key","Header File":null,"mergecontent-metadata-strategy":"Do Not Merge Uncommon Metadata","Minimum Number of Entries":"1000"},"propertyDescriptors":{"Keep Path":{"name":"Keep Path","displayName":"Keep Path","identifiesControllerService":false,"sensitive":false},"Maximum Group Size":{"name":"Maximum Group Size","displayName":"Maximum Group Size","identifiesControllerService":false,"sensitive":false},"Merge Strategy":{"name":"Merge Strategy","displayName":"Merge Strategy","identifiesControllerService":false,"sensitive":false},"Attribute Strategy":{"name":"Attribute Strategy","displayName":"Attribute Strategy","identifiesControllerService":false,"sensitive":false},"Compression Level":{"name":"Compression Level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"Maximum Number of Entries":{"name":"Maximum Number of Entries","displayName":"Maximum Number of Entries","identifiesControllerService":false,"sensitive":false},"Minimum Group Size":{"name":"Minimum Group Size","displayName":"Minimum Group Size","identifiesControllerService":false,"sensitive":false},"Maximum number of Bins":{"name":"Maximum number of Bins","displayName":"Maximum number of Bins","identifiesControllerService":false,"sensitive":false},"Tar Modified Time":{"name":"Tar Modified Time","displayName":"Tar Modified Time","identifiesControllerService":false,"sensitive":false},"Delimiter Strategy":{"name":"Delimiter Strategy","displayName":"Delimiter Strategy","identifiesControllerService":false,"sensitive":false},"Merge Format":{"name":"Merge Format","displayName":"Merge Format","identifiesControllerService":false,"sensitive":false},"Footer File":{"name":"Footer File","displayName":"Footer","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Max Bin Age":{"name":"Max Bin Age","displayName":"Max Bin Age","identifiesControllerService":false,"sensitive":false},"Demarcator File":{"name":"Demarcator File","displayName":"Demarcator","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Correlation Attribute Name":{"name":"Correlation Attribute Name","displayName":"Correlation Attribute Name","identifiesControllerService":false,"sensitive":false},"Header File":{"name":"Header File","displayName":"Header","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"mergecontent-metadata-strategy":{"name":"mergecontent-metadata-strategy","displayName":"Metadata Strategy","identifiesControllerService":false,"sensitive":false},"Minimum Number of Entries":{"name":"Minimum Number of Entries","displayName":"Minimum Number of Entries","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5"},{"identifier":"e1e6ecf4-ea28-3f28-8909-da4e1e996845","instanceIdentifier":"58953b17-c663-1d24-8f33-d072d26424bc","name":"RouteOnAttribute","comments":"","position":{"x":-688.0,"y":256.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Routing Strategy":"Route to Property name","statusCodeValid":"${statusCode:in('200','201')}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"statusCodeValid":{"name":"statusCodeValid","displayName":"statusCodeValid","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5"},{"identifier":"fb0f9b2a-fc63-3080-8447-a7f81e05b8e8","instanceIdentifier":"513235dd-944e-1342-bc37-16c9ece3815f","name":"API Success Attributes","comments":"","position":{"x":-688.0,"y":528.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"CMS - Invoke CMS API","extras":"path : ${http.request.uri}, schema: ${schema}","flow_name":"CMS","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}","log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"filename":"${app_uuid}","event_type":"${#{log_config}:jsonPath('$.event_type.api_request')}","manual_error":"false"},"propertyDescriptors":{"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"extras":{"name":"extras","displayName":"extras","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false},"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"filename":{"name":"filename","displayName":"filename","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5"},{"identifier":"7b6565b9-cfd5-3f39-83d9-a391a0069b55","instanceIdentifier":"4afb3649-c6a6-1649-b152-ae9cacac56a0","name":"API Fail Attributes","comments":"","position":{"x":-1232.0,"y":728.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"CMS - Invoke CMS API","extras":"path : ${http.request.uri}","flow_name":"CMS","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}","log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"filename":"${app_uuid}","event_type":"${#{log_config}:jsonPath('$.event_type.api_request')}","error.message":"${message}","manual_error":"true","error.code":"${statusCode}"},"propertyDescriptors":{"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"extras":{"name":"extras","displayName":"extras","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false},"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"filename":{"name":"filename","displayName":"filename","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"error.message":{"name":"error.message","displayName":"error.message","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"error.code":{"name":"error.code","displayName":"error.code","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5"},{"identifier":"f07641f1-b3d5-3d25-b582-a7a170a2304d","instanceIdentifier":"95403fa9-d17b-11b9-9ecf-01a1158f64a5","name":"UpdateAttribute","comments":"","position":{"x":-160.0,"y":-64.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","merge_key":"${app_uuid}${invokehttp.request.url}${invokehttp.status.code}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"merge_key":{"name":"merge_key","displayName":"merge_key","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5"}],"inputPorts":[{"identifier":"5454116a-3cd8-35e2-a3df-7d08adac256e","instanceIdentifier":"d61836c8-2931-109a-a1cc-9375be5327e1","name":"api_log","comments":"","position":{"x":-96.0,"y":-184.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5"},{"identifier":"7964da18-8b7d-37d3-8120-01d6d601b7f0","instanceIdentifier":"5e083603-6669-1dcf-9e76-d9a345586d7e","name":"api_log_in","comments":"","position":{"x":-632.0,"y":88.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5"}],"outputPorts":[{"identifier":"5014d334-1779-39e7-bb97-b7820b72c544","instanceIdentifier":"5486303b-fc3a-11ca-851d-2daf7970f31b","name":"log_op","position":{"x":-96.0,"y":768.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5"}],"connections":[{"identifier":"29f4821d-8ea2-3ee3-8839-0cd10a0fe6e8","instanceIdentifier":"584a3680-b7b2-1e34-a3f8-6ff5993dd1bf","name":"","source":{"id":"a5d43049-0256-332f-813a-9c118fe81c7a","type":"PROCESSOR","groupId":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5","name":"API Fail Attributes","comments":"","instanceIdentifier":"a850312f-82b5-1fb8-9619-b4d82ace45eb"},"destination":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5","name":"log_op","instanceIdentifier":"5486303b-fc3a-11ca-851d-2daf7970f31b"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5"},{"identifier":"189443ad-4ffb-3240-9009-482fdd8a1edd","instanceIdentifier":"6087308c-3267-13bb-ade6-553e92b6258a","name":"","source":{"id":"e1e6ecf4-ea28-3f28-8909-da4e1e996845","type":"PROCESSOR","groupId":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5","name":"RouteOnAttribute","comments":"","instanceIdentifier":"58953b17-c663-1d24-8f33-d072d26424bc"},"destination":{"id":"7b6565b9-cfd5-3f39-83d9-a391a0069b55","type":"PROCESSOR","groupId":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5","name":"API Fail Attributes","comments":"","instanceIdentifier":"4afb3649-c6a6-1649-b152-ae9cacac56a0"},"labelIndex":0,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":-1056.0,"y":320.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5"},{"identifier":"95f3b146-9e5e-3950-8a05-5d17d8fd9552","instanceIdentifier":"86243a51-2e38-18b2-ad07-db9e0e4c41d4","name":"","source":{"id":"f07641f1-b3d5-3d25-b582-a7a170a2304d","type":"PROCESSOR","groupId":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5","name":"UpdateAttribute","comments":"","instanceIdentifier":"95403fa9-d17b-11b9-9ecf-01a1158f64a5"},"destination":{"id":"1623f923-efc4-38df-b60e-7b7f6113c58b","type":"PROCESSOR","groupId":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5","name":"ReplaceText","comments":"","instanceIdentifier":"86243b07-2e38-18b2-0000-000031b46289"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5"},{"identifier":"4835748b-bba5-31e7-b79c-3e45196ee58a","instanceIdentifier":"86243a8d-2e38-18b2-0000-00006fb21c0d","name":"","source":{"id":"ca9948e5-835a-362d-b5e6-09a0ead73343","type":"PROCESSOR","groupId":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5","name":"Group","comments":"","instanceIdentifier":"342132fc-8374-13c0-9056-ef31ac2fb2de"},"destination":{"id":"a5d43049-0256-332f-813a-9c118fe81c7a","type":"PROCESSOR","groupId":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5","name":"API Fail Attributes","comments":"","instanceIdentifier":"a850312f-82b5-1fb8-9619-b4d82ace45eb"},"labelIndex":1,"zIndex":0,"selectedRelationships":["merged"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5"},{"identifier":"0bb4ed78-20b6-3b53-95f5-97134b8867a5","instanceIdentifier":"86243bc9-2e38-18b2-ffff-fffffb7c5a86","name":"","source":{"id":"1623f923-efc4-38df-b60e-7b7f6113c58b","type":"PROCESSOR","groupId":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5","name":"ReplaceText","comments":"","instanceIdentifier":"86243b07-2e38-18b2-0000-000031b46289"},"destination":{"id":"ca9948e5-835a-362d-b5e6-09a0ead73343","type":"PROCESSOR","groupId":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5","name":"Group","comments":"","instanceIdentifier":"342132fc-8374-13c0-9056-ef31ac2fb2de"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5"},{"identifier":"46904b6a-db9f-396a-b000-eb13e19f7756","instanceIdentifier":"9df13d00-fde4-10a4-af3d-87e623155b2f","name":"","source":{"id":"e1e6ecf4-ea28-3f28-8909-da4e1e996845","type":"PROCESSOR","groupId":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5","name":"RouteOnAttribute","comments":"","instanceIdentifier":"58953b17-c663-1d24-8f33-d072d26424bc"},"destination":{"id":"fb0f9b2a-fc63-3080-8447-a7f81e05b8e8","type":"PROCESSOR","groupId":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5","name":"API Success Attributes","comments":"","instanceIdentifier":"513235dd-944e-1342-bc37-16c9ece3815f"},"labelIndex":1,"zIndex":0,"selectedRelationships":["statusCodeValid"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5"},{"identifier":"0404d45e-12e6-3607-a605-723f8b7d5fcd","instanceIdentifier":"9e1b35b0-488e-1296-9526-afea397f75cb","name":"","source":{"id":"fb0f9b2a-fc63-3080-8447-a7f81e05b8e8","type":"PROCESSOR","groupId":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5","name":"API Success Attributes","comments":"","instanceIdentifier":"513235dd-944e-1342-bc37-16c9ece3815f"},"destination":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5","name":"log_op","instanceIdentifier":"5486303b-fc3a-11ca-851d-2daf7970f31b"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":-512.0,"y":744.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5"},{"identifier":"a3c27f77-4881-306f-a420-29ec9f2ae60e","instanceIdentifier":"d6bb3a8f-678d-158a-9212-643f8809793e","name":"","source":{"id":"5454116a-3cd8-35e2-a3df-7d08adac256e","type":"INPUT_PORT","groupId":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5","name":"api_log","comments":"","instanceIdentifier":"d61836c8-2931-109a-a1cc-9375be5327e1"},"destination":{"id":"f07641f1-b3d5-3d25-b582-a7a170a2304d","type":"PROCESSOR","groupId":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5","name":"UpdateAttribute","comments":"","instanceIdentifier":"95403fa9-d17b-11b9-9ecf-01a1158f64a5"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5"},{"identifier":"84cdba1f-17c4-3065-a3e4-1688bf4b515f","instanceIdentifier":"47e4323f-4ad6-1bc0-8ff1-29177eb0a61f","name":"","source":{"id":"7b6565b9-cfd5-3f39-83d9-a391a0069b55","type":"PROCESSOR","groupId":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5","name":"API Fail Attributes","comments":"","instanceIdentifier":"4afb3649-c6a6-1649-b152-ae9cacac56a0"},"destination":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5","name":"log_op","instanceIdentifier":"5486303b-fc3a-11ca-851d-2daf7970f31b"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5"},{"identifier":"fff1dca3-4cc7-347e-9a0d-f8f81359a9aa","instanceIdentifier":"df5430c9-0e7a-124d-8041-575fc8aa41eb","name":"","source":{"id":"7964da18-8b7d-37d3-8120-01d6d601b7f0","type":"INPUT_PORT","groupId":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5","name":"api_log_in","comments":"","instanceIdentifier":"5e083603-6669-1dcf-9e76-d9a345586d7e"},"destination":{"id":"e1e6ecf4-ea28-3f28-8909-da4e1e996845","type":"PROCESSOR","groupId":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5","name":"RouteOnAttribute","comments":"","instanceIdentifier":"58953b17-c663-1d24-8f33-d072d26424bc"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"}],"remoteProcessGroups":[],"processors":[{"identifier":"7a01761e-cfe9-31c6-9b01-b39e765c6b2e","instanceIdentifier":"be283cbc-4b48-1bee-a8e8-81b6f96ea521","name":"UpdateAttribute","comments":"","position":{"x":472.0,"y":760.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","mime.type":"application/json","Stateful Variables Initial Value":null,"message":"Model ${source_model_id} fetched from CMS. Dictionary tables update in progress. Check logs for status.","statusCode":"${invokehttp.status.code}"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"mime.type":{"name":"mime.type","displayName":"mime.type","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"message":{"name":"message","displayName":"message","identifiesControllerService":false,"sensitive":false},"statusCode":{"name":"statusCode","displayName":"statusCode","identifiesControllerService":false,"sensitive":false}},"style":{},"annotationData":"<criteria>\n    <flowFilePolicy>USE_CLONE</flowFilePolicy>\n</criteria>","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"11075faf-b172-38b4-9073-7afd09477aa6","instanceIdentifier":"eedd3114-d4d9-1521-b847-f2e4293e7602","name":"UpdateAttribute","comments":"","position":{"x":480.0,"y":-88.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","model_major_version":"${model_version_number:substring(0,2)}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"model_major_version":{"name":"model_major_version","displayName":"model_major_version","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"annotationData":"<criteria>\n    <flowFilePolicy>USE_CLONE</flowFilePolicy>\n    <rules>\n        <actions>\n            <attribute>query</attribute>\n            <id>ab3a372a-5d72-4656-aab2-d98cf8027860</id>\n            <value>select distinct source_model_id,model_version_number from idw.a360_model where source_model_id = '${model_id}'</value>\n        </actions>\n        <comments></comments>\n        <conditions>\n            <expression>${model_id:isEmpty():not()}</expression>\n            <id>af515b56-40d9-485a-b2f5-f66714da3368</id>\n        </conditions>\n        <id>d5f783ea-a214-4c21-bc44-31db4505b858</id>\n        <name>TriggerFromRole</name>\n    </rules>\n    <rules>\n        <actions>\n            <attribute>query</attribute>\n            <id>ab3a372a-5d72-4656-aab2-d98cf8027860</id>\n            <value>select distinct source_model_id,model_version_number from idw.a360_model</value>\n        </actions>\n        <comments></comments>\n        <conditions>\n            <expression>${model_id:isEmpty()}</expression>\n            <id>af515b56-40d9-485a-b2f5-f66714da3368</id>\n        </conditions>\n        <id>68b0d089-fb3c-4cb2-beb7-5660ea075099</id>\n        <name>Scheduler</name>\n    </rules>\n</criteria>","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"9068c47a-c7a0-3d58-9163-81fbc598d607","instanceIdentifier":"5a9b3c19-a9d0-1fcd-836c-fc5621c9d86e","name":"UpdateAttribute","comments":"","position":{"x":-120.0,"y":112.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","app_uuid":"${uuid}","source_model_id":"${http.query.param.modelid}","model_major_version":"${http.query.param.version}","Stateful Variables Initial Value":null,"model_version_number":"${http.query.param.version}"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"app_uuid":{"name":"app_uuid","displayName":"app_uuid","identifiesControllerService":false,"sensitive":false},"source_model_id":{"name":"source_model_id","displayName":"source_model_id","identifiesControllerService":false,"sensitive":false},"model_major_version":{"name":"model_major_version","displayName":"model_major_version","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"model_version_number":{"name":"model_version_number","displayName":"model_version_number","identifiesControllerService":false,"sensitive":false}},"style":{},"annotationData":"<criteria>\n    <flowFilePolicy>USE_CLONE</flowFilePolicy>\n    <rules>\n        <actions>\n            <attribute>query</attribute>\n            <id>ab3a372a-5d72-4656-aab2-d98cf8027860</id>\n            <value>select distinct source_model_id,model_version_number from idw.a360_model where source_model_id = '${model_id}'</value>\n        </actions>\n        <comments></comments>\n        <conditions>\n            <expression>${model_id:isEmpty():not()}</expression>\n            <id>af515b56-40d9-485a-b2f5-f66714da3368</id>\n        </conditions>\n        <id>d5f783ea-a214-4c21-bc44-31db4505b858</id>\n        <name>TriggerFromRole</name>\n    </rules>\n    <rules>\n        <actions>\n            <attribute>query</attribute>\n            <id>ab3a372a-5d72-4656-aab2-d98cf8027860</id>\n            <value>select distinct source_model_id,model_version_number from idw.a360_model</value>\n        </actions>\n        <comments></comments>\n        <conditions>\n            <expression>${model_id:isEmpty()}</expression>\n            <id>af515b56-40d9-485a-b2f5-f66714da3368</id>\n        </conditions>\n        <id>68b0d089-fb3c-4cb2-beb7-5660ea075099</id>\n        <name>Scheduler</name>\n    </rules>\n</criteria>","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"f586f903-9caf-34c9-baf7-b013d0c2b0f5","instanceIdentifier":"fd9d90f6-73ed-3e5f-a067-f02b952ee5d3","name":"InvokeHTTP_FetchData","comments":"","position":{"x":480.0,"y":336.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Proxy Host":null,"Attributes to Send":null,"use-etag":"false","proxy-configuration-service":null,"Proxy Type":"http","cookie-strategy":"DISABLED","Connection Timeout":"5 secs","send-message-body":"false","Authorization":"${token:jsonPath('$.token')}","set-form-filename":"true","Always Output Response":"true","etag-max-cache-size":"10MB","Content-Encoding":"DISABLED","disable-http2":"False","idle-timeout":"5 mins","Put Response Body In Attribute":null,"Use Chunked Encoding":"false","Follow Redirects":"True","Remote URL":"https://#{endpoint}/internal/caas/publications/contentDictionary/manifests/${source_model_id}?tag=${model_major_version}&lang=en-US","form-body-form-name":null,"Content-Type":"application/json","flow-file-naming-strategy":"RANDOM","max-idle-connections":"5","invokehttp-proxy-user":null,"Read Timeout":"15 secs","Socket Write Timeout":"15 secs","Max Length To Put In Attribute":"256","ignore-response-content":"false","Proxy Port":null,"SSL Context Service":"6a9e07b5-a216-35ab-8a86-e1c698aa771b","Digest Authentication":"false","HTTP Method":"GET","Add Response Headers to Request":"false","oauth2-access-token-provider":null,"Basic Authentication Username":null,"Include Date Header":"True","Penalize on \"No Retry\"":"false","Useragent":null},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"Attributes to Send":{"name":"Attributes to Send","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false},"use-etag":{"name":"use-etag","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Proxy Type":{"name":"Proxy Type","displayName":"Proxy Type","identifiesControllerService":false,"sensitive":false},"Basic Authentication Password":{"name":"Basic Authentication Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true},"cookie-strategy":{"name":"cookie-strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Socket Connect Timeout","identifiesControllerService":false,"sensitive":false},"send-message-body":{"name":"send-message-body","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false},"Authorization":{"name":"Authorization","displayName":"Authorization","identifiesControllerService":false,"sensitive":false},"set-form-filename":{"name":"set-form-filename","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false},"Always Output Response":{"name":"Always Output Response","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false},"etag-max-cache-size":{"name":"etag-max-cache-size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false},"Content-Encoding":{"name":"Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false},"disable-http2":{"name":"disable-http2","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false},"idle-timeout":{"name":"idle-timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false},"Put Response Body In Attribute":{"name":"Put Response Body In Attribute","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false},"Use Chunked Encoding":{"name":"Use Chunked Encoding","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false},"Follow Redirects":{"name":"Follow Redirects","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false},"Remote URL":{"name":"Remote URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false},"form-body-form-name":{"name":"form-body-form-name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false},"flow-file-naming-strategy":{"name":"flow-file-naming-strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false},"max-idle-connections":{"name":"max-idle-connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-user":{"name":"invokehttp-proxy-user","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Read Timeout":{"name":"Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false},"Max Length To Put In Attribute":{"name":"Max Length To Put In Attribute","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-password":{"name":"invokehttp-proxy-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"ignore-response-content":{"name":"ignore-response-content","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false},"Proxy Port":{"name":"Proxy Port","displayName":"Proxy Port","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Digest Authentication":{"name":"Digest Authentication","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false},"Add Response Headers to Request":{"name":"Add Response Headers to Request","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false},"oauth2-access-token-provider":{"name":"oauth2-access-token-provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false},"Basic Authentication Username":{"name":"Basic Authentication Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false},"Include Date Header":{"name":"Include Date Header","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false},"Penalize on \"No Retry\"":{"name":"Penalize on \"No Retry\"","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false},"Useragent":{"name":"Useragent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["Retry","Original"],"scheduledState":"ENABLED","retryCount":3,"retriedRelationships":["Failure"],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"2 mins","componentType":"PROCESSOR","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"5a5dbc71-2c09-3664-8dfb-a9e19a9476f2","instanceIdentifier":"ab7ad921-0196-1000-ffff-ffff8131f749","name":"RouteOnAttribute","comments":"","position":{"x":472.0,"y":544.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Routing Strategy":"Route to Property name","is200":"${invokehttp.status.code:equals(200)}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"is200":{"name":"is200","displayName":"is200","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"2dd7c2d0-ed98-31bd-8821-94784bfd4738","instanceIdentifier":"8f643b65-c45a-14fe-96c4-15462033a0da","name":"RouteOnAttribute","comments":"","position":{"x":472.0,"y":952.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Routing Strategy":"Route to Property name","isAPICall":"${http.request.uri:equalsIgnoreCase('/fetch-model')}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"isAPICall":{"name":"isAPICall","displayName":"isAPICall","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"544d6295-9ea8-3439-9c45-86d3272bc0d3","instanceIdentifier":"ab7db66b-0196-1000-0000-000041376962","name":"EvaluateJsonPath","comments":"","position":{"x":-128.0,"y":552.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Destination":"flowfile-attribute","Max String Length":"20 MB","Return Type":"auto-detect","errorCode":"$.errorCode","Null Value Representation":"empty string","message":"$.message","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"errorCode":{"name":"errorCode","displayName":"errorCode","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"message":{"name":"message","displayName":"message","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"7ae7a620-eaa2-306f-9100-e26bc773e4f6","instanceIdentifier":"80983445-79c0-111e-aa98-7a14dbb7782d","name":"ReplaceText","comments":"","position":{"x":-136.0,"y":944.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n  \"statusCode\": ${statusCode},\n  \"message\": \"${message}\",\n  \"path\": \"${http.request.uri}\",\n  \"uuid\": \"${app_uuid}\",\n  \"timestamp\": \"${now():toNumber():formatInstant(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\", \"GMT\")}\"\n}","Evaluation Mode":"Entire text","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"15 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"ec9d41f6-bb44-3a46-8d98-38e4e719b0fa","instanceIdentifier":"497508cc-bf37-3303-8bcc-7d4c6e676354","name":"InvokeHTTP_GetToken","comments":"","position":{"x":480.0,"y":112.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Proxy Host":null,"Attributes to Send":null,"use-etag":"false","proxy-configuration-service":null,"Proxy Type":"http","cookie-strategy":"DISABLED","Connection Timeout":"5 secs","send-message-body":"false","Authorization":"#{token}","set-form-filename":"true","Always Output Response":"false","etag-max-cache-size":"10MB","Content-Encoding":"DISABLED","disable-http2":"False","idle-timeout":"5 mins","Put Response Body In Attribute":"token","Use Chunked Encoding":"false","Follow Redirects":"True","Remote URL":"https://#{endpoint}/authenticate","form-body-form-name":null,"Content-Type":"application/json","flow-file-naming-strategy":"RANDOM","max-idle-connections":"5","invokehttp-proxy-user":null,"Read Timeout":"15 secs","Socket Write Timeout":"15 secs","Max Length To Put In Attribute":"25600","ignore-response-content":"false","Proxy Port":null,"SSL Context Service":"6a9e07b5-a216-35ab-8a86-e1c698aa771b","Digest Authentication":"false","HTTP Method":"POST","Add Response Headers to Request":"false","oauth2-access-token-provider":null,"Basic Authentication Username":null,"Include Date Header":"True","Penalize on \"No Retry\"":"false","Useragent":null},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"Attributes to Send":{"name":"Attributes to Send","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false},"use-etag":{"name":"use-etag","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Proxy Type":{"name":"Proxy Type","displayName":"Proxy Type","identifiesControllerService":false,"sensitive":false},"Basic Authentication Password":{"name":"Basic Authentication Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true},"cookie-strategy":{"name":"cookie-strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Socket Connect Timeout","identifiesControllerService":false,"sensitive":false},"send-message-body":{"name":"send-message-body","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false},"Authorization":{"name":"Authorization","displayName":"Authorization","identifiesControllerService":false,"sensitive":true},"set-form-filename":{"name":"set-form-filename","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false},"Always Output Response":{"name":"Always Output Response","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false},"etag-max-cache-size":{"name":"etag-max-cache-size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false},"Content-Encoding":{"name":"Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false},"disable-http2":{"name":"disable-http2","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false},"idle-timeout":{"name":"idle-timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false},"Put Response Body In Attribute":{"name":"Put Response Body In Attribute","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false},"Use Chunked Encoding":{"name":"Use Chunked Encoding","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false},"Follow Redirects":{"name":"Follow Redirects","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false},"Remote URL":{"name":"Remote URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false},"form-body-form-name":{"name":"form-body-form-name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false},"flow-file-naming-strategy":{"name":"flow-file-naming-strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false},"max-idle-connections":{"name":"max-idle-connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-user":{"name":"invokehttp-proxy-user","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Read Timeout":{"name":"Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false},"Max Length To Put In Attribute":{"name":"Max Length To Put In Attribute","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-password":{"name":"invokehttp-proxy-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"ignore-response-content":{"name":"ignore-response-content","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false},"Proxy Port":{"name":"Proxy Port","displayName":"Proxy Port","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Digest Authentication":{"name":"Digest Authentication","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false},"Add Response Headers to Request":{"name":"Add Response Headers to Request","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false},"oauth2-access-token-provider":{"name":"oauth2-access-token-provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false},"Basic Authentication Username":{"name":"Basic Authentication Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false},"Include Date Header":{"name":"Include Date Header","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false},"Penalize on \"No Retry\"":{"name":"Penalize on \"No Retry\"","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false},"Useragent":{"name":"Useragent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["Response"],"scheduledState":"ENABLED","retryCount":5,"retriedRelationships":["Retry"],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"5 mins","componentType":"PROCESSOR","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"0dbe2bf7-aaaf-378c-bb46-4fe3cbf3cde6","instanceIdentifier":"ca6e38a5-59d6-108c-aeed-81b4ece28381","name":"HandleHttpResponse","comments":"","position":{"x":472.0,"y":1176.0},"type":"org.apache.nifi.processors.standard.HandleHttpResponse","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"HTTP Context Map":"4fa59f61-4b0b-326a-ac65-0dbc4ed6c1bb","Attributes to add to the HTTP Response (Regex)":null,"HTTP Status Code":"${statusCode}","Content-Type":"application/json"},"propertyDescriptors":{"HTTP Context Map":{"name":"HTTP Context Map","displayName":"HTTP Context Map","identifiesControllerService":true,"sensitive":false},"Attributes to add to the HTTP Response (Regex)":{"name":"Attributes to add to the HTTP Response (Regex)","displayName":"Attributes to add to the HTTP Response (Regex)","identifiesControllerService":false,"sensitive":false},"HTTP Status Code":{"name":"HTTP Status Code","displayName":"HTTP Status Code","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Content-Type","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"1040a57b-2016-39fc-974c-bb490ac37ff8","instanceIdentifier":"6c113ba9-1f57-1dcc-80da-e24f1f280d44","name":"UpdateAttribute","comments":"","position":{"x":-136.0,"y":760.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","mime.type":"application/json","Stateful Variables Initial Value":null,"message":"${errorCode} - ${message}","statusCode":"${invokehttp.status.code}"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"mime.type":{"name":"mime.type","displayName":"mime.type","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"message":{"name":"message","displayName":"message","identifiesControllerService":false,"sensitive":false},"statusCode":{"name":"statusCode","displayName":"statusCode","identifiesControllerService":false,"sensitive":false}},"style":{},"annotationData":"<criteria>\n    <flowFilePolicy>USE_CLONE</flowFilePolicy>\n</criteria>","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"}],"inputPorts":[{"identifier":"586cb029-0dfe-3d74-90ca-520c5b812d6b","instanceIdentifier":"3a5f371b-4768-18d4-a7f6-6084672a943a","name":"from API","comments":"","position":{"x":-64.0,"y":-16.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"4702da16-156f-3f54-ab6d-0f957b631ef6","instanceIdentifier":"a7bccc29-7df9-3b39-88b3-87db72784b53","name":"input","position":{"x":536.0,"y":-208.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"}],"outputPorts":[{"identifier":"20effa53-968b-345c-8db3-6c4923047ca1","instanceIdentifier":"7873bc53-db4c-3264-b5d4-b08523c61263","name":"to logs","position":{"x":2016.0,"y":936.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"872bd668-8b2f-38d0-9d9b-06c57c64741d","instanceIdentifier":"60b9bf7b-05ba-3010-aa97-87af75e5ad47","name":"output","position":{"x":1080.0,"y":600.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"}],"connections":[{"identifier":"d92ebfe3-679a-34c6-a80f-680b0de02e8c","instanceIdentifier":"ea328d08-d47d-30fd-b8d1-955ea4104daf","name":"","source":{"id":"ec9d41f6-bb44-3a46-8d98-38e4e719b0fa","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"InvokeHTTP_GetToken","comments":"","instanceIdentifier":"497508cc-bf37-3303-8bcc-7d4c6e676354"},"destination":{"id":"d173d3a9-d8a7-3f05-a998-ec269e57abb0","type":"FUNNEL","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"Funnel","comments":"","instanceIdentifier":"ab8d1f25-0196-1000-0000-00002c0dac06"},"labelIndex":0,"zIndex":0,"selectedRelationships":["No Retry","Retry","Failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1512.0,"y":184.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"f93b8ee8-9b95-374b-8ebf-cad047a6ccdd","instanceIdentifier":"ab8fd47e-0196-1000-ffff-ffffd735ec65","name":"","source":{"id":"0dbe2bf7-aaaf-378c-bb46-4fe3cbf3cde6","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"HandleHttpResponse","comments":"","instanceIdentifier":"ca6e38a5-59d6-108c-aeed-81b4ece28381"},"destination":{"id":"7964da18-8b7d-37d3-8120-01d6d601b7f0","type":"INPUT_PORT","groupId":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5","name":"api_log_in","comments":"","instanceIdentifier":"5e083603-6669-1dcf-9e76-d9a345586d7e"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success","failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1512.0,"y":1232.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"486f1f40-9471-30d2-94d1-7412f534454b","instanceIdentifier":"5a9b3c2d-a9d0-1fcd-ffff-ffff98cda283","name":"","source":{"id":"9068c47a-c7a0-3d58-9163-81fbc598d607","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"UpdateAttribute","comments":"","instanceIdentifier":"5a9b3c19-a9d0-1fcd-836c-fc5621c9d86e"},"destination":{"id":"ec9d41f6-bb44-3a46-8d98-38e4e719b0fa","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"InvokeHTTP_GetToken","comments":"","instanceIdentifier":"497508cc-bf37-3303-8bcc-7d4c6e676354"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"243f132e-eb6d-3fd7-a774-d7948a367188","instanceIdentifier":"ab6c2846-0196-1000-0000-000056acfb7c","name":"","source":{"id":"11075faf-b172-38b4-9073-7afd09477aa6","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"UpdateAttribute","comments":"","instanceIdentifier":"eedd3114-d4d9-1521-b847-f2e4293e7602"},"destination":{"id":"ec9d41f6-bb44-3a46-8d98-38e4e719b0fa","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"InvokeHTTP_GetToken","comments":"","instanceIdentifier":"497508cc-bf37-3303-8bcc-7d4c6e676354"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"b7fe8c27-36d7-37c2-837a-78a4a17d348b","instanceIdentifier":"ab8d6cdc-0196-1000-ffff-ffffd7814d58","name":"","source":{"id":"d173d3a9-d8a7-3f05-a998-ec269e57abb0","type":"FUNNEL","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"Funnel","comments":"","instanceIdentifier":"ab8d1f25-0196-1000-0000-00002c0dac06"},"destination":{"id":"5454116a-3cd8-35e2-a3df-7d08adac256e","type":"INPUT_PORT","groupId":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5","name":"api_log","comments":"","instanceIdentifier":"d61836c8-2931-109a-a1cc-9375be5327e1"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"b5bea043-bf5c-3843-a601-3e89ef36f7d9","instanceIdentifier":"760fe8da-c31d-3049-987a-d0a63781f7a9","name":"","source":{"id":"4702da16-156f-3f54-ab6d-0f957b631ef6","type":"INPUT_PORT","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"input","instanceIdentifier":"a7bccc29-7df9-3b39-88b3-87db72784b53"},"destination":{"id":"11075faf-b172-38b4-9073-7afd09477aa6","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"UpdateAttribute","comments":"","instanceIdentifier":"eedd3114-d4d9-1521-b847-f2e4293e7602"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"87c20a77-3bd6-310d-ad2b-ebb57c4bcc50","instanceIdentifier":"ab7d232a-0196-1000-ffff-ffffd28f9d70","name":"","source":{"id":"5a5dbc71-2c09-3664-8dfb-a9e19a9476f2","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"RouteOnAttribute","comments":"","instanceIdentifier":"ab7ad921-0196-1000-ffff-ffff8131f749"},"destination":{"id":"872bd668-8b2f-38d0-9d9b-06c57c64741d","type":"OUTPUT_PORT","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"output","instanceIdentifier":"60b9bf7b-05ba-3010-aa97-87af75e5ad47"},"labelIndex":1,"zIndex":0,"selectedRelationships":["is200"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"c91c71fc-3eb5-32b0-ad25-66f37296e50a","instanceIdentifier":"ae751d7d-0196-1000-0000-0000264df8ff","name":"","source":{"id":"7ae7a620-eaa2-306f-9100-e26bc773e4f6","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"ReplaceText","comments":"","instanceIdentifier":"80983445-79c0-111e-aa98-7a14dbb7782d"},"destination":{"id":"2dd7c2d0-ed98-31bd-8821-94784bfd4738","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"RouteOnAttribute","comments":"","instanceIdentifier":"8f643b65-c45a-14fe-96c4-15462033a0da"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"ee503e80-f197-3976-ba42-961d8b31a7be","instanceIdentifier":"dc674fff-3b5c-3198-9cf5-887079c66f35","name":"","source":{"id":"f586f903-9caf-34c9-baf7-b013d0c2b0f5","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"InvokeHTTP_FetchData","comments":"","instanceIdentifier":"fd9d90f6-73ed-3e5f-a067-f02b952ee5d3"},"destination":{"id":"d173d3a9-d8a7-3f05-a998-ec269e57abb0","type":"FUNNEL","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"Funnel","comments":"","instanceIdentifier":"ab8d1f25-0196-1000-0000-00002c0dac06"},"labelIndex":0,"zIndex":0,"selectedRelationships":["No Retry","Failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"eb530c7c-042f-3b28-a529-8f0e26ab93c6","instanceIdentifier":"be283cdf-4b48-1bee-ffff-ffff8dacddc4","name":"","source":{"id":"7a01761e-cfe9-31c6-9b01-b39e765c6b2e","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"UpdateAttribute","comments":"","instanceIdentifier":"be283cbc-4b48-1bee-a8e8-81b6f96ea521"},"destination":{"id":"7ae7a620-eaa2-306f-9100-e26bc773e4f6","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"ReplaceText","comments":"","instanceIdentifier":"80983445-79c0-111e-aa98-7a14dbb7782d"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"68d3860b-8a21-31e9-8362-f8c1c9b3cc3e","instanceIdentifier":"a4a55681-6196-3637-969f-41234d1008d5","name":"","source":{"id":"ec9d41f6-bb44-3a46-8d98-38e4e719b0fa","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"InvokeHTTP_GetToken","comments":"","instanceIdentifier":"497508cc-bf37-3303-8bcc-7d4c6e676354"},"destination":{"id":"f586f903-9caf-34c9-baf7-b013d0c2b0f5","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"InvokeHTTP_FetchData","comments":"","instanceIdentifier":"fd9d90f6-73ed-3e5f-a067-f02b952ee5d3"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Original"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"480fadca-0640-35c8-be08-4534d6059af1","instanceIdentifier":"ab7ddab0-0196-1000-ffff-ffffaaec204e","name":"","source":{"id":"5a5dbc71-2c09-3664-8dfb-a9e19a9476f2","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"RouteOnAttribute","comments":"","instanceIdentifier":"ab7ad921-0196-1000-ffff-ffff8131f749"},"destination":{"id":"544d6295-9ea8-3439-9c45-86d3272bc0d3","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"ab7db66b-0196-1000-0000-000041376962"},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"a1ae74d7-9cdb-3e87-8ed3-74ec70f083d0","instanceIdentifier":"ae79018d-0196-1000-0000-00003fdc6101","name":"","source":{"id":"2dd7c2d0-ed98-31bd-8821-94784bfd4738","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"RouteOnAttribute","comments":"","instanceIdentifier":"8f643b65-c45a-14fe-96c4-15462033a0da"},"destination":{"id":"7964da18-8b7d-37d3-8120-01d6d601b7f0","type":"INPUT_PORT","groupId":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5","name":"api_log_in","comments":"","instanceIdentifier":"5e083603-6669-1dcf-9e76-d9a345586d7e"},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"439a5870-9db2-3fb8-a4b4-52f80bae60b2","instanceIdentifier":"6deb3e8c-fb80-18fa-83a2-964d1df9711b","name":"","source":{"id":"1040a57b-2016-39fc-974c-bb490ac37ff8","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"UpdateAttribute","comments":"","instanceIdentifier":"6c113ba9-1f57-1dcc-80da-e24f1f280d44"},"destination":{"id":"7ae7a620-eaa2-306f-9100-e26bc773e4f6","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"ReplaceText","comments":"","instanceIdentifier":"80983445-79c0-111e-aa98-7a14dbb7782d"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"ef305bc0-34d6-348c-aac1-88d4e70d0d18","instanceIdentifier":"503b65eb-2ae1-3541-a9d9-9fe3aa735981","name":"","source":{"id":"f586f903-9caf-34c9-baf7-b013d0c2b0f5","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"InvokeHTTP_FetchData","comments":"","instanceIdentifier":"fd9d90f6-73ed-3e5f-a067-f02b952ee5d3"},"destination":{"id":"5a5dbc71-2c09-3664-8dfb-a9e19a9476f2","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"RouteOnAttribute","comments":"","instanceIdentifier":"ab7ad921-0196-1000-ffff-ffff8131f749"},"labelIndex":1,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"d39da568-b97a-347f-980d-9e26cff9c267","instanceIdentifier":"be283cbf-4b48-1bee-ffff-ffff8c15c358","name":"","source":{"id":"5a5dbc71-2c09-3664-8dfb-a9e19a9476f2","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"RouteOnAttribute","comments":"","instanceIdentifier":"ab7ad921-0196-1000-ffff-ffff8131f749"},"destination":{"id":"7a01761e-cfe9-31c6-9b01-b39e765c6b2e","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"UpdateAttribute","comments":"","instanceIdentifier":"be283cbc-4b48-1bee-a8e8-81b6f96ea521"},"labelIndex":1,"zIndex":0,"selectedRelationships":["is200"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"1127916d-9ea0-3816-9346-4676fb3b35c5","instanceIdentifier":"ab804e13-0196-1000-ffff-ffffb07ec2da","name":"","source":{"id":"544d6295-9ea8-3439-9c45-86d3272bc0d3","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"ab7db66b-0196-1000-0000-000041376962"},"destination":{"id":"1040a57b-2016-39fc-974c-bb490ac37ff8","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"UpdateAttribute","comments":"","instanceIdentifier":"6c113ba9-1f57-1dcc-80da-e24f1f280d44"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"2ccf68f9-6c3a-3d30-b804-c38da80eb7a6","instanceIdentifier":"3a5f372d-4768-18d4-ffff-ffffec095a2e","name":"","source":{"id":"586cb029-0dfe-3d74-90ca-520c5b812d6b","type":"INPUT_PORT","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"from API","comments":"","instanceIdentifier":"3a5f371b-4768-18d4-a7f6-6084672a943a"},"destination":{"id":"9068c47a-c7a0-3d58-9163-81fbc598d607","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"UpdateAttribute","comments":"","instanceIdentifier":"5a9b3c19-a9d0-1fcd-836c-fc5621c9d86e"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"aca0a383-5da9-37ac-bfe0-3985dff8432a","instanceIdentifier":"9fda2ee3-0196-1000-0000-00005fa46b8b","name":"","source":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"f618b56b-89eb-300b-a4ce-ba1f08dbe1a5","name":"log_op","instanceIdentifier":"5486303b-fc3a-11ca-851d-2daf7970f31b"},"destination":{"id":"20effa53-968b-345c-8db3-6c4923047ca1","type":"OUTPUT_PORT","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"to logs","instanceIdentifier":"7873bc53-db4c-3264-b5d4-b08523c61263"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"},{"identifier":"babc5c9e-568a-36c3-8664-9e0e2bd55b1d","instanceIdentifier":"ae7663f2-0196-1000-ffff-ffffe2aa964a","name":"","source":{"id":"2dd7c2d0-ed98-31bd-8821-94784bfd4738","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"RouteOnAttribute","comments":"","instanceIdentifier":"8f643b65-c45a-14fe-96c4-15462033a0da"},"destination":{"id":"0dbe2bf7-aaaf-378c-bb46-4fe3cbf3cde6","type":"PROCESSOR","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"HandleHttpResponse","comments":"","instanceIdentifier":"ca6e38a5-59d6-108c-aeed-81b4ece28381"},"labelIndex":1,"zIndex":0,"selectedRelationships":["isAPICall"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"}],"labels":[],"funnels":[{"identifier":"d173d3a9-d8a7-3f05-a998-ec269e57abb0","instanceIdentifier":"ab8d1f25-0196-1000-0000-00002c0dac06","position":{"x":1488.0,"y":376.0},"componentType":"FUNNEL","groupIdentifier":"0a478230-2303-3863-add2-24b71c44a30b"}],"controllerServices":[],"variables":{},"parameterContextName":"cms_api","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"9e0864df-45dc-3940-9c92-35db6b5e4394","instanceIdentifier":"390c0676-24a1-3aa9-bb42-dc1e64b0c1fe","name":"Update a360_model","comments":"","position":{"x":-5808.0,"y":1656.0},"processGroups":[{"identifier":"77f5248c-6d46-3218-9793-8cab3e09d93b","instanceIdentifier":"ed18338d-8d04-1ed9-8c36-1c5b3a0bd869","name":"FRAME LOGS","comments":"","position":{"x":-5136.0,"y":2832.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"c811201e-6830-30a9-a373-25d1355a63a8","instanceIdentifier":"146c3637-6b23-1c30-aeba-9705e526287c","name":"Consume Message Attribute","comments":"","position":{"x":416.0,"y":240.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"CMS - Update a360_model","flow_name":"CMS","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"77f5248c-6d46-3218-9793-8cab3e09d93b"},{"identifier":"8fab70de-23b5-3b66-8db0-01ab770c74f2","instanceIdentifier":"1ce13f9f-67af-127c-bd2d-0df621c7537b","name":"UpdateAttribute","comments":"","position":{"x":416.0,"y":-416.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","merge_key":"${app_uuid}${source_model_id}${error.message:isEmpty()}${error.sql.state}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"merge_key":{"name":"merge_key","displayName":"merge_key","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"77f5248c-6d46-3218-9793-8cab3e09d93b"},{"identifier":"b5f28e17-195d-301c-b366-433332021b04","instanceIdentifier":"3e5032e5-fa8a-18bc-b516-82a84fa9dd41","name":"Group","comments":"","position":{"x":416.0,"y":8.0},"type":"org.apache.nifi.processors.standard.MergeContent","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Keep Path":"false","Maximum Group Size":null,"Merge Strategy":"Bin-Packing Algorithm","Attribute Strategy":"Keep All Unique Attributes","Compression Level":"1","Maximum Number of Entries":"10000","Minimum Group Size":"0 B","Maximum number of Bins":"2","Tar Modified Time":"${file.lastModifiedTime}","Delimiter Strategy":"Do Not Use Delimiters","Merge Format":"Binary Concatenation","Footer File":null,"Max Bin Age":"60 sec","Demarcator File":null,"Correlation Attribute Name":"merge_key","Header File":null,"mergecontent-metadata-strategy":"Do Not Merge Uncommon Metadata","Minimum Number of Entries":"1000"},"propertyDescriptors":{"Keep Path":{"name":"Keep Path","displayName":"Keep Path","identifiesControllerService":false,"sensitive":false},"Maximum Group Size":{"name":"Maximum Group Size","displayName":"Maximum Group Size","identifiesControllerService":false,"sensitive":false},"Merge Strategy":{"name":"Merge Strategy","displayName":"Merge Strategy","identifiesControllerService":false,"sensitive":false},"Attribute Strategy":{"name":"Attribute Strategy","displayName":"Attribute Strategy","identifiesControllerService":false,"sensitive":false},"Compression Level":{"name":"Compression Level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"Maximum Number of Entries":{"name":"Maximum Number of Entries","displayName":"Maximum Number of Entries","identifiesControllerService":false,"sensitive":false},"Minimum Group Size":{"name":"Minimum Group Size","displayName":"Minimum Group Size","identifiesControllerService":false,"sensitive":false},"Maximum number of Bins":{"name":"Maximum number of Bins","displayName":"Maximum number of Bins","identifiesControllerService":false,"sensitive":false},"Tar Modified Time":{"name":"Tar Modified Time","displayName":"Tar Modified Time","identifiesControllerService":false,"sensitive":false},"Delimiter Strategy":{"name":"Delimiter Strategy","displayName":"Delimiter Strategy","identifiesControllerService":false,"sensitive":false},"Merge Format":{"name":"Merge Format","displayName":"Merge Format","identifiesControllerService":false,"sensitive":false},"Footer File":{"name":"Footer File","displayName":"Footer","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Max Bin Age":{"name":"Max Bin Age","displayName":"Max Bin Age","identifiesControllerService":false,"sensitive":false},"Demarcator File":{"name":"Demarcator File","displayName":"Demarcator","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Correlation Attribute Name":{"name":"Correlation Attribute Name","displayName":"Correlation Attribute Name","identifiesControllerService":false,"sensitive":false},"Header File":{"name":"Header File","displayName":"Header","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"mergecontent-metadata-strategy":{"name":"mergecontent-metadata-strategy","displayName":"Metadata Strategy","identifiesControllerService":false,"sensitive":false},"Minimum Number of Entries":{"name":"Minimum Number of Entries","displayName":"Minimum Number of Entries","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"77f5248c-6d46-3218-9793-8cab3e09d93b"},{"identifier":"aad5cfb6-1168-3ab5-a0ca-a4cf365cdfe0","instanceIdentifier":"08733cd9-9349-17ca-b280-cd39c978ac18","name":"ReplaceText","comments":"","position":{"x":416.0,"y":-208.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\"id\":\"${source_model_id}\"}","Evaluation Mode":"Entire text","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"20 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"77f5248c-6d46-3218-9793-8cab3e09d93b"}],"inputPorts":[{"identifier":"69c38982-4205-35c8-8503-c742a525b3bf","instanceIdentifier":"830139bc-a766-1820-8dcf-b51e0da5b90e","name":"log_ip_port","position":{"x":464.0,"y":-528.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"77f5248c-6d46-3218-9793-8cab3e09d93b"}],"outputPorts":[{"identifier":"a88ac5a0-8497-357d-a932-9898df7af4b8","instanceIdentifier":"9976332c-a67d-1c5a-a951-2f276f3d9287","name":"log_op_port","position":{"x":480.0,"y":480.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"77f5248c-6d46-3218-9793-8cab3e09d93b"}],"connections":[{"identifier":"ae196b30-b1f3-32b8-a823-92d40695f481","instanceIdentifier":"cd3f3ff0-4b1d-15c3-8fc0-3976df3d0eb2","name":"","source":{"id":"b5f28e17-195d-301c-b366-433332021b04","type":"PROCESSOR","groupId":"77f5248c-6d46-3218-9793-8cab3e09d93b","name":"Group","comments":"","instanceIdentifier":"3e5032e5-fa8a-18bc-b516-82a84fa9dd41"},"destination":{"id":"c811201e-6830-30a9-a373-25d1355a63a8","type":"PROCESSOR","groupId":"77f5248c-6d46-3218-9793-8cab3e09d93b","name":"Consume Message Attribute","comments":"","instanceIdentifier":"146c3637-6b23-1c30-aeba-9705e526287c"},"labelIndex":1,"zIndex":0,"selectedRelationships":["merged"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"77f5248c-6d46-3218-9793-8cab3e09d93b"},{"identifier":"cd44e86c-4d10-3c98-a625-1237b563c6b7","instanceIdentifier":"fe8a3257-3703-1c55-a195-935177e572f4","name":"","source":{"id":"c811201e-6830-30a9-a373-25d1355a63a8","type":"PROCESSOR","groupId":"77f5248c-6d46-3218-9793-8cab3e09d93b","name":"Consume Message Attribute","comments":"","instanceIdentifier":"146c3637-6b23-1c30-aeba-9705e526287c"},"destination":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"77f5248c-6d46-3218-9793-8cab3e09d93b","name":"log_op_port","instanceIdentifier":"9976332c-a67d-1c5a-a951-2f276f3d9287"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"77f5248c-6d46-3218-9793-8cab3e09d93b"},{"identifier":"c92a5dbd-d301-3dc2-a8fd-b66bc8257dea","instanceIdentifier":"a5ca3006-ef20-1220-9c8f-6815eb689bf1","name":"","source":{"id":"aad5cfb6-1168-3ab5-a0ca-a4cf365cdfe0","type":"PROCESSOR","groupId":"77f5248c-6d46-3218-9793-8cab3e09d93b","name":"ReplaceText","comments":"","instanceIdentifier":"08733cd9-9349-17ca-b280-cd39c978ac18"},"destination":{"id":"b5f28e17-195d-301c-b366-433332021b04","type":"PROCESSOR","groupId":"77f5248c-6d46-3218-9793-8cab3e09d93b","name":"Group","comments":"","instanceIdentifier":"3e5032e5-fa8a-18bc-b516-82a84fa9dd41"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"77f5248c-6d46-3218-9793-8cab3e09d93b"},{"identifier":"7b5d5ef0-70e4-3b8b-be2a-6dd4f244ddab","instanceIdentifier":"76b63078-4e33-16a5-aeac-f22c54d2c5a4","name":"","source":{"id":"8fab70de-23b5-3b66-8db0-01ab770c74f2","type":"PROCESSOR","groupId":"77f5248c-6d46-3218-9793-8cab3e09d93b","name":"UpdateAttribute","comments":"","instanceIdentifier":"1ce13f9f-67af-127c-bd2d-0df621c7537b"},"destination":{"id":"aad5cfb6-1168-3ab5-a0ca-a4cf365cdfe0","type":"PROCESSOR","groupId":"77f5248c-6d46-3218-9793-8cab3e09d93b","name":"ReplaceText","comments":"","instanceIdentifier":"08733cd9-9349-17ca-b280-cd39c978ac18"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"77f5248c-6d46-3218-9793-8cab3e09d93b"},{"identifier":"e9094579-04ff-319e-8a54-678a06c6ae21","instanceIdentifier":"67363118-53c3-1992-ac24-c6a1aadf1895","name":"","source":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"77f5248c-6d46-3218-9793-8cab3e09d93b","name":"log_ip_port","instanceIdentifier":"830139bc-a766-1820-8dcf-b51e0da5b90e"},"destination":{"id":"8fab70de-23b5-3b66-8db0-01ab770c74f2","type":"PROCESSOR","groupId":"77f5248c-6d46-3218-9793-8cab3e09d93b","name":"UpdateAttribute","comments":"","instanceIdentifier":"1ce13f9f-67af-127c-bd2d-0df621c7537b"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"77f5248c-6d46-3218-9793-8cab3e09d93b"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"9e0864df-45dc-3940-9c92-35db6b5e4394"}],"remoteProcessGroups":[],"processors":[{"identifier":"2fd10556-858e-3340-803a-9becca4206d5","instanceIdentifier":"246eda4a-a74a-301c-9e7f-808b72e5c8d1","name":"PutSQL","comments":"","position":{"x":-5800.0,"y":2848.0},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":"INSERT INTO idw.a360_model (source_model_id, model_version_number,model_name,model_type)\nVALUES ('${source_model_id}', '${apiVersion}','${model_name}','${source_model_id:equals('projects.internal.kfla.models.kfla'):ifElse('Standard','Custom')}')\nON CONFLICT (source_model_id) DO UPDATE\nSET model_version_number = '${apiVersion}',\nmodel_name = '${model_name}',\nmodel_type = '${source_model_id:equals('projects.internal.kfla.models.kfla'):ifElse('Standard','Custom')}'\nRETURNING model_key;","Transaction Timeout":null,"Batch Size":"100","Obtain Generated Keys":"true","JDBC Connection Pool":"be864070-cba2-3c79-986d-ccaa292953e2","database-session-autocommit":"true","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9e0864df-45dc-3940-9c92-35db6b5e4394"},{"identifier":"e66cdf97-852b-379b-96ae-f464e38a13ca","instanceIdentifier":"26cc8823-b782-3c9c-b86f-bb2ae770e453","name":"MergeContent","comments":"","position":{"x":-5808.0,"y":2624.0},"type":"org.apache.nifi.processors.standard.MergeContent","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Keep Path":"false","Maximum Group Size":null,"Merge Strategy":"Bin-Packing Algorithm","Attribute Strategy":"Keep Only Common Attributes","Compression Level":"1","Maximum Number of Entries":"2000","Minimum Group Size":"0 B","Maximum number of Bins":"5","Tar Modified Time":"${file.lastModifiedTime}","Delimiter Strategy":"Do Not Use Delimiters","Merge Format":"Binary Concatenation","Footer File":null,"Max Bin Age":"2 min","Demarcator File":null,"Correlation Attribute Name":"source_model_id","Header File":null,"mergecontent-metadata-strategy":"Do Not Merge Uncommon Metadata","Minimum Number of Entries":"1000"},"propertyDescriptors":{"Keep Path":{"name":"Keep Path","displayName":"Keep Path","identifiesControllerService":false,"sensitive":false},"Maximum Group Size":{"name":"Maximum Group Size","displayName":"Maximum Group Size","identifiesControllerService":false,"sensitive":false},"Merge Strategy":{"name":"Merge Strategy","displayName":"Merge Strategy","identifiesControllerService":false,"sensitive":false},"Attribute Strategy":{"name":"Attribute Strategy","displayName":"Attribute Strategy","identifiesControllerService":false,"sensitive":false},"Compression Level":{"name":"Compression Level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"Maximum Number of Entries":{"name":"Maximum Number of Entries","displayName":"Maximum Number of Entries","identifiesControllerService":false,"sensitive":false},"Minimum Group Size":{"name":"Minimum Group Size","displayName":"Minimum Group Size","identifiesControllerService":false,"sensitive":false},"Maximum number of Bins":{"name":"Maximum number of Bins","displayName":"Maximum number of Bins","identifiesControllerService":false,"sensitive":false},"Tar Modified Time":{"name":"Tar Modified Time","displayName":"Tar Modified Time","identifiesControllerService":false,"sensitive":false},"Delimiter Strategy":{"name":"Delimiter Strategy","displayName":"Delimiter Strategy","identifiesControllerService":false,"sensitive":false},"Merge Format":{"name":"Merge Format","displayName":"Merge Format","identifiesControllerService":false,"sensitive":false},"Footer File":{"name":"Footer File","displayName":"Footer","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Max Bin Age":{"name":"Max Bin Age","displayName":"Max Bin Age","identifiesControllerService":false,"sensitive":false},"Demarcator File":{"name":"Demarcator File","displayName":"Demarcator","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Correlation Attribute Name":{"name":"Correlation Attribute Name","displayName":"Correlation Attribute Name","identifiesControllerService":false,"sensitive":false},"Header File":{"name":"Header File","displayName":"Header","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"mergecontent-metadata-strategy":{"name":"mergecontent-metadata-strategy","displayName":"Metadata Strategy","identifiesControllerService":false,"sensitive":false},"Minimum Number of Entries":{"name":"Minimum Number of Entries","displayName":"Minimum Number of Entries","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9e0864df-45dc-3940-9c92-35db6b5e4394"},{"identifier":"abbf610b-90d6-315b-adf5-cf12a9e2843c","instanceIdentifier":"50c51e15-7c7d-3100-bb72-5d4da52fe0f3","name":"ModifyBytes","comments":"","position":{"x":-5809.307623187433,"y":2386.6055323762744},"type":"org.apache.nifi.processors.standard.ModifyBytes","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Start Offset":"0 B","End Offset":"0 B","Remove All Content":"true"},"propertyDescriptors":{"Start Offset":{"name":"Start Offset","displayName":"Start Offset","identifiesControllerService":false,"sensitive":false},"End Offset":{"name":"End Offset","displayName":"End Offset","identifiesControllerService":false,"sensitive":false},"Remove All Content":{"name":"Remove All Content","displayName":"Remove All Content","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9e0864df-45dc-3940-9c92-35db6b5e4394"}],"inputPorts":[{"identifier":"e17fa318-3698-3933-aec7-f54284f05ad6","instanceIdentifier":"d19ab6ef-8e89-3401-a175-ca28150a7a0f","name":"input","position":{"x":-5752.0,"y":2248.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"9e0864df-45dc-3940-9c92-35db6b5e4394"}],"outputPorts":[{"identifier":"a973d99d-5a5d-346e-a25b-3de9cd8f9784","instanceIdentifier":"f58b6ee7-c653-3078-8159-4cc2751b9e82","name":"to_logger","position":{"x":-5072.0,"y":3136.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"9e0864df-45dc-3940-9c92-35db6b5e4394"}],"connections":[{"identifier":"e4610e3e-7dff-3077-b47f-213b26b85176","instanceIdentifier":"246b6ce8-5b88-39db-9e15-598777f4e48a","name":"","source":{"id":"2fd10556-858e-3340-803a-9becca4206d5","type":"PROCESSOR","groupId":"9e0864df-45dc-3940-9c92-35db6b5e4394","name":"PutSQL","comments":"","instanceIdentifier":"246eda4a-a74a-301c-9e7f-808b72e5c8d1"},"destination":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"77f5248c-6d46-3218-9793-8cab3e09d93b","name":"log_ip_port","instanceIdentifier":"830139bc-a766-1820-8dcf-b51e0da5b90e"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success","failure","retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9e0864df-45dc-3940-9c92-35db6b5e4394"},{"identifier":"9a5f561d-7286-38c2-987c-2bdfcfd970ce","instanceIdentifier":"b65a899d-aff5-3853-8ebe-61e0ca200533","name":"","source":{"id":"e17fa318-3698-3933-aec7-f54284f05ad6","type":"INPUT_PORT","groupId":"9e0864df-45dc-3940-9c92-35db6b5e4394","name":"input","instanceIdentifier":"d19ab6ef-8e89-3401-a175-ca28150a7a0f"},"destination":{"id":"abbf610b-90d6-315b-adf5-cf12a9e2843c","type":"PROCESSOR","groupId":"9e0864df-45dc-3940-9c92-35db6b5e4394","name":"ModifyBytes","comments":"","instanceIdentifier":"50c51e15-7c7d-3100-bb72-5d4da52fe0f3"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"SINGLE_NODE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9e0864df-45dc-3940-9c92-35db6b5e4394"},{"identifier":"8b0fcbb6-411e-345d-9dbf-c537ce0603e1","instanceIdentifier":"a1345071-0196-1000-0000-0000543d7548","name":"","source":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"77f5248c-6d46-3218-9793-8cab3e09d93b","name":"log_op_port","instanceIdentifier":"9976332c-a67d-1c5a-a951-2f276f3d9287"},"destination":{"id":"a973d99d-5a5d-346e-a25b-3de9cd8f9784","type":"OUTPUT_PORT","groupId":"9e0864df-45dc-3940-9c92-35db6b5e4394","name":"to_logger","instanceIdentifier":"f58b6ee7-c653-3078-8159-4cc2751b9e82"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9e0864df-45dc-3940-9c92-35db6b5e4394"},{"identifier":"9075cece-778a-3271-9f55-fc11cd95c51d","instanceIdentifier":"34659a09-2ec2-371e-a445-31282d992fb3","name":"","source":{"id":"abbf610b-90d6-315b-adf5-cf12a9e2843c","type":"PROCESSOR","groupId":"9e0864df-45dc-3940-9c92-35db6b5e4394","name":"ModifyBytes","comments":"","instanceIdentifier":"50c51e15-7c7d-3100-bb72-5d4da52fe0f3"},"destination":{"id":"e66cdf97-852b-379b-96ae-f464e38a13ca","type":"PROCESSOR","groupId":"9e0864df-45dc-3940-9c92-35db6b5e4394","name":"MergeContent","comments":"","instanceIdentifier":"26cc8823-b782-3c9c-b86f-bb2ae770e453"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"SINGLE_NODE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9e0864df-45dc-3940-9c92-35db6b5e4394"},{"identifier":"aae726ee-9ff8-3c23-9753-0fd939237d69","instanceIdentifier":"2c4983ba-fbc8-3aba-8ecd-c27ffc168523","name":"","source":{"id":"e66cdf97-852b-379b-96ae-f464e38a13ca","type":"PROCESSOR","groupId":"9e0864df-45dc-3940-9c92-35db6b5e4394","name":"MergeContent","comments":"","instanceIdentifier":"26cc8823-b782-3c9c-b86f-bb2ae770e453"},"destination":{"id":"2fd10556-858e-3340-803a-9becca4206d5","type":"PROCESSOR","groupId":"9e0864df-45dc-3940-9c92-35db6b5e4394","name":"PutSQL","comments":"","instanceIdentifier":"246eda4a-a74a-301c-9e7f-808b72e5c8d1"},"labelIndex":1,"zIndex":0,"selectedRelationships":["merged"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9e0864df-45dc-3940-9c92-35db6b5e4394"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"}],"remoteProcessGroups":[],"processors":[{"identifier":"aa86eb44-38f8-37dc-9a82-93b5273b7d4e","instanceIdentifier":"faefb21c-cd03-3734-ba13-48ba64c07341","name":"GenerateFlowFile","comments":"","position":{"x":-5792.0,"y":136.0},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"character-set":"UTF-8","File Size":"0B","mime-type":null,"generate-ff-custom-text":null,"Batch Size":"1","Unique FlowFiles":"false","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"1000 min","schedulingStrategy":"TIMER_DRIVEN","executionNode":"PRIMARY","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"}],"inputPorts":[{"identifier":"df93ce68-9beb-3435-a9e0-c07a77571ac8","instanceIdentifier":"ae926469-3882-3eb5-9436-d3a74e54c5b3","name":"triigerFromRolePayload","comments":"","position":{"x":-6408.0,"y":448.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"1bebca25-c496-3dc1-acd6-b27b33633aea","instanceIdentifier":"a9f0f7b2-0196-1000-0000-00007035fa07","name":"triggerFromAPI","comments":"","position":{"x":-6408.0,"y":704.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"}],"outputPorts":[{"identifier":"72645833-2b0b-3efd-a421-e5c5d9f05776","instanceIdentifier":"6a193213-45a5-39a1-9555-4e8c36a17968","name":"to_logs","comments":"","position":{"x":-5736.0,"y":1936.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"}],"connections":[{"identifier":"7340f1cd-2d66-3907-9479-faa3a31f65ee","instanceIdentifier":"ba8551c7-933e-39c3-aa60-46495cc75fdf","name":"","source":{"id":"4cfe8858-5c83-3dd2-ac60-2be12c80919a","type":"FUNNEL","groupId":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9","name":"Funnel","comments":"","instanceIdentifier":"1bf02be6-f384-30c9-b13c-852f06bd95ea"},"destination":{"id":"72645833-2b0b-3efd-a421-e5c5d9f05776","type":"OUTPUT_PORT","groupId":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9","name":"to_logs","comments":"","instanceIdentifier":"6a193213-45a5-39a1-9555-4e8c36a17968"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":-4912.0,"y":1960.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"b16f287d-43be-3c4c-b209-12bbc69ea6d7","instanceIdentifier":"f627ad2d-be01-3e6d-857d-4db24106420e","name":"","source":{"id":"a973d99d-5a5d-346e-a25b-3de9cd8f9784","type":"OUTPUT_PORT","groupId":"9e0864df-45dc-3940-9c92-35db6b5e4394","name":"to_logger","instanceIdentifier":"f58b6ee7-c653-3078-8159-4cc2751b9e82"},"destination":{"id":"72645833-2b0b-3efd-a421-e5c5d9f05776","type":"OUTPUT_PORT","groupId":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9","name":"to_logs","comments":"","instanceIdentifier":"6a193213-45a5-39a1-9555-4e8c36a17968"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"1ce4a903-1e79-326b-9c17-2401e4cf9aa4","instanceIdentifier":"6ab6c202-008d-3cad-8fec-2c60ef556bbf","name":"","source":{"id":"fb7722eb-f676-3191-9fdf-3d52b1d7fd52","type":"OUTPUT_PORT","groupId":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a","name":"output","instanceIdentifier":"1c1f4f00-d81c-383a-aade-6fe61d916c47"},"destination":{"id":"e17fa318-3698-3933-aec7-f54284f05ad6","type":"INPUT_PORT","groupId":"9e0864df-45dc-3940-9c92-35db6b5e4394","name":"input","instanceIdentifier":"d19ab6ef-8e89-3401-a175-ca28150a7a0f"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"acc2bc53-e752-30d1-be98-9b97ce908f6a","instanceIdentifier":"bc1e75a4-c82b-3552-a685-5cdfdbd18a33","name":"","source":{"id":"7ee6a3ad-458b-39f9-8480-9554a3d6c01e","type":"OUTPUT_PORT","groupId":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a","name":"to_logger","instanceIdentifier":"80af67a7-7574-3b47-a218-049bc741baa1"},"destination":{"id":"72645833-2b0b-3efd-a421-e5c5d9f05776","type":"OUTPUT_PORT","groupId":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9","name":"to_logs","comments":"","instanceIdentifier":"6a193213-45a5-39a1-9555-4e8c36a17968"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":-6328.0,"y":1960.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"cb5970ad-b57a-3ee1-9ce9-fbc20bf189ed","instanceIdentifier":"c5439c54-9c7a-3460-b890-9fca417eddfc","name":"","source":{"id":"872bd668-8b2f-38d0-9d9b-06c57c64741d","type":"OUTPUT_PORT","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"output","instanceIdentifier":"60b9bf7b-05ba-3010-aa97-87af75e5ad47"},"destination":{"id":"015b1adb-4e8d-3aad-a7fd-9fc73740ccc1","type":"INPUT_PORT","groupId":"62f133f2-efc2-33bd-8f59-cdcf39805a9a","name":"input","instanceIdentifier":"96b88ac6-3057-3642-9484-f1bc61ef32db"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"70ff5171-67a3-3556-9065-9148af9db428","instanceIdentifier":"5196e5ae-34ee-3072-a870-c330fc08794e","name":"","source":{"id":"65b56c55-8a4b-3d51-913c-8f3302cfd189","type":"OUTPUT_PORT","groupId":"4c9dbadc-19e8-3764-a585-0fcc9f173b92","name":"output","instanceIdentifier":"79436920-5b34-3a41-afc0-84f9d8c0aa31"},"destination":{"id":"4702da16-156f-3f54-ab6d-0f957b631ef6","type":"INPUT_PORT","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"input","instanceIdentifier":"a7bccc29-7df9-3b39-88b3-87db72784b53"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"8ce71fef-948c-39a4-a7c8-20d0d39ab3aa","instanceIdentifier":"9a1b2388-aed2-3855-a865-caf15cca6919","name":"","source":{"id":"df93ce68-9beb-3435-a9e0-c07a77571ac8","type":"INPUT_PORT","groupId":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9","name":"triigerFromRolePayload","comments":"","instanceIdentifier":"ae926469-3882-3eb5-9436-d3a74e54c5b3"},"destination":{"id":"264c6e78-7d87-3d9c-8253-81ea0b547733","type":"INPUT_PORT","groupId":"4c9dbadc-19e8-3764-a585-0fcc9f173b92","name":"input","instanceIdentifier":"04ce263a-4206-3923-9cc0-f022cb29e426"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"d238b38b-25c4-367d-ae45-4446be519dec","instanceIdentifier":"dfc03713-8cc8-3fa7-acff-ad1f118aab5f","name":"","source":{"id":"aa86eb44-38f8-37dc-9a82-93b5273b7d4e","type":"PROCESSOR","groupId":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9","name":"GenerateFlowFile","comments":"","instanceIdentifier":"faefb21c-cd03-3734-ba13-48ba64c07341"},"destination":{"id":"264c6e78-7d87-3d9c-8253-81ea0b547733","type":"INPUT_PORT","groupId":"4c9dbadc-19e8-3764-a585-0fcc9f173b92","name":"input","instanceIdentifier":"04ce263a-4206-3923-9cc0-f022cb29e426"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"f2ca1ad9-7817-38fc-ae00-ad287008ffb6","instanceIdentifier":"995bcd9b-fcf5-3b4b-9ea1-7dc70817f42e","name":"","source":{"id":"78735a2e-dc47-38b5-a91c-030c17b36135","type":"OUTPUT_PORT","groupId":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad","name":"to logger","comments":"","instanceIdentifier":"05390fe0-f052-3152-98d7-28c41b3d61a5"},"destination":{"id":"4cfe8858-5c83-3dd2-ac60-2be12c80919a","type":"FUNNEL","groupId":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9","name":"Funnel","comments":"","instanceIdentifier":"1bf02be6-f384-30c9-b13c-852f06bd95ea"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":-5064.0,"y":1240.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"b09e785f-f766-3ce6-8dce-4a6c73150cae","instanceIdentifier":"afdaa970-a0ae-33d5-8cf4-796fae6b5a20","name":"","source":{"id":"20effa53-968b-345c-8db3-6c4923047ca1","type":"OUTPUT_PORT","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"to logs","instanceIdentifier":"7873bc53-db4c-3264-b5d4-b08523c61263"},"destination":{"id":"4cfe8858-5c83-3dd2-ac60-2be12c80919a","type":"FUNNEL","groupId":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9","name":"Funnel","comments":"","instanceIdentifier":"1bf02be6-f384-30c9-b13c-852f06bd95ea"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":-5064.0,"y":728.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"51c4e9f5-7b00-364d-ba0d-8ccf74a5aa08","instanceIdentifier":"0a1c547c-4d8c-382d-907c-8c9f0afceca6","name":"","source":{"id":"2648f0b1-844b-31af-af4d-d6f4ca7d7820","type":"OUTPUT_PORT","groupId":"62f133f2-efc2-33bd-8f59-cdcf39805a9a","name":"output","instanceIdentifier":"7dead3e7-bb69-37d3-a054-b16b291f2706"},"destination":{"id":"d7955b05-0375-3537-bff2-1c538af633c7","type":"INPUT_PORT","groupId":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad","name":"input","instanceIdentifier":"c0a0fb66-058a-3207-8c80-0b3b579c1335"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"699bc5fb-06f8-35b7-805f-663651e9a899","instanceIdentifier":"1a961acb-3685-3263-bf55-805d3cb3d534","name":"","source":{"id":"fa5ea2e3-fd35-3756-9c19-b61a32a0aa2f","type":"OUTPUT_PORT","groupId":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad","name":"toStallerAndStopper","comments":"","instanceIdentifier":"8c2e4c08-9a08-30b4-9e5c-23c769c15fed"},"destination":{"id":"2e8638dd-e054-3f7c-9a62-aa91131cab94","type":"INPUT_PORT","groupId":"8720aa19-5400-3282-ad05-b6abd3a82b38","name":"input","instanceIdentifier":"1ef1b7ed-f1d8-310c-9372-f0ac05ebd0d6"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"b3eddf3f-f936-36af-9781-ce4a7c97713a","instanceIdentifier":"857f6b26-e9e7-3f9a-b49e-6bd0a4639665","name":"","source":{"id":"32a0a8f2-e86e-3953-88a1-ef3b1e00e7d4","type":"OUTPUT_PORT","groupId":"92b36446-7c92-3140-a3b8-5e511361659c","name":"output","instanceIdentifier":"db773d3a-3113-3b13-9197-3acc4180f003"},"destination":{"id":"8ec84290-18bb-30d3-b491-3b821656585d","type":"INPUT_PORT","groupId":"0e4c8bd9-67cf-3bb8-b616-a7abd636869a","name":"input","instanceIdentifier":"28ed06dc-835d-30cd-8bd6-845df9681956"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"bae6a74c-d286-3933-8709-a21c7b4fdcda","instanceIdentifier":"754537bd-42ae-3149-83ba-a798d76f0793","name":"","source":{"id":"3c8d18fd-4ed2-3e32-9d32-1cda40e8a96f","type":"OUTPUT_PORT","groupId":"8720aa19-5400-3282-ad05-b6abd3a82b38","name":"output","instanceIdentifier":"3c1cafb9-3fcc-3a5c-8412-cb4446fb2d32"},"destination":{"id":"e17fa318-3698-3933-aec7-f54284f05ad6","type":"INPUT_PORT","groupId":"9e0864df-45dc-3940-9c92-35db6b5e4394","name":"input","instanceIdentifier":"d19ab6ef-8e89-3401-a175-ca28150a7a0f"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"512048b2-c5d1-350f-af32-d886062a19ad","instanceIdentifier":"a71a41e7-63d4-391b-933e-a3f4cb571982","name":"","source":{"id":"19235e7b-cced-3a7c-8302-9c6bcdbbaa8f","type":"OUTPUT_PORT","groupId":"8720aa19-5400-3282-ad05-b6abd3a82b38","name":"to_logger","instanceIdentifier":"242b23bd-6b76-3f6e-94c2-8e9c513c3a84"},"destination":{"id":"72645833-2b0b-3efd-a421-e5c5d9f05776","type":"OUTPUT_PORT","groupId":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9","name":"to_logs","comments":"","instanceIdentifier":"6a193213-45a5-39a1-9555-4e8c36a17968"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":-5240.0,"y":1488.0},{"x":-5240.0,"y":1960.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"f3321faa-e991-3c0f-88ba-3a906c09fa81","instanceIdentifier":"fefa2666-5a14-37eb-851b-3360221e9b4f","name":"","source":{"id":"3ffa32db-d58f-39c0-b0f1-29d6a6449ae2","type":"OUTPUT_PORT","groupId":"92b36446-7c92-3140-a3b8-5e511361659c","name":"to_logger","instanceIdentifier":"c3e9b2f8-5dcc-3caa-9f0a-a7e48097ef85"},"destination":{"id":"72645833-2b0b-3efd-a421-e5c5d9f05776","type":"OUTPUT_PORT","groupId":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9","name":"to_logs","comments":"","instanceIdentifier":"6a193213-45a5-39a1-9555-4e8c36a17968"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":-6616.0,"y":1272.0},{"x":-6616.0,"y":1960.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"a0fae9fc-75c6-3ff1-94ba-3ab838fa730e","instanceIdentifier":"aec00469-01cc-353c-a899-2943d0fb8eb2","name":"","source":{"id":"d78323b9-dfd2-33ff-af9c-bae28267a0ef","type":"OUTPUT_PORT","groupId":"4ba5d0ee-fe99-38ac-8af6-89b4c5cb8cad","name":"to_competency","comments":"","instanceIdentifier":"5aa6df21-d17b-3ead-9d91-7b5e023960bc"},"destination":{"id":"8c21ed4f-c908-3ae4-b964-18380cab54ad","type":"INPUT_PORT","groupId":"92b36446-7c92-3140-a3b8-5e511361659c","name":"input","instanceIdentifier":"84e121dc-44ea-3aef-81c6-5a65f16c91bb"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"891b8dd5-3b72-3dc6-b1c0-a060df71e476","instanceIdentifier":"5ea0447a-2c7a-3738-bfde-265febc52ae9","name":"","source":{"id":"18b460fe-8bb2-37e4-b563-093737b302ab","type":"OUTPUT_PORT","groupId":"62f133f2-efc2-33bd-8f59-cdcf39805a9a","name":"to logs","instanceIdentifier":"0de23c9a-c9a4-3d14-b98e-265406a176db"},"destination":{"id":"4cfe8858-5c83-3dd2-ac60-2be12c80919a","type":"FUNNEL","groupId":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9","name":"Funnel","comments":"","instanceIdentifier":"1bf02be6-f384-30c9-b13c-852f06bd95ea"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"595b1aeb-6cd0-324f-b31d-279274c39a72","instanceIdentifier":"9b60c13f-ae7e-3998-b1bb-f90e32b073d9","name":"","source":{"id":"364d32c9-bb24-3d0f-8e24-a807fb593767","type":"OUTPUT_PORT","groupId":"4c9dbadc-19e8-3764-a585-0fcc9f173b92","name":"to logs","instanceIdentifier":"ca43bd41-99df-3e3e-8ff3-77babecae273"},"destination":{"id":"4cfe8858-5c83-3dd2-ac60-2be12c80919a","type":"FUNNEL","groupId":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9","name":"Funnel","comments":"","instanceIdentifier":"1bf02be6-f384-30c9-b13c-852f06bd95ea"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":-4912.0,"y":464.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"56c88346-34cd-3592-8aff-1bc6418e24e7","instanceIdentifier":"c5aa50c9-9753-171d-ffff-ffffbece2095","name":"","source":{"id":"1bebca25-c496-3dc1-acd6-b27b33633aea","type":"INPUT_PORT","groupId":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9","name":"triggerFromAPI","comments":"","instanceIdentifier":"a9f0f7b2-0196-1000-0000-00007035fa07"},"destination":{"id":"586cb029-0dfe-3d74-90ca-520c5b812d6b","type":"INPUT_PORT","groupId":"0a478230-2303-3863-add2-24b71c44a30b","name":"from API","comments":"","instanceIdentifier":"3a5f371b-4768-18d4-a7f6-6084672a943a"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"}],"labels":[{"identifier":"ac789351-754f-300c-b4e9-f3f171c7e4f5","instanceIdentifier":"ae864276-0196-1000-0000-000003a84e51","position":{"x":-5816.0,"y":88.0},"label":"Scheduled Trigger","zIndex":0,"width":352.0,"height":184.0,"style":{"font-size":"16px"},"componentType":"LABEL","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"}],"funnels":[{"identifier":"4cfe8858-5c83-3dd2-ac60-2be12c80919a","instanceIdentifier":"1bf02be6-f384-30c9-b13c-852f06bd95ea","position":{"x":-4936.0,"y":960.0},"componentType":"FUNNEL","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"}],"controllerServices":[{"identifier":"be864070-cba2-3c79-986d-ccaa292953e2","instanceIdentifier":"5ec5bed8-6aa3-362a-a3e2-1c0ab962302a","name":"DBCPConnectionPool_IDW","comments":"","type":"org.apache.nifi.dbcp.DBCPConnectionPool","bundle":{"group":"org.apache.nifi","artifact":"nifi-dbcp-service-nar","version":"1.27.0"},"properties":{"dbcp-min-idle-conns":"0","Max Wait Time":"500 millis","Database Driver Class Name":"org.postgresql.Driver","dbcp-min-evictable-idle-time":"30 mins","kerberos-principal":null,"Max Total Connections":"16","kerberos-credentials-service":null,"dbcp-max-conn-lifetime":"-1","Validation-query":null,"Database Connection URL":"jdbc:postgresql://#{host}:5432/insights_dw","dbcp-time-between-eviction-runs":"-1","Database User":"#{username}","kerberos-user-service":null,"dbcp-soft-min-evictable-idle-time":"-1","database-driver-locations":"/stackable/userdata/nifi-user-volume/postgresql-42.2.23.jar","dbcp-max-idle-conns":"8","Password":"#{password}"},"propertyDescriptors":{"kerberos-password":{"name":"kerberos-password","displayName":"Kerberos Password","identifiesControllerService":false,"sensitive":true},"dbcp-min-idle-conns":{"name":"dbcp-min-idle-conns","displayName":"Minimum Idle Connections","identifiesControllerService":false,"sensitive":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Driver Class Name":{"name":"Database Driver Class Name","displayName":"Database Driver Class Name","identifiesControllerService":false,"sensitive":false},"dbcp-min-evictable-idle-time":{"name":"dbcp-min-evictable-idle-time","displayName":"Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false},"kerberos-principal":{"name":"kerberos-principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"Max Total Connections":{"name":"Max Total Connections","displayName":"Max Total Connections","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"dbcp-max-conn-lifetime":{"name":"dbcp-max-conn-lifetime","displayName":"Max Connection Lifetime","identifiesControllerService":false,"sensitive":false},"Validation-query":{"name":"Validation-query","displayName":"Validation query","identifiesControllerService":false,"sensitive":false},"Database Connection URL":{"name":"Database Connection URL","displayName":"Database Connection URL","identifiesControllerService":false,"sensitive":false},"dbcp-time-between-eviction-runs":{"name":"dbcp-time-between-eviction-runs","displayName":"Time Between Eviction Runs","identifiesControllerService":false,"sensitive":false},"Database User":{"name":"Database User","displayName":"Database User","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"dbcp-soft-min-evictable-idle-time":{"name":"dbcp-soft-min-evictable-idle-time","displayName":"Soft Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false},"database-driver-locations":{"name":"database-driver-locations","displayName":"Database Driver Location(s)","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["URL","DIRECTORY","FILE"]}},"dbcp-max-idle-conns":{"name":"dbcp-max-idle-conns","displayName":"Max Idle Connections","identifiesControllerService":false,"sensitive":false},"Password":{"name":"Password","displayName":"Password","identifiesControllerService":false,"sensitive":true}},"controllerServiceApis":[{"type":"org.apache.nifi.dbcp.DBCPService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.27.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"},{"identifier":"20dd942d-b55a-3442-bb98-3533d9d37ab6","instanceIdentifier":"171bd1a1-87a0-3420-9296-fe4179f78be8","name":"JsonRecordSetWriter","comments":"","type":"org.apache.nifi.json.JsonRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.27.0"},"properties":{"schema-branch":null,"Allow Scientific Notation":"false","compression-level":"1","schema-cache":null,"Timestamp Format":null,"Date Format":null,"Pretty Print JSON":"false","compression-format":"none","Schema Write Strategy":"no-schema","suppress-nulls":"never-suppress","output-grouping":"output-array","schema-name":"${schema.name}","schema-registry":null,"Time Format":null,"schema-access-strategy":"inherit-record-schema","schema-protocol-version":"1","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"Allow Scientific Notation":{"name":"Allow Scientific Notation","displayName":"Allow Scientific Notation","identifiesControllerService":false,"sensitive":false},"compression-level":{"name":"compression-level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"Pretty Print JSON":{"name":"Pretty Print JSON","displayName":"Pretty Print JSON","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false},"suppress-nulls":{"name":"suppress-nulls","displayName":"Suppress Null Values","identifiesControllerService":false,"sensitive":false},"output-grouping":{"name":"output-grouping","displayName":"Output Grouping","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-protocol-version":{"name":"schema-protocol-version","displayName":"Schema Protocol Version","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.27.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9"}],"variables":{},"parameterContextName":"idw_db_secrets","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"ebb2785d-4922-38f6-8742-b6a4e3e95c41"},{"identifier":"b172deae-91d1-3b64-a4fc-57ce504b78ae","instanceIdentifier":"fde3373b-0739-178c-ad72-b1524693d52f","name":"Logger","comments":"","position":{"x":-144.0,"y":264.0},"processGroups":[{"identifier":"460f1d36-b3a3-3dbb-ba55-d9f07e663254","instanceIdentifier":"c02f31b6-30a4-18e0-b5bb-2767f1c092ef","name":"Transactional Log","comments":"","position":{"x":1768.0,"y":2280.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"cb253cc1-1387-3e34-a756-c96e9f5d5691","instanceIdentifier":"538130f1-d0e4-1758-bae2-e6c5c1c92d75","name":"InvokeHTTP","comments":"","position":{"x":80.0,"y":600.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Proxy Host":null,"Attributes to Send":"","use-etag":"false","proxy-configuration-service":null,"DD-API-KEY":"3f0f96780e33dc400fa9d05ee2ec3278","Proxy Type":"http","cookie-strategy":"DISABLED","Connection Timeout":"5 secs","send-message-body":"true","set-form-filename":"true","Always Output Response":"false","etag-max-cache-size":"10MB","Content-Encoding":"DISABLED","disable-http2":"False","idle-timeout":"5 mins","Put Response Body In Attribute":null,"Use Chunked Encoding":"false","Follow Redirects":"True","Remote URL":"https://http-intake.logs.datadoghq.com/api/v2/logs","form-body-form-name":null,"Content-Type":"application/json","flow-file-naming-strategy":"RANDOM","max-idle-connections":"5","invokehttp-proxy-user":null,"Read Timeout":"15 secs","Socket Write Timeout":"15 secs","Max Length To Put In Attribute":"256","ignore-response-content":"false","Proxy Port":null,"SSL Context Service":null,"Digest Authentication":"false","HTTP Method":"POST","Add Response Headers to Request":"true","oauth2-access-token-provider":null,"Basic Authentication Username":null,"Include Date Header":"True","Penalize on \"No Retry\"":"false","Useragent":null},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"Attributes to Send":{"name":"Attributes to Send","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false},"use-etag":{"name":"use-etag","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"DD-API-KEY":{"name":"DD-API-KEY","displayName":"DD-API-KEY","identifiesControllerService":false,"sensitive":false},"Proxy Type":{"name":"Proxy Type","displayName":"Proxy Type","identifiesControllerService":false,"sensitive":false},"Basic Authentication Password":{"name":"Basic Authentication Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true},"cookie-strategy":{"name":"cookie-strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Socket Connect Timeout","identifiesControllerService":false,"sensitive":false},"send-message-body":{"name":"send-message-body","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false},"set-form-filename":{"name":"set-form-filename","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false},"Always Output Response":{"name":"Always Output Response","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false},"etag-max-cache-size":{"name":"etag-max-cache-size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false},"Content-Encoding":{"name":"Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false},"disable-http2":{"name":"disable-http2","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false},"idle-timeout":{"name":"idle-timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false},"Put Response Body In Attribute":{"name":"Put Response Body In Attribute","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false},"Use Chunked Encoding":{"name":"Use Chunked Encoding","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false},"Follow Redirects":{"name":"Follow Redirects","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false},"Remote URL":{"name":"Remote URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false},"form-body-form-name":{"name":"form-body-form-name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false},"flow-file-naming-strategy":{"name":"flow-file-naming-strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false},"max-idle-connections":{"name":"max-idle-connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-user":{"name":"invokehttp-proxy-user","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Read Timeout":{"name":"Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false},"Max Length To Put In Attribute":{"name":"Max Length To Put In Attribute","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-password":{"name":"invokehttp-proxy-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"ignore-response-content":{"name":"ignore-response-content","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false},"Proxy Port":{"name":"Proxy Port","displayName":"Proxy Port","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Digest Authentication":{"name":"Digest Authentication","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false},"Add Response Headers to Request":{"name":"Add Response Headers to Request","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false},"oauth2-access-token-provider":{"name":"oauth2-access-token-provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false},"Basic Authentication Username":{"name":"Basic Authentication Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false},"Include Date Header":{"name":"Include Date Header","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false},"Penalize on \"No Retry\"":{"name":"Penalize on \"No Retry\"","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false},"Useragent":{"name":"Useragent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["Response","No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"460f1d36-b3a3-3dbb-ba55-d9f07e663254"},{"identifier":"bb747456-353b-3516-9e52-b6c8000de73f","instanceIdentifier":"b1ad3832-c12f-14a8-b441-626e8ddd1d48","name":"UpdateAttribute","comments":"","position":{"x":72.0,"y":200.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","ddtags":"env:dev,version:1.0","Stateful Variables Initial Value":null,"ddsource":"${system}"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"ddtags":{"name":"ddtags","displayName":"ddtags","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"ddsource":{"name":"ddsource","displayName":"ddsource","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"460f1d36-b3a3-3dbb-ba55-d9f07e663254"},{"identifier":"d792ff4e-919a-3e19-a528-ca2740c7b8bf","instanceIdentifier":"f5b237e9-2b2d-1418-8fbf-0adfec6ac323","name":"FrameJSONPayload","comments":"","position":{"x":80.0,"y":400.0},"type":"org.apache.nifi.processors.standard.AttributesToJSON","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"attributes-to-json-regex":null,"Destination":"flowfile-content","Null Value":"false","Attributes List":"flow_name,message,ddsource,ddtags,app_uuid,event_timestamp,event_type,log_level,filename,module,metadata,statusCode","Pretty Print":"false","Include Core Attributes":"true","JSON Handling Strategy":"ESCAPED"},"propertyDescriptors":{"attributes-to-json-regex":{"name":"attributes-to-json-regex","displayName":"Attributes Regular Expression","identifiesControllerService":false,"sensitive":false},"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"Null Value":{"name":"Null Value","displayName":"Null Value","identifiesControllerService":false,"sensitive":false},"Attributes List":{"name":"Attributes List","displayName":"Attributes List","identifiesControllerService":false,"sensitive":false},"Pretty Print":{"name":"Pretty Print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false},"Include Core Attributes":{"name":"Include Core Attributes","displayName":"Include Core Attributes","identifiesControllerService":false,"sensitive":false},"JSON Handling Strategy":{"name":"JSON Handling Strategy","displayName":"JSON Handling Strategy","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"460f1d36-b3a3-3dbb-ba55-d9f07e663254"}],"inputPorts":[{"identifier":"01b87aaf-ab16-3c21-980c-60e6123e80ba","instanceIdentifier":"a88f3e7c-5533-1e6e-837e-a028a88f1bdf","name":"trans_ip_port","position":{"x":128.0,"y":72.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"460f1d36-b3a3-3dbb-ba55-d9f07e663254"}],"outputPorts":[],"connections":[{"identifier":"a177e130-5d31-353e-8f25-fd467ba071f6","instanceIdentifier":"5d3f321b-348f-1521-a348-b9b3c7757ddf","name":"","source":{"id":"bb747456-353b-3516-9e52-b6c8000de73f","type":"PROCESSOR","groupId":"460f1d36-b3a3-3dbb-ba55-d9f07e663254","name":"UpdateAttribute","comments":"","instanceIdentifier":"b1ad3832-c12f-14a8-b441-626e8ddd1d48"},"destination":{"id":"d792ff4e-919a-3e19-a528-ca2740c7b8bf","type":"PROCESSOR","groupId":"460f1d36-b3a3-3dbb-ba55-d9f07e663254","name":"FrameJSONPayload","comments":"","instanceIdentifier":"f5b237e9-2b2d-1418-8fbf-0adfec6ac323"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"460f1d36-b3a3-3dbb-ba55-d9f07e663254"},{"identifier":"8369b06f-0c7d-34fa-bdc5-61577ab8fede","instanceIdentifier":"e46a3801-219a-1619-8c7a-cd4d1b9865b7","name":"","source":{"id":"01b87aaf-ab16-3c21-980c-60e6123e80ba","type":"INPUT_PORT","groupId":"460f1d36-b3a3-3dbb-ba55-d9f07e663254","name":"trans_ip_port","instanceIdentifier":"a88f3e7c-5533-1e6e-837e-a028a88f1bdf"},"destination":{"id":"bb747456-353b-3516-9e52-b6c8000de73f","type":"PROCESSOR","groupId":"460f1d36-b3a3-3dbb-ba55-d9f07e663254","name":"UpdateAttribute","comments":"","instanceIdentifier":"b1ad3832-c12f-14a8-b441-626e8ddd1d48"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"460f1d36-b3a3-3dbb-ba55-d9f07e663254"},{"identifier":"995dbca1-b283-302a-9bc4-309be4a172c4","instanceIdentifier":"7a303e09-7e68-1de1-ac29-2e3df40824bd","name":"","source":{"id":"d792ff4e-919a-3e19-a528-ca2740c7b8bf","type":"PROCESSOR","groupId":"460f1d36-b3a3-3dbb-ba55-d9f07e663254","name":"FrameJSONPayload","comments":"","instanceIdentifier":"f5b237e9-2b2d-1418-8fbf-0adfec6ac323"},"destination":{"id":"cb253cc1-1387-3e34-a756-c96e9f5d5691","type":"PROCESSOR","groupId":"460f1d36-b3a3-3dbb-ba55-d9f07e663254","name":"InvokeHTTP","comments":"","instanceIdentifier":"538130f1-d0e4-1758-bae2-e6c5c1c92d75"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"460f1d36-b3a3-3dbb-ba55-d9f07e663254"}],"labels":[],"funnels":[],"controllerServices":[{"identifier":"efbf7413-8451-3bdd-9ccf-6f34379b9aad","instanceIdentifier":"16f937d0-ba77-107a-80fd-3f98faa893d2","name":"ElasticSearchClientServiceImpl","comments":"","type":"org.apache.nifi.elasticsearch.ElasticSearchClientServiceImpl","bundle":{"group":"org.apache.nifi","artifact":"nifi-elasticsearch-client-service-nar","version":"1.27.0"},"properties":{"el-cs-suppress-nulls":"always-suppress","el-cs-strict-deprecation":"false","el-cs-http-hosts":"#{host}","el-cs-path-prefix":null,"proxy-configuration-service":null,"el-cs-charset":"UTF-8","api-key-id":"#{api_key}","el-cs-send-meta-header":"true","el-cs-username":null,"el-cs-enable-compression":"false","el-cs-sniff-cluster-nodes":"false","el-cs-sniffer-interval":"5 mins","el-cs-retry-timeout":"60000","el-cs-sniffer-failure-delay":"1 min","api-key":"#{api_secret}","el-cs-node-selector":"ANY","authorization-scheme":"API_KEY","el-cs-sniff-failure":"false","el-cs-sniffer-request-timeout":"1 sec","el-cs-connect-timeout":"5000","el-cs-socket-timeout":"60000","el-cs-ssl-context-service":null},"propertyDescriptors":{"el-cs-suppress-nulls":{"name":"el-cs-suppress-nulls","displayName":"Suppress Null/Empty Values","identifiesControllerService":false,"sensitive":false},"el-cs-strict-deprecation":{"name":"el-cs-strict-deprecation","displayName":"Strict Deprecation","identifiesControllerService":false,"sensitive":false},"el-cs-http-hosts":{"name":"el-cs-http-hosts","displayName":"HTTP Hosts","identifiesControllerService":false,"sensitive":false},"el-cs-path-prefix":{"name":"el-cs-path-prefix","displayName":"Path Prefix","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"el-cs-charset":{"name":"el-cs-charset","displayName":"Charset","identifiesControllerService":false,"sensitive":false},"api-key-id":{"name":"api-key-id","displayName":"API Key ID","identifiesControllerService":false,"sensitive":false},"el-cs-send-meta-header":{"name":"el-cs-send-meta-header","displayName":"Send Meta Header","identifiesControllerService":false,"sensitive":false},"el-cs-username":{"name":"el-cs-username","displayName":"Username","identifiesControllerService":false,"sensitive":false},"el-cs-enable-compression":{"name":"el-cs-enable-compression","displayName":"Enable Compression","identifiesControllerService":false,"sensitive":false},"el-cs-sniff-cluster-nodes":{"name":"el-cs-sniff-cluster-nodes","displayName":"Sniff Cluster Nodes","identifiesControllerService":false,"sensitive":false},"el-cs-sniffer-interval":{"name":"el-cs-sniffer-interval","displayName":"Sniffer Interval","identifiesControllerService":false,"sensitive":false},"el-cs-retry-timeout":{"name":"el-cs-retry-timeout","displayName":"Retry timeout","identifiesControllerService":false,"sensitive":false},"el-cs-sniffer-failure-delay":{"name":"el-cs-sniffer-failure-delay","displayName":"Sniffer Failure Delay","identifiesControllerService":false,"sensitive":false},"el-cs-password":{"name":"el-cs-password","displayName":"Password","identifiesControllerService":false,"sensitive":true},"api-key":{"name":"api-key","displayName":"API Key","identifiesControllerService":false,"sensitive":true},"el-cs-node-selector":{"name":"el-cs-node-selector","displayName":"Node Selector","identifiesControllerService":false,"sensitive":false},"authorization-scheme":{"name":"authorization-scheme","displayName":"Authorization Scheme","identifiesControllerService":false,"sensitive":false},"el-cs-sniff-failure":{"name":"el-cs-sniff-failure","displayName":"Sniff on Failure","identifiesControllerService":false,"sensitive":false},"el-cs-sniffer-request-timeout":{"name":"el-cs-sniffer-request-timeout","displayName":"Sniffer Request Timeout","identifiesControllerService":false,"sensitive":false},"el-cs-connect-timeout":{"name":"el-cs-connect-timeout","displayName":"Connect timeout","identifiesControllerService":false,"sensitive":false},"el-cs-socket-timeout":{"name":"el-cs-socket-timeout","displayName":"Read timeout","identifiesControllerService":false,"sensitive":false},"el-cs-ssl-context-service":{"name":"el-cs-ssl-context-service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.elasticsearch.ElasticSearchClientService","bundle":{"group":"org.apache.nifi","artifact":"nifi-elasticsearch-client-service-api-nar","version":"1.27.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"460f1d36-b3a3-3dbb-ba55-d9f07e663254"}],"variables":{},"parameterContextName":"elastic_search_secrets","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"b172deae-91d1-3b64-a4fc-57ce504b78ae"},{"identifier":"f0e8bb50-eec8-3103-83b9-42abfb8ca863","instanceIdentifier":"c0e2305f-8cdd-12b6-99c9-9a2e037669de","name":"Audit Log","comments":"","position":{"x":1216.0,"y":2272.0},"processGroups":[{"identifier":"d76e909c-34ab-30d2-9759-28dbff424771","instanceIdentifier":"109938be-5c3d-1a0d-84c7-bfdf0b2cfe34","name":"Insert Logs","comments":"","position":{"x":400.0,"y":536.0},"processGroups":[{"identifier":"18ed06cc-91f4-34bd-b194-06cfb095a9c3","instanceIdentifier":"b5e63f0a-df04-1387-be89-fc0f049e93a0","name":"Metrics Message Builder","comments":"","position":{"x":320.0,"y":488.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"55de8ebd-6eef-3a07-817d-32141f2d9545","instanceIdentifier":"a3c730eb-3422-102c-a14e-0ebc4c494ed4","name":"ReplaceCommaByLine","comments":"","position":{"x":536.0,"y":656.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Regular Expression":",","Replacement Value":"\n","Evaluation Mode":"Entire text","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"100 MB","Replacement Strategy":"Literal Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"18ed06cc-91f4-34bd-b194-06cfb095a9c3"},{"identifier":"317f1b8c-fd08-3fb0-a514-51eec19ae026","instanceIdentifier":"6f9f33e5-eccc-1d8a-ba9a-d0afee5fa93c","name":"ReplaceKey","comments":"","position":{"x":536.0,"y":456.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Regular Expression":"\\{\"metadata\":|\\}|\"","Replacement Value":" ","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"18ed06cc-91f4-34bd-b194-06cfb095a9c3"},{"identifier":"f1d854ec-f083-3086-afe6-2f808b48baca","instanceIdentifier":"4aa03dae-7cb6-1ab7-933f-59d643294dae","name":"ExtractText","comments":"","position":{"x":544.0,"y":1048.0},"type":"org.apache.nifi.processors.standard.ExtractText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Enable Unicode Predefined Character Classes":"false","Permit Whitespace and Comments in Pattern":"false","Enable Unicode-aware Case Folding":"false","key_attribute":"(.+?)\\s*:\\s*[^:]*$","Enable DOTALL Mode":"false","Enable Unix Lines Mode":"false","value_attribute":":\\s*(.+)$","extract-text-enable-named-groups":"false","Maximum Buffer Size":"1 MB","Enable Canonical Equivalence":"false","Enable Case-insensitive Matching":"false","Enable Multiline Mode":"false","Maximum Capture Group Length":"1024","Enable Literal Parsing of the Pattern":"false","Character Set":"UTF-8","Include Capture Group 0":"true","extract-text-enable-repeating-capture-group":"false"},"propertyDescriptors":{"Enable Unicode Predefined Character Classes":{"name":"Enable Unicode Predefined Character Classes","displayName":"Enable Unicode Predefined Character Classes","identifiesControllerService":false,"sensitive":false},"Permit Whitespace and Comments in Pattern":{"name":"Permit Whitespace and Comments in Pattern","displayName":"Permit Whitespace and Comments in Pattern","identifiesControllerService":false,"sensitive":false},"Enable Unicode-aware Case Folding":{"name":"Enable Unicode-aware Case Folding","displayName":"Enable Unicode-aware Case Folding","identifiesControllerService":false,"sensitive":false},"key_attribute":{"name":"key_attribute","displayName":"key_attribute","identifiesControllerService":false,"sensitive":false},"Enable DOTALL Mode":{"name":"Enable DOTALL Mode","displayName":"Enable DOTALL Mode","identifiesControllerService":false,"sensitive":false},"Enable Unix Lines Mode":{"name":"Enable Unix Lines Mode","displayName":"Enable Unix Lines Mode","identifiesControllerService":false,"sensitive":false},"value_attribute":{"name":"value_attribute","displayName":"value_attribute","identifiesControllerService":false,"sensitive":false},"extract-text-enable-named-groups":{"name":"extract-text-enable-named-groups","displayName":"Enable named group support","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Enable Canonical Equivalence":{"name":"Enable Canonical Equivalence","displayName":"Enable Canonical Equivalence","identifiesControllerService":false,"sensitive":false},"Enable Case-insensitive Matching":{"name":"Enable Case-insensitive Matching","displayName":"Enable Case-insensitive Matching","identifiesControllerService":false,"sensitive":false},"Enable Multiline Mode":{"name":"Enable Multiline Mode","displayName":"Enable Multiline Mode","identifiesControllerService":false,"sensitive":false},"Maximum Capture Group Length":{"name":"Maximum Capture Group Length","displayName":"Maximum Capture Group Length","identifiesControllerService":false,"sensitive":false},"Enable Literal Parsing of the Pattern":{"name":"Enable Literal Parsing of the Pattern","displayName":"Enable Literal Parsing of the Pattern","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Include Capture Group 0":{"name":"Include Capture Group 0","displayName":"Include Capture Group 0","identifiesControllerService":false,"sensitive":false},"extract-text-enable-repeating-capture-group":{"name":"extract-text-enable-repeating-capture-group","displayName":"Enable repeating capture group","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"18ed06cc-91f4-34bd-b194-06cfb095a9c3"},{"identifier":"deacf08d-5390-359e-888f-cc98353f0d45","instanceIdentifier":"5d6c31bf-f71a-12ed-baca-4886147be9a8","name":"AttributesToJSON","comments":"","position":{"x":528.0,"y":248.0},"type":"org.apache.nifi.processors.standard.AttributesToJSON","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"attributes-to-json-regex":null,"Destination":"flowfile-content","Null Value":"false","Attributes List":"metadata","Pretty Print":"false","Include Core Attributes":"true","JSON Handling Strategy":"ESCAPED"},"propertyDescriptors":{"attributes-to-json-regex":{"name":"attributes-to-json-regex","displayName":"Attributes Regular Expression","identifiesControllerService":false,"sensitive":false},"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"Null Value":{"name":"Null Value","displayName":"Null Value","identifiesControllerService":false,"sensitive":false},"Attributes List":{"name":"Attributes List","displayName":"Attributes List","identifiesControllerService":false,"sensitive":false},"Pretty Print":{"name":"Pretty Print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false},"Include Core Attributes":{"name":"Include Core Attributes","displayName":"Include Core Attributes","identifiesControllerService":false,"sensitive":false},"JSON Handling Strategy":{"name":"JSON Handling Strategy","displayName":"JSON Handling Strategy","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"18ed06cc-91f4-34bd-b194-06cfb095a9c3"},{"identifier":"29fb503a-f92d-3812-a8db-9ae030d1467d","instanceIdentifier":"7a793912-aecf-1fcf-8f33-1a5e9527a189","name":"SplitText","comments":"","position":{"x":544.0,"y":848.0},"type":"org.apache.nifi.processors.standard.SplitText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Remove Trailing Newlines":"true","Maximum Fragment Size":null,"Header Line Marker Characters":null,"Header Line Count":"0","Line Split Count":"1"},"propertyDescriptors":{"Remove Trailing Newlines":{"name":"Remove Trailing Newlines","displayName":"Remove Trailing Newlines","identifiesControllerService":false,"sensitive":false},"Maximum Fragment Size":{"name":"Maximum Fragment Size","displayName":"Maximum Fragment Size","identifiesControllerService":false,"sensitive":false},"Header Line Marker Characters":{"name":"Header Line Marker Characters","displayName":"Header Line Marker Characters","identifiesControllerService":false,"sensitive":false},"Header Line Count":{"name":"Header Line Count","displayName":"Header Line Count","identifiesControllerService":false,"sensitive":false},"Line Split Count":{"name":"Line Split Count","displayName":"Line Split Count","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"18ed06cc-91f4-34bd-b194-06cfb095a9c3"}],"inputPorts":[{"identifier":"9c803836-1d48-3e92-8372-88c4e3362b4d","instanceIdentifier":"8df43e9a-363d-1230-9687-05df73c5c891","name":"ip_port","position":{"x":584.0,"y":144.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"18ed06cc-91f4-34bd-b194-06cfb095a9c3"}],"outputPorts":[{"identifier":"b247fd1e-90e6-394b-9172-cc648d23af26","instanceIdentifier":"e9a735a9-173f-18a5-a0ae-2577bc39c339","name":"op_port","comments":"","position":{"x":600.0,"y":1240.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"18ed06cc-91f4-34bd-b194-06cfb095a9c3"}],"connections":[{"identifier":"312a7226-df0c-3dda-8f97-fb0825223447","instanceIdentifier":"44213bdc-8038-1af7-85fe-aa7887dcfc9a","name":"","source":{"id":"f1d854ec-f083-3086-afe6-2f808b48baca","type":"PROCESSOR","groupId":"18ed06cc-91f4-34bd-b194-06cfb095a9c3","name":"ExtractText","comments":"","instanceIdentifier":"4aa03dae-7cb6-1ab7-933f-59d643294dae"},"destination":{"id":"b247fd1e-90e6-394b-9172-cc648d23af26","type":"OUTPUT_PORT","groupId":"18ed06cc-91f4-34bd-b194-06cfb095a9c3","name":"op_port","comments":"","instanceIdentifier":"e9a735a9-173f-18a5-a0ae-2577bc39c339"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"18ed06cc-91f4-34bd-b194-06cfb095a9c3"},{"identifier":"81103141-b300-3a90-83f7-b9db2b15980c","instanceIdentifier":"646e3bb6-4bc6-17d4-8e21-55feadc6ab26","name":"","source":{"id":"deacf08d-5390-359e-888f-cc98353f0d45","type":"PROCESSOR","groupId":"18ed06cc-91f4-34bd-b194-06cfb095a9c3","name":"AttributesToJSON","comments":"","instanceIdentifier":"5d6c31bf-f71a-12ed-baca-4886147be9a8"},"destination":{"id":"317f1b8c-fd08-3fb0-a514-51eec19ae026","type":"PROCESSOR","groupId":"18ed06cc-91f4-34bd-b194-06cfb095a9c3","name":"ReplaceKey","comments":"","instanceIdentifier":"6f9f33e5-eccc-1d8a-ba9a-d0afee5fa93c"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"18ed06cc-91f4-34bd-b194-06cfb095a9c3"},{"identifier":"31ad652a-1f66-3ac5-a3a4-2a596be53f54","instanceIdentifier":"9657332f-2c28-103f-8836-694e36c4609a","name":"","source":{"id":"9c803836-1d48-3e92-8372-88c4e3362b4d","type":"INPUT_PORT","groupId":"18ed06cc-91f4-34bd-b194-06cfb095a9c3","name":"ip_port","instanceIdentifier":"8df43e9a-363d-1230-9687-05df73c5c891"},"destination":{"id":"deacf08d-5390-359e-888f-cc98353f0d45","type":"PROCESSOR","groupId":"18ed06cc-91f4-34bd-b194-06cfb095a9c3","name":"AttributesToJSON","comments":"","instanceIdentifier":"5d6c31bf-f71a-12ed-baca-4886147be9a8"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"18ed06cc-91f4-34bd-b194-06cfb095a9c3"},{"identifier":"714cd2d3-0b20-3e93-a4a7-67db4baa60c0","instanceIdentifier":"c7c93be6-d62c-17cc-9f83-58555fab199c","name":"","source":{"id":"29fb503a-f92d-3812-a8db-9ae030d1467d","type":"PROCESSOR","groupId":"18ed06cc-91f4-34bd-b194-06cfb095a9c3","name":"SplitText","comments":"","instanceIdentifier":"7a793912-aecf-1fcf-8f33-1a5e9527a189"},"destination":{"id":"f1d854ec-f083-3086-afe6-2f808b48baca","type":"PROCESSOR","groupId":"18ed06cc-91f4-34bd-b194-06cfb095a9c3","name":"ExtractText","comments":"","instanceIdentifier":"4aa03dae-7cb6-1ab7-933f-59d643294dae"},"labelIndex":1,"zIndex":0,"selectedRelationships":["splits"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"18ed06cc-91f4-34bd-b194-06cfb095a9c3"},{"identifier":"8dc78495-7555-322c-a2c4-fb914d51c6ea","instanceIdentifier":"9d113a5c-dbdc-12f4-99d3-1670041eeab6","name":"","source":{"id":"55de8ebd-6eef-3a07-817d-32141f2d9545","type":"PROCESSOR","groupId":"18ed06cc-91f4-34bd-b194-06cfb095a9c3","name":"ReplaceCommaByLine","comments":"","instanceIdentifier":"a3c730eb-3422-102c-a14e-0ebc4c494ed4"},"destination":{"id":"29fb503a-f92d-3812-a8db-9ae030d1467d","type":"PROCESSOR","groupId":"18ed06cc-91f4-34bd-b194-06cfb095a9c3","name":"SplitText","comments":"","instanceIdentifier":"7a793912-aecf-1fcf-8f33-1a5e9527a189"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"18ed06cc-91f4-34bd-b194-06cfb095a9c3"},{"identifier":"bbd68df9-9326-3959-9b31-a8b1a07f998a","instanceIdentifier":"89e93980-3747-1961-a40f-d3633d89723c","name":"","source":{"id":"317f1b8c-fd08-3fb0-a514-51eec19ae026","type":"PROCESSOR","groupId":"18ed06cc-91f4-34bd-b194-06cfb095a9c3","name":"ReplaceKey","comments":"","instanceIdentifier":"6f9f33e5-eccc-1d8a-ba9a-d0afee5fa93c"},"destination":{"id":"55de8ebd-6eef-3a07-817d-32141f2d9545","type":"PROCESSOR","groupId":"18ed06cc-91f4-34bd-b194-06cfb095a9c3","name":"ReplaceCommaByLine","comments":"","instanceIdentifier":"a3c730eb-3422-102c-a14e-0ebc4c494ed4"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"18ed06cc-91f4-34bd-b194-06cfb095a9c3"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"d76e909c-34ab-30d2-9759-28dbff424771"},{"identifier":"8964ca67-c6ab-3d57-9520-4e97b8553512","instanceIdentifier":"a042362f-9bdb-1354-8522-e6da9c184c51","name":"Destination Table","comments":"","position":{"x":632.0,"y":960.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"7d798673-8492-3297-9bd7-b9642949cbdd","instanceIdentifier":"03053ffd-4b92-1755-86e8-02d5863caeff","name":"Insert Process Logs","comments":"","position":{"x":512.0,"y":192.0},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":"INSERT INTO ${db_name}.process_log_dst_metric (\n\tprocess_key,\n    request_uuid, \n    key, \n    value\n)\nSELECT \n\t'${sql.generated.key}',\n    CAST(NULLIF('${request_uuid}','') AS UUID),\n    '${key_attribute}',\n    CAST(NULLIF('${value_attribute}','') AS INT)","Transaction Timeout":null,"Batch Size":"100","Obtain Generated Keys":"true","JDBC Connection Pool":"583da8d8-f28d-3d93-bb21-584428faaa9b","database-session-autocommit":"true","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure","retry"],"scheduledState":"ENABLED","retryCount":3,"retriedRelationships":["failure","retry"],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"2 secs","componentType":"PROCESSOR","groupIdentifier":"8964ca67-c6ab-3d57-9520-4e97b8553512"}],"inputPorts":[{"identifier":"381c95c5-acaa-39f2-a9e0-51554b7fc6eb","instanceIdentifier":"8e573e1c-c2e8-17ca-b644-798acff4871b","name":"ip_port","position":{"x":568.0,"y":48.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"8964ca67-c6ab-3d57-9520-4e97b8553512"}],"outputPorts":[],"connections":[{"identifier":"bf45459d-f7cd-3871-8f95-509d3026161b","instanceIdentifier":"0c473212-f8a2-1502-9b18-29eb1a03956e","name":"","source":{"id":"381c95c5-acaa-39f2-a9e0-51554b7fc6eb","type":"INPUT_PORT","groupId":"8964ca67-c6ab-3d57-9520-4e97b8553512","name":"ip_port","instanceIdentifier":"8e573e1c-c2e8-17ca-b644-798acff4871b"},"destination":{"id":"7d798673-8492-3297-9bd7-b9642949cbdd","type":"PROCESSOR","groupId":"8964ca67-c6ab-3d57-9520-4e97b8553512","name":"Insert Process Logs","comments":"","instanceIdentifier":"03053ffd-4b92-1755-86e8-02d5863caeff"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8964ca67-c6ab-3d57-9520-4e97b8553512"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"d76e909c-34ab-30d2-9759-28dbff424771"},{"identifier":"e6840952-daa9-34bb-a39b-b7ed96543fe6","instanceIdentifier":"c48b3cab-6faf-1fc9-ac80-12ac034c3141","name":"Source Table","comments":"","position":{"x":96.0,"y":960.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"4bb60396-2e1f-3605-8f8d-c9537bdc7270","instanceIdentifier":"01483569-f738-1112-8f9f-fadf69d04ebf","name":"Insert Process Logs","comments":"","position":{"x":496.0,"y":240.0},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":"INSERT INTO ${db_name}.process_log_source_metric (\n\tprocess_key,\n    request_uuid, \n    key, \n    value\n)\nSELECT \n\t'${sql.generated.key}',\n    CAST(NULLIF('${request_uuid}','') AS UUID),\n    '${key_attribute}',\n    CAST(NULLIF('${value_attribute}','') AS INT)","Transaction Timeout":null,"Batch Size":"100","Obtain Generated Keys":"true","JDBC Connection Pool":"583da8d8-f28d-3d93-bb21-584428faaa9b","database-session-autocommit":"true","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure","retry"],"scheduledState":"ENABLED","retryCount":3,"retriedRelationships":["failure","retry"],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"2 secs","componentType":"PROCESSOR","groupIdentifier":"e6840952-daa9-34bb-a39b-b7ed96543fe6"}],"inputPorts":[{"identifier":"9011e539-04cf-3a0f-b122-7edfca3b6898","instanceIdentifier":"96ca32b9-3a50-17ea-a654-379724439046","name":"ip_port","position":{"x":552.0,"y":120.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"e6840952-daa9-34bb-a39b-b7ed96543fe6"}],"outputPorts":[],"connections":[{"identifier":"66053e2c-5b5d-3a0d-8dcc-28a84e4739fc","instanceIdentifier":"834e3aa0-6f27-120a-81aa-d85137f35cc9","name":"","source":{"id":"9011e539-04cf-3a0f-b122-7edfca3b6898","type":"INPUT_PORT","groupId":"e6840952-daa9-34bb-a39b-b7ed96543fe6","name":"ip_port","instanceIdentifier":"96ca32b9-3a50-17ea-a654-379724439046"},"destination":{"id":"4bb60396-2e1f-3605-8f8d-c9537bdc7270","type":"PROCESSOR","groupId":"e6840952-daa9-34bb-a39b-b7ed96543fe6","name":"Insert Process Logs","comments":"","instanceIdentifier":"01483569-f738-1112-8f9f-fadf69d04ebf"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e6840952-daa9-34bb-a39b-b7ed96543fe6"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"d76e909c-34ab-30d2-9759-28dbff424771"}],"remoteProcessGroups":[],"processors":[{"identifier":"8168902e-ba4f-31c5-a8a6-95aa530c9b60","instanceIdentifier":"7b8c3798-a3f0-1825-b967-2fa8c53a9389","name":"Insert Process Logs","comments":"","position":{"x":328.0,"y":240.0},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":"INSERT INTO ${db_name}.process_log_dim (\n    system, \n    event_type, \n    file_name, \n    request_uuid,\n\tclient_id,\n\tproject_id,\n\tschema,\n\tschema_version,\n    module,\n    log_level,\n    flow_name,\n    message,\n    event_timestamp,\n\tis_retry,\n\tretry_count,\n\tis_replay,\n\treplay_timestamp,\n\tsource_data_path,\n\terror_code,\n\tis_error,\n\tadditional_metadata\n)\nSELECT \n    '${system}',\n    '${event_type}',\n\t'${filename}',\n    CAST(NULLIF('${request_uuid}','') AS UUID),\n\tCAST(NULLIF('${client_code}','') AS INT),\n\tCAST(NULLIF('${project_id}','') AS INT),\n\t'${schema}',\n\t'${schema_version}',\n    '${module}',\n    '${log_level}',\n    '${flow_name}',\n\t'${message:replaceAll(\"'\", \"''\")}',\n    '${event_timestamp}',\n    '${is_retry}',\n\tCAST(NULLIF('${retry_count}','') AS INT),\n\tCAST(NULLIF('${is_replay}','') AS BOOLEAN),\n    CAST(NULLIF('${replay_timestamp}','') AS TIMESTAMP),\n    CAST(NULLIF('${source_data_path}','') AS VARCHAR),\n    CAST(NULLIF('${error_code}','') AS VARCHAR),\n    '${is_error}',\n    CAST(NULLIF('${additional_metadata}','')AS JSON)","Transaction Timeout":null,"Batch Size":"100","Obtain Generated Keys":"true","JDBC Connection Pool":"583da8d8-f28d-3d93-bb21-584428faaa9b","database-session-autocommit":"true","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","retry"],"scheduledState":"ENABLED","retryCount":3,"retriedRelationships":["failure","retry"],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"2 secs","componentType":"PROCESSOR","groupIdentifier":"d76e909c-34ab-30d2-9759-28dbff424771"},{"identifier":"9607f04a-f8a8-33a1-aab0-ba536bebe0a8","instanceIdentifier":"c3a930ff-7c54-1d7d-b651-4873a83bd65e","name":"RouteOnLog","comments":"","position":{"x":336.0,"y":728.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"db_connect_event":"${event_type:equals('DATABASE_OPERATION')}","Routing Strategy":"Route to Property name","queue_consume_event":"${event_type:equals('QUEUE_CONSUME_OPERATION')}"},"propertyDescriptors":{"db_connect_event":{"name":"db_connect_event","displayName":"db_connect_event","identifiesControllerService":false,"sensitive":false},"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"queue_consume_event":{"name":"queue_consume_event","displayName":"queue_consume_event","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"d76e909c-34ab-30d2-9759-28dbff424771"},{"identifier":"b86bbf42-9549-3986-abc5-6beba4a5074b","instanceIdentifier":"a59a3a67-236b-1fbd-b17c-b1ac04f96c9a","name":"CommonAttributes","comments":"","position":{"x":328.0,"y":-24.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd HH:mm:ss\")}"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"d76e909c-34ab-30d2-9759-28dbff424771"}],"inputPorts":[{"identifier":"80798169-c9e0-3381-b600-81ffa5f76e75","instanceIdentifier":"23bc3e8a-748a-1c4d-8abb-86a50d264a41","name":"ip_port","position":{"x":384.0,"y":-160.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"d76e909c-34ab-30d2-9759-28dbff424771"}],"outputPorts":[],"connections":[{"identifier":"2f03e082-3442-348a-9759-b3feea5a8976","instanceIdentifier":"db0c3e72-787b-1676-888e-ea6fbd288b2e","name":"","source":{"id":"b247fd1e-90e6-394b-9172-cc648d23af26","type":"OUTPUT_PORT","groupId":"18ed06cc-91f4-34bd-b194-06cfb095a9c3","name":"op_port","comments":"","instanceIdentifier":"e9a735a9-173f-18a5-a0ae-2577bc39c339"},"destination":{"id":"9607f04a-f8a8-33a1-aab0-ba536bebe0a8","type":"PROCESSOR","groupId":"d76e909c-34ab-30d2-9759-28dbff424771","name":"RouteOnLog","comments":"","instanceIdentifier":"c3a930ff-7c54-1d7d-b651-4873a83bd65e"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d76e909c-34ab-30d2-9759-28dbff424771"},{"identifier":"3552b8ab-350a-3572-81b9-5984acb036c0","instanceIdentifier":"0d8f3b57-89fd-167f-adf7-4f036a3ad79b","name":"","source":{"id":"b86bbf42-9549-3986-abc5-6beba4a5074b","type":"PROCESSOR","groupId":"d76e909c-34ab-30d2-9759-28dbff424771","name":"CommonAttributes","comments":"","instanceIdentifier":"a59a3a67-236b-1fbd-b17c-b1ac04f96c9a"},"destination":{"id":"8168902e-ba4f-31c5-a8a6-95aa530c9b60","type":"PROCESSOR","groupId":"d76e909c-34ab-30d2-9759-28dbff424771","name":"Insert Process Logs","comments":"","instanceIdentifier":"7b8c3798-a3f0-1825-b967-2fa8c53a9389"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d76e909c-34ab-30d2-9759-28dbff424771"},{"identifier":"204621e2-ebb1-39fb-b033-29dea663a7ee","instanceIdentifier":"5af13335-a533-1649-8ea4-7eb7ab8eacc1","name":"","source":{"id":"8168902e-ba4f-31c5-a8a6-95aa530c9b60","type":"PROCESSOR","groupId":"d76e909c-34ab-30d2-9759-28dbff424771","name":"Insert Process Logs","comments":"","instanceIdentifier":"7b8c3798-a3f0-1825-b967-2fa8c53a9389"},"destination":{"id":"9c803836-1d48-3e92-8372-88c4e3362b4d","type":"INPUT_PORT","groupId":"18ed06cc-91f4-34bd-b194-06cfb095a9c3","name":"ip_port","instanceIdentifier":"8df43e9a-363d-1230-9687-05df73c5c891"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d76e909c-34ab-30d2-9759-28dbff424771"},{"identifier":"30d2374a-20ae-3e69-858d-acbcaa6db460","instanceIdentifier":"91e53f17-8f86-17f2-bb53-e14107c810cc","name":"","source":{"id":"9607f04a-f8a8-33a1-aab0-ba536bebe0a8","type":"PROCESSOR","groupId":"d76e909c-34ab-30d2-9759-28dbff424771","name":"RouteOnLog","comments":"","instanceIdentifier":"c3a930ff-7c54-1d7d-b651-4873a83bd65e"},"destination":{"id":"381c95c5-acaa-39f2-a9e0-51554b7fc6eb","type":"INPUT_PORT","groupId":"8964ca67-c6ab-3d57-9520-4e97b8553512","name":"ip_port","instanceIdentifier":"8e573e1c-c2e8-17ca-b644-798acff4871b"},"labelIndex":1,"zIndex":0,"selectedRelationships":["queue_consume_event"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d76e909c-34ab-30d2-9759-28dbff424771"},{"identifier":"00225300-5c77-3edc-aac9-4e30bce4e20b","instanceIdentifier":"2b953194-c82f-1dd8-b22c-2241cb96d4f2","name":"","source":{"id":"9607f04a-f8a8-33a1-aab0-ba536bebe0a8","type":"PROCESSOR","groupId":"d76e909c-34ab-30d2-9759-28dbff424771","name":"RouteOnLog","comments":"","instanceIdentifier":"c3a930ff-7c54-1d7d-b651-4873a83bd65e"},"destination":{"id":"9011e539-04cf-3a0f-b122-7edfca3b6898","type":"INPUT_PORT","groupId":"e6840952-daa9-34bb-a39b-b7ed96543fe6","name":"ip_port","instanceIdentifier":"96ca32b9-3a50-17ea-a654-379724439046"},"labelIndex":1,"zIndex":0,"selectedRelationships":["db_connect_event"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d76e909c-34ab-30d2-9759-28dbff424771"},{"identifier":"570234b1-ed19-3b62-9b6c-87368787f2fd","instanceIdentifier":"998d3522-1467-1246-8850-372d5c86b122","name":"","source":{"id":"80798169-c9e0-3381-b600-81ffa5f76e75","type":"INPUT_PORT","groupId":"d76e909c-34ab-30d2-9759-28dbff424771","name":"ip_port","instanceIdentifier":"23bc3e8a-748a-1c4d-8abb-86a50d264a41"},"destination":{"id":"b86bbf42-9549-3986-abc5-6beba4a5074b","type":"PROCESSOR","groupId":"d76e909c-34ab-30d2-9759-28dbff424771","name":"CommonAttributes","comments":"","instanceIdentifier":"a59a3a67-236b-1fbd-b17c-b1ac04f96c9a"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d76e909c-34ab-30d2-9759-28dbff424771"}],"labels":[],"funnels":[],"controllerServices":[{"identifier":"583da8d8-f28d-3d93-bb21-584428faaa9b","instanceIdentifier":"01e33ad1-a6e1-1c74-9aef-10143ccd1b07","name":"DBCPConnectionPool-IDW","comments":"","type":"org.apache.nifi.dbcp.DBCPConnectionPool","bundle":{"group":"org.apache.nifi","artifact":"nifi-dbcp-service-nar","version":"1.27.0"},"properties":{"dbcp-min-idle-conns":"0","Max Wait Time":"500 millis","Database Driver Class Name":"org.postgresql.Driver","dbcp-min-evictable-idle-time":"30 mins","kerberos-principal":null,"Max Total Connections":"8","kerberos-credentials-service":null,"dbcp-max-conn-lifetime":"-1","Validation-query":"SELECT 1;","Database Connection URL":"jdbc:postgresql://#{host}:5432/insights_dw","dbcp-time-between-eviction-runs":"-1","Database User":"#{username}","kerberos-user-service":null,"dbcp-soft-min-evictable-idle-time":"-1","database-driver-locations":"/stackable/userdata/nifi-user-volume/postgresql-42.2.23.jar","dbcp-max-idle-conns":"8","Password":"#{password}"},"propertyDescriptors":{"kerberos-password":{"name":"kerberos-password","displayName":"Kerberos Password","identifiesControllerService":false,"sensitive":true},"dbcp-min-idle-conns":{"name":"dbcp-min-idle-conns","displayName":"Minimum Idle Connections","identifiesControllerService":false,"sensitive":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Driver Class Name":{"name":"Database Driver Class Name","displayName":"Database Driver Class Name","identifiesControllerService":false,"sensitive":false},"dbcp-min-evictable-idle-time":{"name":"dbcp-min-evictable-idle-time","displayName":"Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false},"kerberos-principal":{"name":"kerberos-principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"Max Total Connections":{"name":"Max Total Connections","displayName":"Max Total Connections","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"dbcp-max-conn-lifetime":{"name":"dbcp-max-conn-lifetime","displayName":"Max Connection Lifetime","identifiesControllerService":false,"sensitive":false},"Validation-query":{"name":"Validation-query","displayName":"Validation query","identifiesControllerService":false,"sensitive":false},"Database Connection URL":{"name":"Database Connection URL","displayName":"Database Connection URL","identifiesControllerService":false,"sensitive":false},"dbcp-time-between-eviction-runs":{"name":"dbcp-time-between-eviction-runs","displayName":"Time Between Eviction Runs","identifiesControllerService":false,"sensitive":false},"Database User":{"name":"Database User","displayName":"Database User","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"dbcp-soft-min-evictable-idle-time":{"name":"dbcp-soft-min-evictable-idle-time","displayName":"Soft Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false},"database-driver-locations":{"name":"database-driver-locations","displayName":"Database Driver Location(s)","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["URL","DIRECTORY","FILE"]}},"dbcp-max-idle-conns":{"name":"dbcp-max-idle-conns","displayName":"Max Idle Connections","identifiesControllerService":false,"sensitive":false},"Password":{"name":"Password","displayName":"Password","identifiesControllerService":false,"sensitive":true}},"controllerServiceApis":[{"type":"org.apache.nifi.dbcp.DBCPService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.27.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"d76e909c-34ab-30d2-9759-28dbff424771"}],"variables":{},"parameterContextName":"idw_db_secrets","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"f0e8bb50-eec8-3103-83b9-42abfb8ca863"}],"remoteProcessGroups":[],"processors":[{"identifier":"886d23a0-e10c-3376-9d7e-92bb8a064969","instanceIdentifier":"56e733a4-d3fb-1c6a-a95c-592cde71e6b8","name":"Extract FailedIds","comments":"","position":{"x":928.0,"y":312.0},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"1.27.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import org.apache.nifi.processor.io.StreamCallback\nimport org.apache.commons.io.IOUtils\nimport groovy.json.JsonSlurper\nimport groovy.json.JsonOutput\n\nclass TransformCallback implements StreamCallback {\n    def log\n    def errorOccurred = false\n    def validationFailed = false\n    def outputData = []\n    def errorMessage = \"\"\n    def ids = []\n\n    TransformCallback(log) {\n        this.log = log\n    }\n\n    @Override\n    void process(InputStream inputStream, OutputStream outputStream) throws IOException {\n        try {\n            // Read the entire FlowFile content\n            def content = IOUtils.toString(inputStream, 'UTF-8')\n            \n            // Split the concatenated JSON objects\n            def jsonSlurper = new JsonSlurper()\n            def jsonObjects = []\n\n            // Replace '}{' with '}\\n{' to help separate the objects\n            content = content.replaceAll('}\\\\s*\\\\{', '}\\n{')\n\n            // Split by new lines to handle separate JSON objects\n            def lines = content.split('\\n')\n\n            // Process each line\n            lines.each { line ->\n                if (line.trim()) { // Ignore empty lines\n\t\t\t\t\ttry{\n\t\t\t\t\t\tdef jsonObject = jsonSlurper.parseText(line)\n\t\t\t\t\t\tjsonObjects << jsonObject\n\t\t\t\t\t\tids << jsonObject.id // Collect ids from each JSON if 'id' is present\n\t\t\t\t\t}catch(Exception){\n\t\t\t\t\t\t//Ignore\n\t\t\t\t\t}\n                }\n            }\n\n            // Write the collected JSON objects back as a JSON array\n            def outputJson = JsonOutput.toJson(jsonObjects)\n            outputStream.write(outputJson.getBytes('UTF-8'))\n\n        } catch (Exception e) {\n            // Log the error and write the error message to outputStream\n            log.error(\"Processing error\", e)\n            errorOccurred = true\n            errorMessage = \"Processing error: \" + e.message\n            outputData = JsonOutput.toJson([message: errorMessage])\n            outputStream.write(outputData.getBytes('UTF-8'))\n        }\n    }\n    // Method to escape special characters\n    private String escapeJsonString(String message) {\n        return message.replaceAll('\"', '\\\\\"')       // Escape double quotes\n                      .replaceAll(\"\\\\\\\\\", \"\\\\\\\\\\\\\\\\\") // Escape backslashes\n                      .replaceAll(\"\\n\", \"\\\\\\\\n\")     // Escape new lines\n                      .replaceAll(\"\\r\", \"\\\\\\\\r\")     // Escape carriage returns\n                      .replaceAll(\"\\t\", \"\\\\\\\\t\")     // Escape tabs\n                      .replaceAll(\"'\", \"''\")         // Escape single quotes for SQL\n    }\n   // Map of error codes to messages\n    private Map errorMap = [\n      \"00000\": \"successful_completion\",\n      \"01000\": \"warning\",\n      \"0100C\": \"dynamic_result_sets_returned\",\n      \"01008\": \"implicit_zero_bit_padding\",\n      \"01003\": \"null_value_eliminated_in_set_function\",\n      \"01007\": \"privilege_not_granted\",\n      \"01006\": \"privilege_not_revoked\",\n      \"01004\": \"string_data_right_truncation\",\n      \"01P01\": \"deprecated_feature\",\n      \"02000\": \"no_data\",\n      \"02001\": \"no_additional_dynamic_result_sets_returned\",\n      \"03000\": \"sql_statement_not_yet_complete\",\n      \"08000\": \"connection_exception\",\n      \"08003\": \"connection_does_not_exist\",\n      \"08006\": \"connection_failure\",\n      \"08001\": \"sqlclient_unable_to_establish_sqlconnection\",\n      \"08004\": \"sqlserver_rejected_establishment_of_sqlconnection\",\n      \"08007\": \"transaction_resolution_unknown\",\n      \"08P01\": \"protocol_violation\",\n      \"09000\": \"triggered_action_exception\",\n      \"0A000\": \"feature_not_supported\",\n      \"0B000\": \"invalid_transaction_initiation\",\n      \"0F000\": \"locator_exception\",\n      \"0F001\": \"invalid_locator_specification\",\n      \"0L000\": \"invalid_grantor\",\n      \"0LP01\": \"invalid_grant_operation\",\n      \"0P000\": \"invalid_role_specification\",\n      \"0Z000\": \"diagnostics_exception\",\n      \"0Z002\": \"stacked_diagnostics_accessed_without_active_handler\",\n      \"20000\": \"case_not_found\",\n      \"21000\": \"cardinality_violation\",\n      \"22000\": \"data_exception\",\n      \"2202E\": \"array_subscript_error\",\n      \"22021\": \"character_not_in_repertoire\",\n      \"22008\": \"datetime_field_overflow\",\n      \"22012\": \"division_by_zero\",\n      \"22005\": \"error_in_assignment\",\n      \"2200B\": \"escape_character_conflict\",\n      \"22022\": \"indicator_overflow\",\n      \"22015\": \"interval_field_overflow\",\n      \"2201E\": \"invalid_argument_for_logarithm\",\n      \"22014\": \"invalid_argument_for_ntile_function\",\n      \"22016\": \"invalid_argument_for_nth_value_function\",\n      \"2201F\": \"invalid_argument_for_power_function\",\n      \"2201G\": \"invalid_argument_for_width_bucket_function\",\n      \"22018\": \"invalid_character_value_for_cast\",\n      \"22007\": \"invalid_datetime_format\",\n      \"22019\": \"invalid_escape_character\",\n      \"2200D\": \"invalid_escape_octet\",\n      \"22025\": \"invalid_escape_sequence\",\n      \"22P06\": \"nonstandard_use_of_escape_character\",\n      \"22010\": \"invalid_indicator_parameter_value\",\n      \"22023\": \"invalid_parameter_value\",\n      \"22013\": \"invalid_preceding_or_following_size\",\n      \"2201B\": \"invalid_regular_expression\",\n      \"2201W\": \"invalid_row_count_in_limit_clause\",\n      \"2201X\": \"invalid_row_count_in_result_offset_clause\",\n      \"2202H\": \"invalid_tablesample_argument\",\n      \"2202G\": \"invalid_tablesample_repeat\",\n      \"22009\": \"invalid_time_zone_displacement_value\",\n      \"2200C\": \"invalid_use_of_escape_character\",\n      \"2200G\": \"most_specific_type_mismatch\",\n      \"22004\": \"null_value_not_allowed\",\n      \"22002\": \"null_value_no_indicator_parameter\",\n      \"22003\": \"numeric_value_out_of_range\",\n      \"2200H\": \"sequence_generator_limit_exceeded\",\n      \"22026\": \"string_data_length_mismatch\",\n      \"22001\": \"string_data_right_truncation\",\n      \"22011\": \"substring_error\",\n      \"22027\": \"trim_error\",\n      \"22024\": \"unterminated_c_string\",\n      \"2200F\": \"zero_length_character_string\",\n      \"22P01\": \"floating_point_exception\",\n      \"22P02\": \"invalid_text_representation\",\n      \"22P03\": \"invalid_binary_representation\",\n      \"22P04\": \"bad_copy_file_format\",\n      \"22P05\": \"untranslatable_character\",\n      \"2200L\": \"not_an_xml_document\",\n      \"2200M\": \"invalid_xml_document\",\n      \"2200N\": \"invalid_xml_content\",\n      \"2200S\": \"invalid_xml_comment\",\n      \"2200T\": \"invalid_xml_processing_instruction\",\n      \"22030\": \"duplicate_json_object_key_value\",\n      \"22031\": \"invalid_argument_for_sql_json_datetime_function\",\n      \"22032\": \"invalid_json_text\",\n      \"22033\": \"invalid_sql_json_subscript\",\n      \"22034\": \"more_than_one_sql_json_item\",\n      \"22035\": \"no_sql_json_item\",\n      \"22036\": \"non_numeric_sql_json_item\",\n      \"22037\": \"non_unique_keys_in_a_json_object\",\n      \"22038\": \"singleton_sql_json_item_required\",\n      \"22039\": \"sql_json_array_not_found\",\n      \"2203A\": \"sql_json_member_not_found\",\n      \"2203B\": \"sql_json_number_not_found\",\n      \"2203C\": \"sql_json_object_not_found\",\n      \"2203D\": \"too_many_json_array_elements\",\n      \"2203E\": \"too_many_json_object_members\",\n      \"2203F\": \"sql_json_scalar_required\",\n      \"2203G\": \"sql_json_item_cannot_be_cast_to_target_type\",\n      \"23000\": \"integrity_constraint_violation\",\n      \"23001\": \"restrict_violation\",\n      \"23502\": \"not_null_violation\",\n      \"23503\": \"foreign_key_violation\",\n      \"23505\": \"unique_violation\",\n      \"23514\": \"check_violation\",\n      \"23P01\": \"exclusion_violation\",\n      \"24000\": \"invalid_cursor_state\",\n      \"25000\": \"invalid_transaction_state\",\n      \"25001\": \"active_sql_transaction\",\n      \"25002\": \"branch_transaction_already_active\",\n      \"25008\": \"held_cursor_requires_same_isolation_level\",\n      \"25003\": \"inappropriate_access_mode_for_branch_transaction\",\n      \"25004\": \"inappropriate_isolation_level_for_branch_transaction\",\n      \"25005\": \"no_active_sql_transaction_for_branch_transaction\",\n      \"25006\": \"read_only_sql_transaction\",\n      \"25007\": \"schema_and_data_statement_mixing_not_supported\",\n      \"25P01\": \"no_active_sql_transaction\",\n      \"25P02\": \"in_failed_sql_transaction\",\n      \"25P03\": \"idle_in_transaction_session_timeout\",\n      \"25P04\": \"transaction_timeout\",\n      \"26000\": \"invalid_sql_statement_name\",\n      \"27000\": \"triggered_data_change_violation\",\n      \"28000\": \"invalid_authorization_specification\",\n      \"28P01\": \"invalid_password\",\n      \"2B000\": \"dependent_privilege_descriptors_still_exist\",\n      \"2BP01\": \"dependent_objects_still_exist\",\n      \"2D000\": \"invalid_transaction_termination\",\n      \"2F000\": \"sql_routine_exception\",\n      \"2F005\": \"function_executed_no_return_statement\",\n      \"2F002\": \"modifying_sql_data_not_permitted\",\n      \"2F003\": \"prohibited_sql_statement_attempted\",\n      \"2F004\": \"reading_sql_data_not_permitted\",\n      \"34000\": \"invalid_cursor_name\",\n      \"38000\": \"external_routine_exception\",\n      \"38001\": \"containing_sql_not_permitted\",\n      \"38002\": \"modifying_sql_data_not_permitted\",\n      \"38003\": \"prohibited_sql_statement_attempted\",\n      \"38004\": \"reading_sql_data_not_permitted\",\n      \"39000\": \"external_routine_invocation_exception\",\n      \"39001\": \"invalid_sqlstate_returned\",\n      \"39004\": \"null_value_not_allowed\",\n      \"39P01\": \"trigger_protocol_violated\",\n      \"39P02\": \"srf_protocol_violated\",\n      \"39P03\": \"event_trigger_protocol_violated\",\n      \"3B000\": \"savepoint_exception\",\n      \"3B001\": \"invalid_savepoint_specification\",\n      \"3D000\": \"invalid_catalog_name\",\n      \"3F000\": \"invalid_schema_name\",\n      \"40000\": \"transaction_rollback\",\n      \"40002\": \"transaction_integrity_constraint_violation\",\n      \"40001\": \"serialization_failure\",\n      \"40003\": \"statement_completion_unknown\",\n      \"40P01\": \"deadlock_detected\",\n      \"42000\": \"syntax_error_or_access_rule_violation\",\n      \"42601\": \"syntax_error\",\n      \"42501\": \"insufficient_privilege\",\n      \"42846\": \"cannot_coerce\",\n      \"42803\": \"grouping_error\",\n      \"42P20\": \"windowing_error\",\n      \"42P19\": \"invalid_recursion\",\n      \"42830\": \"invalid_foreign_key\",\n      \"42602\": \"invalid_name\",\n      \"42622\": \"name_too_long\",\n      \"42939\": \"reserved_name\",\n      \"42804\": \"datatype_mismatch\",\n      \"42P18\": \"indeterminate_datatype\",\n      \"42P21\": \"collation_mismatch\",\n      \"42P22\": \"indeterminate_collation\",\n      \"42809\": \"wrong_object_type\",\n      \"428C9\": \"generated_always\",\n      \"42703\": \"undefined_column\",\n      \"42883\": \"undefined_function\",\n      \"42P01\": \"undefined_table\",\n      \"42P02\": \"undefined_parameter\",\n      \"42704\": \"undefined_object\",\n      \"42701\": \"duplicate_column\",\n      \"42P03\": \"duplicate_cursor\",\n      \"42P04\": \"duplicate_database\",\n      \"42723\": \"duplicate_function\",\n      \"42P05\": \"duplicate_prepared_statement\",\n      \"42P06\": \"duplicate_schema\",\n      \"42P07\": \"duplicate_table\",\n      \"42712\": \"duplicate_alias\",\n      \"42710\": \"duplicate_object\",\n      \"42702\": \"ambiguous_column\",\n      \"42725\": \"ambiguous_function\",\n      \"42P08\": \"ambiguous_parameter\",\n      \"42P09\": \"ambiguous_alias\",\n      \"42P10\": \"invalid_column_reference\",\n      \"42611\": \"invalid_column_definition\",\n      \"42P11\": \"invalid_cursor_definition\",\n      \"42P12\": \"invalid_database_definition\",\n      \"42P13\": \"invalid_function_definition\",\n      \"42P14\": \"invalid_prepared_statement_definition\",\n      \"42P15\": \"invalid_schema_definition\",\n      \"42P16\": \"invalid_table_definition\",\n      \"42P17\": \"invalid_object_definition\",\n      \"44000\": \"with_check_option_violation\",\n      \"53000\": \"insufficient_resources\",\n      \"53100\": \"disk_full\",\n      \"53200\": \"out_of_memory\",\n      \"53300\": \"too_many_connections\",\n      \"53400\": \"configuration_limit_exceeded\",\n      \"54000\": \"program_limit_exceeded\",\n      \"54001\": \"statement_too_complex\",\n      \"54011\": \"too_many_columns\",\n      \"54023\": \"too_many_arguments\",\n      \"55000\": \"object_not_in_prerequisite_state\",\n      \"55006\": \"object_in_use\",\n      \"55P02\": \"cant_change_runtime_param\",\n      \"55P03\": \"lock_not_available\",\n      \"55P04\": \"unsafe_new_enum_value_usage\",\n      \"57000\": \"operator_intervention\",\n      \"57014\": \"query_canceled\",\n      \"57P01\": \"admin_shutdown\",\n      \"57P02\": \"crash_shutdown\",\n      \"57P03\": \"cannot_connect_now\",\n      \"57P04\": \"database_dropped\",\n      \"57P05\": \"idle_session_timeout\",\n      \"58000\": \"system_error\",\n      \"58030\": \"io_error\",\n      \"58P01\": \"undefined_file\",\n      \"58P02\": \"duplicate_file\",\n      \"72000\": \"snapshot_too_old\",\n      \"F0000\": \"config_file_error\",\n      \"F0001\": \"lock_file_exists\",\n      \"HV000\": \"fdw_error\",\n      \"HV005\": \"fdw_column_name_not_found\",\n      \"HV002\": \"fdw_dynamic_parameter_value_needed\",\n      \"HV010\": \"fdw_function_sequence_error\",\n      \"HV021\": \"fdw_inconsistent_descriptor_information\",\n      \"HV024\": \"fdw_invalid_attribute_value\",\n      \"HV007\": \"fdw_invalid_column_name\",\n      \"HV008\": \"fdw_invalid_column_number\",\n      \"HV004\": \"fdw_invalid_data_type\",\n      \"HV006\": \"fdw_invalid_data_type_descriptors\",\n      \"HV091\": \"fdw_invalid_descriptor_field_identifier\",\n      \"HV00B\": \"fdw_invalid_handle\",\n      \"HV00C\": \"fdw_invalid_option_index\",\n      \"HV00D\": \"fdw_invalid_option_name\",\n      \"HV090\": \"fdw_invalid_string_length_or_buffer_length\",\n      \"HV00A\": \"fdw_invalid_string_format\",\n      \"HV009\": \"fdw_invalid_use_of_null_pointer\",\n      \"HV014\": \"fdw_too_many_handles\",\n      \"HV001\": \"fdw_out_of_memory\",\n      \"HV00P\": \"fdw_no_schemas\",\n      \"HV00J\": \"fdw_option_name_not_found\",\n      \"HV00K\": \"fdw_reply_handle\",\n      \"HV00Q\": \"fdw_schema_not_found\",\n      \"HV00R\": \"fdw_table_not_found\",\n      \"HV00L\": \"fdw_unable_to_create_execution\",\n      \"HV00M\": \"fdw_unable_to_create_reply\",\n      \"HV00N\": \"fdw_unable_to_establish_connection\",\n      \"P0000\": \"plpgsql_error\",\n      \"P0001\": \"raise_exception\",\n      \"P0002\": \"no_data_found\",\n      \"P0003\": \"too_many_rows\",\n      \"P0004\": \"assert_failure\",\n      \"XX000\": \"internal_error\",\n      \"XX001\": \"data_corrupted\",\n      \"XX002\": \"index_corrupted\"\n\t]\n\n    // Method to get error message based on error code\n    String getErrorMessageForCode(String errorCode) {\n        return errorMap.getOrDefault(errorCode, \"Unknown error\")\n    }\n}\n\n// Retrieve the FlowFile from the session\ndef flowFile = session.get()\nif (flowFile != null) {\n    // Create the TransformCallback instance and pass the log\n    def transformCallback = new TransformCallback(log)\n\n    // Write the FlowFile using the callback\n    flowFile = session.write(flowFile, transformCallback)\n\tdef message = flowFile.getAttribute('message')\n    if (message) {\n        // Escape the message\n        def escapedMessage = transformCallback.escapeJsonString(message)\n        // Add the escaped message back to a new attribute\n        flowFile = session.putAttribute(flowFile, \"message\", escapedMessage)\n    }\n    // Add the extracted ids as a single attribute (failed_ids)\n\tif (transformCallback.ids) {\n        // Create a JSON string with the ids as an array\n        def failedIdsJson = JsonOutput.toJson([ids: transformCallback.ids])\n        flowFile = session.putAttribute(flowFile, \"additional_metadata\", failedIdsJson)\n    }\n\tdef errorCode = flowFile.getAttribute('error.sql.state')\n\n    if (errorCode) {\n        // Get the error message for the code\n        def existingErrorMessage = flowFile.getAttribute('message') ?: \"\"\n        def errorMessage = transformCallback.getErrorMessageForCode(errorCode)\n        // Set the error message as a new attribute\n        flowFile = session.putAttribute(flowFile, \"message\", existingErrorMessage + errorMessage)\n    }\n\n    // Transfer to the appropriate relationship\n    if (transformCallback.errorOccurred || transformCallback.validationFailed) {\n        session.transfer(flowFile, REL_FAILURE)\n    } else {\n        session.transfer(flowFile, REL_SUCCESS)\n    }\n}","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f0e8bb50-eec8-3103-83b9-42abfb8ca863"},{"identifier":"eef33e83-1554-33d4-a8ef-ca2890042296","instanceIdentifier":"d25030ec-6916-1dd6-84b6-e73e02689ac1","name":"RouteOnSuccess Flow","comments":"","position":{"x":408.0,"y":128.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Routing Strategy":"Route to Property name","success_flow":"${error.sql.state:isEmpty()}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"success_flow":{"name":"success_flow","displayName":"success_flow","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f0e8bb50-eec8-3103-83b9-42abfb8ca863"},{"identifier":"af4cfba2-bf86-3a60-bb8e-6b189e86cde5","instanceIdentifier":"13183065-edd4-11a2-9447-cae128aabd5b","name":"Extract Ids","comments":"","position":{"x":416.0,"y":320.0},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"1.27.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import org.apache.nifi.processor.io.StreamCallback\nimport org.apache.commons.io.IOUtils\nimport groovy.json.JsonSlurper\nimport groovy.json.JsonOutput\n\nclass TransformCallback implements StreamCallback {\n    def log\n    def errorOccurred = false\n    def validationFailed = false\n    def outputData = []\n    def errorMessage = \"\"\n    def ids = []\n\n    TransformCallback(log) {\n        this.log = log\n    }\n\n    @Override\n    void process(InputStream inputStream, OutputStream outputStream) throws IOException {\n        try {\n            // Read the entire FlowFile content\n            def content = IOUtils.toString(inputStream, 'UTF-8')\n\n            // Prepare for JSON parsing\n            def jsonSlurper = new JsonSlurper()\n\n\t\t\tdef jsonObjects = []\n\n            // Replace '}{' with '}\\n{' to help separate the objects\n            content = content.replaceAll('}\\\\s*\\\\{', '}\\n{')\n\n            // Split by new lines to handle separate JSON objects\n            def lines = content.split('\\n')\n\n            // Process each line\n            lines.each { line ->\n                if (line.trim()) { // Ignore empty lines\n\t\t\t\t\ttry{\n\t\t\t\t\t\tdef jsonObject = jsonSlurper.parseText(line)\n\t\t\t\t\t\tjsonObjects << jsonObject\n\t\t\t\t\t\tids << jsonObject.id // Collect ids from each JSON if 'id' is present\n\t\t\t\t\t}catch(Exception){\n                           //ignore\n\t\t\t\t\t}\n                }\n            }\n\n\n            // Write the collected JSON objects back as a JSON array\n            def outputJson = JsonOutput.toJson(jsonObjects)\n            outputStream.write(outputJson.getBytes('UTF-8'))\n\n        } catch (Exception e) {\n            // Log the error and write the error message to outputStream\n            log.error(\"Processing error\", e)\n            errorOccurred = true\n            errorMessage = \"Processing error: \" + e.message\n            def errorResponse = [message: escapeJsonString(errorMessage)]\n            outputStream.write(JsonOutput.toJson(errorResponse).getBytes('UTF-8'))\n        }\n    }\n\n    // Escape special characters in JSON strings\n    private String escapeJsonString(String message) {\n        return message.replaceAll('\"', '\\\\\"')       // Escape double quotes\n                      .replaceAll(\"\\\\\\\\\", \"\\\\\\\\\\\\\\\\\") // Escape backslashes\n                      .replaceAll(\"\\n\", \"\\\\\\\\n\")     // Escape new lines\n                      .replaceAll(\"\\r\", \"\\\\\\\\r\")     // Escape carriage returns\n                      .replaceAll(\"\\t\", \"\\\\\\\\t\")     // Escape tabs\n    }\n\tprivate Map errorMap = [\n      \"00000\": \"successful_completion\",\n      \"01000\": \"warning\",\n      \"0100C\": \"dynamic_result_sets_returned\",\n      \"01008\": \"implicit_zero_bit_padding\",\n      \"01003\": \"null_value_eliminated_in_set_function\",\n      \"01007\": \"privilege_not_granted\",\n      \"01006\": \"privilege_not_revoked\",\n      \"01004\": \"string_data_right_truncation\",\n      \"01P01\": \"deprecated_feature\",\n      \"02000\": \"no_data\",\n      \"02001\": \"no_additional_dynamic_result_sets_returned\",\n      \"03000\": \"sql_statement_not_yet_complete\",\n      \"08000\": \"connection_exception\",\n      \"08003\": \"connection_does_not_exist\",\n      \"08006\": \"connection_failure\",\n      \"08001\": \"sqlclient_unable_to_establish_sqlconnection\",\n      \"08004\": \"sqlserver_rejected_establishment_of_sqlconnection\",\n      \"08007\": \"transaction_resolution_unknown\",\n      \"08P01\": \"protocol_violation\",\n      \"09000\": \"triggered_action_exception\",\n      \"0A000\": \"feature_not_supported\",\n      \"0B000\": \"invalid_transaction_initiation\",\n      \"0F000\": \"locator_exception\",\n      \"0F001\": \"invalid_locator_specification\",\n      \"0L000\": \"invalid_grantor\",\n      \"0LP01\": \"invalid_grant_operation\",\n      \"0P000\": \"invalid_role_specification\",\n      \"0Z000\": \"diagnostics_exception\",\n      \"0Z002\": \"stacked_diagnostics_accessed_without_active_handler\",\n      \"20000\": \"case_not_found\",\n      \"21000\": \"cardinality_violation\",\n      \"22000\": \"data_exception\",\n      \"2202E\": \"array_subscript_error\",\n      \"22021\": \"character_not_in_repertoire\",\n      \"22008\": \"datetime_field_overflow\",\n      \"22012\": \"division_by_zero\",\n      \"22005\": \"error_in_assignment\",\n      \"2200B\": \"escape_character_conflict\",\n      \"22022\": \"indicator_overflow\",\n      \"22015\": \"interval_field_overflow\",\n      \"2201E\": \"invalid_argument_for_logarithm\",\n      \"22014\": \"invalid_argument_for_ntile_function\",\n      \"22016\": \"invalid_argument_for_nth_value_function\",\n      \"2201F\": \"invalid_argument_for_power_function\",\n      \"2201G\": \"invalid_argument_for_width_bucket_function\",\n      \"22018\": \"invalid_character_value_for_cast\",\n      \"22007\": \"invalid_datetime_format\",\n      \"22019\": \"invalid_escape_character\",\n      \"2200D\": \"invalid_escape_octet\",\n      \"22025\": \"invalid_escape_sequence\",\n      \"22P06\": \"nonstandard_use_of_escape_character\",\n      \"22010\": \"invalid_indicator_parameter_value\",\n      \"22023\": \"invalid_parameter_value\",\n      \"22013\": \"invalid_preceding_or_following_size\",\n      \"2201B\": \"invalid_regular_expression\",\n      \"2201W\": \"invalid_row_count_in_limit_clause\",\n      \"2201X\": \"invalid_row_count_in_result_offset_clause\",\n      \"2202H\": \"invalid_tablesample_argument\",\n      \"2202G\": \"invalid_tablesample_repeat\",\n      \"22009\": \"invalid_time_zone_displacement_value\",\n      \"2200C\": \"invalid_use_of_escape_character\",\n      \"2200G\": \"most_specific_type_mismatch\",\n      \"22004\": \"null_value_not_allowed\",\n      \"22002\": \"null_value_no_indicator_parameter\",\n      \"22003\": \"numeric_value_out_of_range\",\n      \"2200H\": \"sequence_generator_limit_exceeded\",\n      \"22026\": \"string_data_length_mismatch\",\n      \"22001\": \"string_data_right_truncation\",\n      \"22011\": \"substring_error\",\n      \"22027\": \"trim_error\",\n      \"22024\": \"unterminated_c_string\",\n      \"2200F\": \"zero_length_character_string\",\n      \"22P01\": \"floating_point_exception\",\n      \"22P02\": \"invalid_text_representation\",\n      \"22P03\": \"invalid_binary_representation\",\n      \"22P04\": \"bad_copy_file_format\",\n      \"22P05\": \"untranslatable_character\",\n      \"2200L\": \"not_an_xml_document\",\n      \"2200M\": \"invalid_xml_document\",\n      \"2200N\": \"invalid_xml_content\",\n      \"2200S\": \"invalid_xml_comment\",\n      \"2200T\": \"invalid_xml_processing_instruction\",\n      \"22030\": \"duplicate_json_object_key_value\",\n      \"22031\": \"invalid_argument_for_sql_json_datetime_function\",\n      \"22032\": \"invalid_json_text\",\n      \"22033\": \"invalid_sql_json_subscript\",\n      \"22034\": \"more_than_one_sql_json_item\",\n      \"22035\": \"no_sql_json_item\",\n      \"22036\": \"non_numeric_sql_json_item\",\n      \"22037\": \"non_unique_keys_in_a_json_object\",\n      \"22038\": \"singleton_sql_json_item_required\",\n      \"22039\": \"sql_json_array_not_found\",\n      \"2203A\": \"sql_json_member_not_found\",\n      \"2203B\": \"sql_json_number_not_found\",\n      \"2203C\": \"sql_json_object_not_found\",\n      \"2203D\": \"too_many_json_array_elements\",\n      \"2203E\": \"too_many_json_object_members\",\n      \"2203F\": \"sql_json_scalar_required\",\n      \"2203G\": \"sql_json_item_cannot_be_cast_to_target_type\",\n      \"23000\": \"integrity_constraint_violation\",\n      \"23001\": \"restrict_violation\",\n      \"23502\": \"not_null_violation\",\n      \"23503\": \"foreign_key_violation\",\n      \"23505\": \"unique_violation\",\n      \"23514\": \"check_violation\",\n      \"23P01\": \"exclusion_violation\",\n      \"24000\": \"invalid_cursor_state\",\n      \"25000\": \"invalid_transaction_state\",\n      \"25001\": \"active_sql_transaction\",\n      \"25002\": \"branch_transaction_already_active\",\n      \"25008\": \"held_cursor_requires_same_isolation_level\",\n      \"25003\": \"inappropriate_access_mode_for_branch_transaction\",\n      \"25004\": \"inappropriate_isolation_level_for_branch_transaction\",\n      \"25005\": \"no_active_sql_transaction_for_branch_transaction\",\n      \"25006\": \"read_only_sql_transaction\",\n      \"25007\": \"schema_and_data_statement_mixing_not_supported\",\n      \"25P01\": \"no_active_sql_transaction\",\n      \"25P02\": \"in_failed_sql_transaction\",\n      \"25P03\": \"idle_in_transaction_session_timeout\",\n      \"25P04\": \"transaction_timeout\",\n      \"26000\": \"invalid_sql_statement_name\",\n      \"27000\": \"triggered_data_change_violation\",\n      \"28000\": \"invalid_authorization_specification\",\n      \"28P01\": \"invalid_password\",\n      \"2B000\": \"dependent_privilege_descriptors_still_exist\",\n      \"2BP01\": \"dependent_objects_still_exist\",\n      \"2D000\": \"invalid_transaction_termination\",\n      \"2F000\": \"sql_routine_exception\",\n      \"2F005\": \"function_executed_no_return_statement\",\n      \"2F002\": \"modifying_sql_data_not_permitted\",\n      \"2F003\": \"prohibited_sql_statement_attempted\",\n      \"2F004\": \"reading_sql_data_not_permitted\",\n      \"34000\": \"invalid_cursor_name\",\n      \"38000\": \"external_routine_exception\",\n      \"38001\": \"containing_sql_not_permitted\",\n      \"38002\": \"modifying_sql_data_not_permitted\",\n      \"38003\": \"prohibited_sql_statement_attempted\",\n      \"38004\": \"reading_sql_data_not_permitted\",\n      \"39000\": \"external_routine_invocation_exception\",\n      \"39001\": \"invalid_sqlstate_returned\",\n      \"39004\": \"null_value_not_allowed\",\n      \"39P01\": \"trigger_protocol_violated\",\n      \"39P02\": \"srf_protocol_violated\",\n      \"39P03\": \"event_trigger_protocol_violated\",\n      \"3B000\": \"savepoint_exception\",\n      \"3B001\": \"invalid_savepoint_specification\",\n      \"3D000\": \"invalid_catalog_name\",\n      \"3F000\": \"invalid_schema_name\",\n      \"40000\": \"transaction_rollback\",\n      \"40002\": \"transaction_integrity_constraint_violation\",\n      \"40001\": \"serialization_failure\",\n      \"40003\": \"statement_completion_unknown\",\n      \"40P01\": \"deadlock_detected\",\n      \"42000\": \"syntax_error_or_access_rule_violation\",\n      \"42601\": \"syntax_error\",\n      \"42501\": \"insufficient_privilege\",\n      \"42846\": \"cannot_coerce\",\n      \"42803\": \"grouping_error\",\n      \"42P20\": \"windowing_error\",\n      \"42P19\": \"invalid_recursion\",\n      \"42830\": \"invalid_foreign_key\",\n      \"42602\": \"invalid_name\",\n      \"42622\": \"name_too_long\",\n      \"42939\": \"reserved_name\",\n      \"42804\": \"datatype_mismatch\",\n      \"42P18\": \"indeterminate_datatype\",\n      \"42P21\": \"collation_mismatch\",\n      \"42P22\": \"indeterminate_collation\",\n      \"42809\": \"wrong_object_type\",\n      \"428C9\": \"generated_always\",\n      \"42703\": \"undefined_column\",\n      \"42883\": \"undefined_function\",\n      \"42P01\": \"undefined_table\",\n      \"42P02\": \"undefined_parameter\",\n      \"42704\": \"undefined_object\",\n      \"42701\": \"duplicate_column\",\n      \"42P03\": \"duplicate_cursor\",\n      \"42P04\": \"duplicate_database\",\n      \"42723\": \"duplicate_function\",\n      \"42P05\": \"duplicate_prepared_statement\",\n      \"42P06\": \"duplicate_schema\",\n      \"42P07\": \"duplicate_table\",\n      \"42712\": \"duplicate_alias\",\n      \"42710\": \"duplicate_object\",\n      \"42702\": \"ambiguous_column\",\n      \"42725\": \"ambiguous_function\",\n      \"42P08\": \"ambiguous_parameter\",\n      \"42P09\": \"ambiguous_alias\",\n      \"42P10\": \"invalid_column_reference\",\n      \"42611\": \"invalid_column_definition\",\n      \"42P11\": \"invalid_cursor_definition\",\n      \"42P12\": \"invalid_database_definition\",\n      \"42P13\": \"invalid_function_definition\",\n      \"42P14\": \"invalid_prepared_statement_definition\",\n      \"42P15\": \"invalid_schema_definition\",\n      \"42P16\": \"invalid_table_definition\",\n      \"42P17\": \"invalid_object_definition\",\n      \"44000\": \"with_check_option_violation\",\n      \"53000\": \"insufficient_resources\",\n      \"53100\": \"disk_full\",\n      \"53200\": \"out_of_memory\",\n      \"53300\": \"too_many_connections\",\n      \"53400\": \"configuration_limit_exceeded\",\n      \"54000\": \"program_limit_exceeded\",\n      \"54001\": \"statement_too_complex\",\n      \"54011\": \"too_many_columns\",\n      \"54023\": \"too_many_arguments\",\n      \"55000\": \"object_not_in_prerequisite_state\",\n      \"55006\": \"object_in_use\",\n      \"55P02\": \"cant_change_runtime_param\",\n      \"55P03\": \"lock_not_available\",\n      \"55P04\": \"unsafe_new_enum_value_usage\",\n      \"57000\": \"operator_intervention\",\n      \"57014\": \"query_canceled\",\n      \"57P01\": \"admin_shutdown\",\n      \"57P02\": \"crash_shutdown\",\n      \"57P03\": \"cannot_connect_now\",\n      \"57P04\": \"database_dropped\",\n      \"57P05\": \"idle_session_timeout\",\n      \"58000\": \"system_error\",\n      \"58030\": \"io_error\",\n      \"58P01\": \"undefined_file\",\n      \"58P02\": \"duplicate_file\",\n      \"72000\": \"snapshot_too_old\",\n      \"F0000\": \"config_file_error\",\n      \"F0001\": \"lock_file_exists\",\n      \"HV000\": \"fdw_error\",\n      \"HV005\": \"fdw_column_name_not_found\",\n      \"HV002\": \"fdw_dynamic_parameter_value_needed\",\n      \"HV010\": \"fdw_function_sequence_error\",\n      \"HV021\": \"fdw_inconsistent_descriptor_information\",\n      \"HV024\": \"fdw_invalid_attribute_value\",\n      \"HV007\": \"fdw_invalid_column_name\",\n      \"HV008\": \"fdw_invalid_column_number\",\n      \"HV004\": \"fdw_invalid_data_type\",\n      \"HV006\": \"fdw_invalid_data_type_descriptors\",\n      \"HV091\": \"fdw_invalid_descriptor_field_identifier\",\n      \"HV00B\": \"fdw_invalid_handle\",\n      \"HV00C\": \"fdw_invalid_option_index\",\n      \"HV00D\": \"fdw_invalid_option_name\",\n      \"HV090\": \"fdw_invalid_string_length_or_buffer_length\",\n      \"HV00A\": \"fdw_invalid_string_format\",\n      \"HV009\": \"fdw_invalid_use_of_null_pointer\",\n      \"HV014\": \"fdw_too_many_handles\",\n      \"HV001\": \"fdw_out_of_memory\",\n      \"HV00P\": \"fdw_no_schemas\",\n      \"HV00J\": \"fdw_option_name_not_found\",\n      \"HV00K\": \"fdw_reply_handle\",\n      \"HV00Q\": \"fdw_schema_not_found\",\n      \"HV00R\": \"fdw_table_not_found\",\n      \"HV00L\": \"fdw_unable_to_create_execution\",\n      \"HV00M\": \"fdw_unable_to_create_reply\",\n      \"HV00N\": \"fdw_unable_to_establish_connection\",\n      \"P0000\": \"plpgsql_error\",\n      \"P0001\": \"raise_exception\",\n      \"P0002\": \"no_data_found\",\n      \"P0003\": \"too_many_rows\",\n      \"P0004\": \"assert_failure\",\n      \"XX000\": \"internal_error\",\n      \"XX001\": \"data_corrupted\",\n      \"XX002\": \"index_corrupted\"\n\t]\n\n    // Method to get error message based on error code\n    String getErrorMessageForCode(String errorCode) {\n        return errorMap.getOrDefault(errorCode, \"Unknown error\")\n    }\n}\n\n// Retrieve the FlowFile from the session\ndef flowFile = session.get()\nif (flowFile != null) {\n    // Create the TransformCallback instance and pass the log\n    def transformCallback = new TransformCallback(log)\n\n    // Write the FlowFile using the callback\n    flowFile = session.write(flowFile, transformCallback)\n\tdef message = flowFile.getAttribute('message')\n    if (message) {\n        // Escape the message\n        def escapedMessage = transformCallback.escapeJsonString(message)\n        // Add the escaped message back to a new attribute\n        flowFile = session.putAttribute(flowFile, \"message\", escapedMessage)\n    }\n    // Add the extracted ids as a single attribute (failed_ids)\n\tif (transformCallback.ids) {\n        // Create a JSON string with the ids as an array\n        def failedIdsJson = JsonOutput.toJson([ids: transformCallback.ids])\n        flowFile = session.putAttribute(flowFile, \"additional_metadata\", failedIdsJson)\n    }\n\tdef errorCode = flowFile.getAttribute('error.sql.state')\n\n    if (errorCode) {\n        // Get the error message for the code\n        def existingErrorMessage = flowFile.getAttribute('message') ?: \"\"\n        def errorMessage = transformCallback.getErrorMessageForCode(errorCode)\n        // Set the error message as a new attribute\n        flowFile = session.putAttribute(flowFile, \"message\", existingErrorMessage + errorMessage)\n    }\n\n    // Transfer to the appropriate relationship\n    if (transformCallback.errorOccurred || transformCallback.validationFailed) {\n        session.transfer(flowFile, REL_FAILURE)\n    } else {\n        session.transfer(flowFile, REL_SUCCESS)\n    }\n}","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":2,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"5 sec","componentType":"PROCESSOR","groupIdentifier":"f0e8bb50-eec8-3103-83b9-42abfb8ca863"}],"inputPorts":[{"identifier":"e7868abc-2bc1-39b8-87c5-9abab16e37e9","instanceIdentifier":"11a236cd-10eb-12c2-b74d-46ac42b8e324","name":"audit_log_ip","position":{"x":464.0,"y":0.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"f0e8bb50-eec8-3103-83b9-42abfb8ca863"}],"outputPorts":[],"connections":[{"identifier":"c8457300-3e83-32c1-aa0e-7702cb191d8f","instanceIdentifier":"4dec3fee-8950-11cc-9bc5-8c5a5128e094","name":"","source":{"id":"eef33e83-1554-33d4-a8ef-ca2890042296","type":"PROCESSOR","groupId":"f0e8bb50-eec8-3103-83b9-42abfb8ca863","name":"RouteOnSuccess Flow","comments":"","instanceIdentifier":"d25030ec-6916-1dd6-84b6-e73e02689ac1"},"destination":{"id":"af4cfba2-bf86-3a60-bb8e-6b189e86cde5","type":"PROCESSOR","groupId":"f0e8bb50-eec8-3103-83b9-42abfb8ca863","name":"Extract Ids","comments":"","instanceIdentifier":"13183065-edd4-11a2-9447-cae128aabd5b"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success_flow"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f0e8bb50-eec8-3103-83b9-42abfb8ca863"},{"identifier":"fdda2eea-5c9d-329f-877c-e874ffeddf63","instanceIdentifier":"b0f13f51-0dc0-11fb-a14d-3301bcde770a","name":"","source":{"id":"af4cfba2-bf86-3a60-bb8e-6b189e86cde5","type":"PROCESSOR","groupId":"f0e8bb50-eec8-3103-83b9-42abfb8ca863","name":"Extract Ids","comments":"","instanceIdentifier":"13183065-edd4-11a2-9447-cae128aabd5b"},"destination":{"id":"80798169-c9e0-3381-b600-81ffa5f76e75","type":"INPUT_PORT","groupId":"d76e909c-34ab-30d2-9759-28dbff424771","name":"ip_port","instanceIdentifier":"23bc3e8a-748a-1c4d-8abb-86a50d264a41"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f0e8bb50-eec8-3103-83b9-42abfb8ca863"},{"identifier":"edd35b52-189d-3e25-b310-454bf8432872","instanceIdentifier":"c4a43e0b-7ee9-17c0-95c4-d244f6752e3b","name":"","source":{"id":"e7868abc-2bc1-39b8-87c5-9abab16e37e9","type":"INPUT_PORT","groupId":"f0e8bb50-eec8-3103-83b9-42abfb8ca863","name":"audit_log_ip","instanceIdentifier":"11a236cd-10eb-12c2-b74d-46ac42b8e324"},"destination":{"id":"eef33e83-1554-33d4-a8ef-ca2890042296","type":"PROCESSOR","groupId":"f0e8bb50-eec8-3103-83b9-42abfb8ca863","name":"RouteOnSuccess Flow","comments":"","instanceIdentifier":"d25030ec-6916-1dd6-84b6-e73e02689ac1"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f0e8bb50-eec8-3103-83b9-42abfb8ca863"},{"identifier":"f754a599-74fb-3e29-8156-5ab161b3e632","instanceIdentifier":"54933b64-8639-1d17-b9e8-219ca8b27586","name":"","source":{"id":"eef33e83-1554-33d4-a8ef-ca2890042296","type":"PROCESSOR","groupId":"f0e8bb50-eec8-3103-83b9-42abfb8ca863","name":"RouteOnSuccess Flow","comments":"","instanceIdentifier":"d25030ec-6916-1dd6-84b6-e73e02689ac1"},"destination":{"id":"886d23a0-e10c-3376-9d7e-92bb8a064969","type":"PROCESSOR","groupId":"f0e8bb50-eec8-3103-83b9-42abfb8ca863","name":"Extract FailedIds","comments":"","instanceIdentifier":"56e733a4-d3fb-1c6a-a95c-592cde71e6b8"},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f0e8bb50-eec8-3103-83b9-42abfb8ca863"},{"identifier":"8562802b-af65-3c29-936b-170d4d830f96","instanceIdentifier":"85e53ae5-9a43-1cc9-9829-993fd568d40a","name":"","source":{"id":"886d23a0-e10c-3376-9d7e-92bb8a064969","type":"PROCESSOR","groupId":"f0e8bb50-eec8-3103-83b9-42abfb8ca863","name":"Extract FailedIds","comments":"","instanceIdentifier":"56e733a4-d3fb-1c6a-a95c-592cde71e6b8"},"destination":{"id":"80798169-c9e0-3381-b600-81ffa5f76e75","type":"INPUT_PORT","groupId":"d76e909c-34ab-30d2-9759-28dbff424771","name":"ip_port","instanceIdentifier":"23bc3e8a-748a-1c4d-8abb-86a50d264a41"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f0e8bb50-eec8-3103-83b9-42abfb8ca863"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"b172deae-91d1-3b64-a4fc-57ce504b78ae"}],"remoteProcessGroups":[],"processors":[{"identifier":"1e1bc87f-7683-3ea3-80b3-f776ed69b712","instanceIdentifier":"f07a358a-3df0-1777-9f30-d2332afca051","name":"Build Success Error Messages","comments":"","position":{"x":1536.0,"y":1704.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"annotationData":"<criteria>\n    <flowFilePolicy>USE_ORIGINAL</flowFilePolicy>\n    <rules>\n        <actions>\n            <attribute>error_code</attribute>\n            <id>48d2b93f-69a2-4d7a-af6a-1f073afcc237</id>\n            <value>${error.sql.state}</value>\n        </actions>\n        <actions>\n            <attribute>metadata</attribute>\n            <id>7c597693-a630-4522-a420-f19512c335d2</id>\n            <value>${extras}</value>\n        </actions>\n        <actions>\n            <attribute>message</attribute>\n            <id>2ab4cd03-1daa-46dd-837b-a1029eda23a6</id>\n            <value>Failed to Upsert ${module} Data to Datawarehouse with error message: ${error.message:isNull():ifElse(${putdatabaserecord.error},${error.message})}</value>\n        </actions>\n        <actions>\n            <attribute>log_level</attribute>\n            <id>0f28fc54-d28c-4576-ad0c-62f79db78ff6</id>\n            <value>${#{log_config}:jsonPath('$.log_level.error')}</value>\n        </actions>\n        <actions>\n            <attribute>is_error</attribute>\n            <id>610d06f2-6862-400f-b61f-0055867331d7</id>\n            <value>true</value>\n        </actions>\n        <comments></comments>\n        <conditions>\n            <expression>${event_type:equals(${et_db_connect}):and(${error.sql.state:notNull():or(${putdatabaserecord.error:notNull()})})}</expression>\n            <id>f25c94f4-b16f-41ff-926d-5ac4b969a38e</id>\n        </conditions>\n        <id>6deb9b1a-7d32-429a-9292-5a5819b90770</id>\n        <name>db_connect_event_error</name>\n    </rules>\n    <rules>\n        <actions>\n            <attribute>metadata</attribute>\n            <id>7c597693-a630-4522-a420-f19512c335d2</id>\n            <value>${extras}</value>\n        </actions>\n        <actions>\n            <attribute>message</attribute>\n            <id>2ab4cd03-1daa-46dd-837b-a1029eda23a6</id>\n            <value>Succesfully upserted ${module} data to Datawarehouse.</value>\n        </actions>\n        <actions>\n            <attribute>log_level</attribute>\n            <id>0f28fc54-d28c-4576-ad0c-62f79db78ff6</id>\n            <value>${#{log_config}:jsonPath('$.log_level.info')}</value>\n        </actions>\n        <comments></comments>\n        <conditions>\n            <expression>${event_type:equals(${et_db_connect}):and(${error.sql.state:isNull():and(${putdatabaserecord.error:isNull()})})}</expression>\n            <id>f25c94f4-b16f-41ff-926d-5ac4b969a38e</id>\n        </conditions>\n        <id>68e5a00b-cc19-4e94-8ae8-e756a6a26fb0</id>\n        <name>db_connect_event_success</name>\n    </rules>\n    <rules>\n        <actions>\n            <attribute>is_error</attribute>\n            <id>18bbf29a-8372-47fa-bf64-498fb71b974d</id>\n            <value>true</value>\n        </actions>\n        <actions>\n            <attribute>message</attribute>\n            <id>2ab4cd03-1daa-46dd-837b-a1029eda23a6</id>\n            <value>Failed to receive data from queue. ${error.message}.</value>\n        </actions>\n        <actions>\n            <attribute>log_level</attribute>\n            <id>0f28fc54-d28c-4576-ad0c-62f79db78ff6</id>\n            <value>${#{log_config}:jsonPath('$.log_level.error')}</value>\n        </actions>\n        <actions>\n            <attribute>metadata</attribute>\n            <id>7c597693-a630-4522-a420-f19512c335d2</id>\n            <value>${extras}</value>\n        </actions>\n        <actions>\n            <attribute>extras</attribute>\n            <id>a1f1d475-d5dd-4f76-a985-afd267a1fae1</id>\n            <value>${extras}</value>\n        </actions>\n        <comments></comments>\n        <conditions>\n            <expression>${event_type:equals(${et_queue_consume}):and(${error.message:notNull()})}</expression>\n            <id>f25c94f4-b16f-41ff-926d-5ac4b969a38e</id>\n        </conditions>\n        <id>b2d667b7-398f-4052-95b8-47a60a29a1cf</id>\n        <name>queue_consume_event_error</name>\n    </rules>\n    <rules>\n        <actions>\n            <attribute>metadata</attribute>\n            <id>7c597693-a630-4522-a420-f19512c335d2</id>\n            <value>${extras}</value>\n        </actions>\n        <actions>\n            <attribute>message</attribute>\n            <id>2ab4cd03-1daa-46dd-837b-a1029eda23a6</id>\n            <value>Succesfully consumed data from RabbitMq under queue name: ${'amqp$routingKey'}</value>\n        </actions>\n        <actions>\n            <attribute>log_level</attribute>\n            <id>0f28fc54-d28c-4576-ad0c-62f79db78ff6</id>\n            <value>${#{log_config}:jsonPath('$.log_level.info')}</value>\n        </actions>\n        <comments></comments>\n        <conditions>\n            <expression>${event_type:equals(${et_queue_consume}):and(${error.message:isNull()})}</expression>\n            <id>f25c94f4-b16f-41ff-926d-5ac4b969a38e</id>\n        </conditions>\n        <id>7ba14832-e88a-4bab-9723-7a0eeeb23f48</id>\n        <name>queue_consume_event_success</name>\n    </rules>\n    <rules>\n        <actions>\n            <attribute>metadata</attribute>\n            <id>7c597693-a630-4522-a420-f19512c335d2</id>\n            <value>${extras}</value>\n        </actions>\n        <actions>\n            <attribute>message</attribute>\n            <id>2ab4cd03-1daa-46dd-837b-a1029eda23a6</id>\n            <value>Failed to publish data to queue. ${error.message}.</value>\n        </actions>\n        <actions>\n            <attribute>is_error</attribute>\n            <id>9034b054-3d49-4888-a404-f6d6c033aa09</id>\n            <value>true</value>\n        </actions>\n        <actions>\n            <attribute>log_level</attribute>\n            <id>0f28fc54-d28c-4576-ad0c-62f79db78ff6</id>\n            <value>${#{log_config}:jsonPath('$.log_level.error')}</value>\n        </actions>\n        <comments></comments>\n        <conditions>\n            <expression>${event_type:equals(${et_queue_publish}):and(${error.message:notNull()})}</expression>\n            <id>f25c94f4-b16f-41ff-926d-5ac4b969a38e</id>\n        </conditions>\n        <id>e877ed2b-e22e-438c-af9f-0147b5fe7286</id>\n        <name>queue_publish_event_error</name>\n    </rules>\n    <rules>\n        <actions>\n            <attribute>log_level</attribute>\n            <id>0f28fc54-d28c-4576-ad0c-62f79db78ff6</id>\n            <value>${#{log_config}:jsonPath('$.log_level.info')}</value>\n        </actions>\n        <actions>\n            <attribute>message</attribute>\n            <id>2ab4cd03-1daa-46dd-837b-a1029eda23a6</id>\n            <value>Succesfully published data to queue.</value>\n        </actions>\n        <actions>\n            <attribute>metadata</attribute>\n            <id>7c597693-a630-4522-a420-f19512c335d2</id>\n            <value>${extras}</value>\n        </actions>\n        <comments></comments>\n        <conditions>\n            <expression>${event_type:equals(${et_queue_publish}):and(${error.message:isNull()})}</expression>\n            <id>f25c94f4-b16f-41ff-926d-5ac4b969a38e</id>\n        </conditions>\n        <id>6b782b2e-272e-4edc-b289-6ce5e779e270</id>\n        <name>queue_publish_event_success</name>\n    </rules>\n    <rules>\n        <actions>\n            <attribute>message</attribute>\n            <id>2ab4cd03-1daa-46dd-837b-a1029eda23a6</id>\n            <value>Failed to receive data from S3. ${error.message}.</value>\n        </actions>\n        <actions>\n            <attribute>metadata</attribute>\n            <id>7c597693-a630-4522-a420-f19512c335d2</id>\n            <value>${extras}</value>\n        </actions>\n        <actions>\n            <attribute>log_level</attribute>\n            <id>0f28fc54-d28c-4576-ad0c-62f79db78ff6</id>\n            <value>${#{log_config}:jsonPath('$.log_level.error')}</value>\n        </actions>\n        <actions>\n            <attribute>is_error</attribute>\n            <id>7765995e-6707-4fbf-a897-55f9f1009cc9</id>\n            <value>true</value>\n        </actions>\n        <comments></comments>\n        <conditions>\n            <expression>${event_type:equals(${et_s3_consume}):and(${error.message:notNull()})}</expression>\n            <id>f25c94f4-b16f-41ff-926d-5ac4b969a38e</id>\n        </conditions>\n        <id>cf899913-f9d6-46b9-97c9-3ffd65e88f18</id>\n        <name>s3_consume_event_error</name>\n    </rules>\n    <rules>\n        <actions>\n            <attribute>message</attribute>\n            <id>2ab4cd03-1daa-46dd-837b-a1029eda23a6</id>\n            <value>Succesfully fetched file from S3 - ${original_file_name}</value>\n        </actions>\n        <actions>\n            <attribute>log_level</attribute>\n            <id>0f28fc54-d28c-4576-ad0c-62f79db78ff6</id>\n            <value>${#{log_config}:jsonPath('$.log_level.info')}</value>\n        </actions>\n        <actions>\n            <attribute>metadata</attribute>\n            <id>7c597693-a630-4522-a420-f19512c335d2</id>\n            <value>${extras}</value>\n        </actions>\n        <comments></comments>\n        <conditions>\n            <expression>${event_type:equals(${et_s3_consume}):and(${error.message:isNull()})}</expression>\n            <id>f25c94f4-b16f-41ff-926d-5ac4b969a38e</id>\n        </conditions>\n        <id>7f0d21df-b265-4637-919e-62cbc90a7fbc</id>\n        <name>s3_consume_event_success</name>\n    </rules>\n    <rules>\n        <actions>\n            <attribute>message</attribute>\n            <id>2ab4cd03-1daa-46dd-837b-a1029eda23a6</id>\n            <value>Failed to publish data to S3. ${error.message}.</value>\n        </actions>\n        <actions>\n            <attribute>is_error</attribute>\n            <id>e4d1e1bb-802d-47ce-8bff-99dc35a719d6</id>\n            <value>true</value>\n        </actions>\n        <actions>\n            <attribute>log_level</attribute>\n            <id>0f28fc54-d28c-4576-ad0c-62f79db78ff6</id>\n            <value>${#{log_config}:jsonPath('$.log_level.error')}</value>\n        </actions>\n        <actions>\n            <attribute>metadata</attribute>\n            <id>7c597693-a630-4522-a420-f19512c335d2</id>\n            <value>${extras}</value>\n        </actions>\n        <comments></comments>\n        <conditions>\n            <expression>${event_type:equals(${et_s3_publish}):and(${error.message:notNull()})}</expression>\n            <id>f25c94f4-b16f-41ff-926d-5ac4b969a38e</id>\n        </conditions>\n        <id>030fa0be-2ed0-451a-aa27-cfbf53cbe5b6</id>\n        <name>s3_publish_event_error</name>\n    </rules>\n    <rules>\n        <actions>\n            <attribute>log_level</attribute>\n            <id>0f28fc54-d28c-4576-ad0c-62f79db78ff6</id>\n            <value>${#{log_config}:jsonPath('$.log_level.info')}</value>\n        </actions>\n        <actions>\n            <attribute>message</attribute>\n            <id>2ab4cd03-1daa-46dd-837b-a1029eda23a6</id>\n            <value>Succesfully uploaded data to S3.</value>\n        </actions>\n        <actions>\n            <attribute>metadata</attribute>\n            <id>7c597693-a630-4522-a420-f19512c335d2</id>\n            <value>${extras}</value>\n        </actions>\n        <comments></comments>\n        <conditions>\n            <expression>${event_type:equals(${et_s3_publish}):and(${error.message:isNull()})}</expression>\n            <id>f25c94f4-b16f-41ff-926d-5ac4b969a38e</id>\n        </conditions>\n        <id>8b38740f-425d-43f1-828c-a6df9f313e0b</id>\n        <name>s3_publish_event_success</name>\n    </rules>\n    <rules>\n        <actions>\n            <attribute>metadata</attribute>\n            <id>7c597693-a630-4522-a420-f19512c335d2</id>\n            <value>${extras}</value>\n        </actions>\n        <actions>\n            <attribute>message</attribute>\n            <id>2ab4cd03-1daa-46dd-837b-a1029eda23a6</id>\n            <value>Validation Failed for ${module} data. ${error.message}.</value>\n        </actions>\n        <actions>\n            <attribute>is_error</attribute>\n            <id>1d784b9e-496c-4a00-86e1-f38202ccafca</id>\n            <value>true</value>\n        </actions>\n        <actions>\n            <attribute>log_level</attribute>\n            <id>0f28fc54-d28c-4576-ad0c-62f79db78ff6</id>\n            <value>${#{log_config}:jsonPath('$.log_level.error')}</value>\n        </actions>\n        <comments></comments>\n        <conditions>\n            <expression>${event_type:equals(${et_validation}):and(${error.message:notNull()})}</expression>\n            <id>f25c94f4-b16f-41ff-926d-5ac4b969a38e</id>\n        </conditions>\n        <id>6d745d83-c141-4a10-86f1-be7f0f33fd55</id>\n        <name>validation_event_error</name>\n    </rules>\n    <rules>\n        <actions>\n            <attribute>metadata</attribute>\n            <id>7c597693-a630-4522-a420-f19512c335d2</id>\n            <value>${extras}</value>\n        </actions>\n        <actions>\n            <attribute>message</attribute>\n            <id>2ab4cd03-1daa-46dd-837b-a1029eda23a6</id>\n            <value>Validation Success for ${module} data. </value>\n        </actions>\n        <actions>\n            <attribute>log_level</attribute>\n            <id>0f28fc54-d28c-4576-ad0c-62f79db78ff6</id>\n            <value>${#{log_config}:jsonPath('$.log_level.info')}</value>\n        </actions>\n        <comments></comments>\n        <conditions>\n            <expression>${event_type:equals(${et_validation}):and(${error.message:isNull()})}</expression>\n            <id>f25c94f4-b16f-41ff-926d-5ac4b969a38e</id>\n        </conditions>\n        <id>dd78c82c-7467-43a3-b71d-4943e0dd9174</id>\n        <name>validation_event_success</name>\n    </rules>\n    <rules>\n        <actions>\n            <attribute>metadata</attribute>\n            <id>7c597693-a630-4522-a420-f19512c335d2</id>\n            <value>${extras}</value>\n        </actions>\n        <actions>\n            <attribute>error_code</attribute>\n            <id>0a7dc2ee-9cf5-4de4-8c12-1ea9d4bc8616</id>\n            <value>${statusCode}</value>\n        </actions>\n        <actions>\n            <attribute>log_level</attribute>\n            <id>0f28fc54-d28c-4576-ad0c-62f79db78ff6</id>\n            <value>${#{log_config}:jsonPath('$.log_level.error')}</value>\n        </actions>\n        <actions>\n            <attribute>is_error</attribute>\n            <id>1d784b9e-496c-4a00-86e1-f38202ccafca</id>\n            <value>true</value>\n        </actions>\n        <actions>\n            <attribute>message</attribute>\n            <id>2ab4cd03-1daa-46dd-837b-a1029eda23a6</id>\n            <value>Invalid API Call - ${message}</value>\n        </actions>\n        <comments></comments>\n        <conditions>\n            <expression>${event_type:equals(${et_api_request}):and(${error.message:notNull()})}</expression>\n            <id>f25c94f4-b16f-41ff-926d-5ac4b969a38e</id>\n        </conditions>\n        <id>95f09665-7ae0-439a-9105-680154b597af</id>\n        <name>api_request_error</name>\n    </rules>\n    <rules>\n        <actions>\n            <attribute>log_level</attribute>\n            <id>0f28fc54-d28c-4576-ad0c-62f79db78ff6</id>\n            <value>${#{log_config}:jsonPath('$.log_level.info')}</value>\n        </actions>\n        <actions>\n            <attribute>message</attribute>\n            <id>2ab4cd03-1daa-46dd-837b-a1029eda23a6</id>\n            <value>Valid API Call - ${message}</value>\n        </actions>\n        <actions>\n            <attribute>metadata</attribute>\n            <id>7c597693-a630-4522-a420-f19512c335d2</id>\n            <value>${extras}</value>\n        </actions>\n        <comments></comments>\n        <conditions>\n            <expression>${event_type:equals(${et_api_request}):and(${error.message:isNull()})}</expression>\n            <id>f25c94f4-b16f-41ff-926d-5ac4b969a38e</id>\n        </conditions>\n        <id>d7d3ac97-8bf6-4988-86c6-5a24bbafce2a</id>\n        <name>api_request_success</name>\n    </rules>\n    <rules>\n        <actions>\n            <attribute>log_level</attribute>\n            <id>0f28fc54-d28c-4576-ad0c-62f79db78ff6</id>\n            <value>${#{log_config}:jsonPath('$.log_level.error')}</value>\n        </actions>\n        <actions>\n            <attribute>metadata</attribute>\n            <id>7c597693-a630-4522-a420-f19512c335d2</id>\n            <value>${extras}</value>\n        </actions>\n        <actions>\n            <attribute>message</attribute>\n            <id>2ab4cd03-1daa-46dd-837b-a1029eda23a6</id>\n            <value>Error Occurred. ${error.message}.</value>\n        </actions>\n        <actions>\n            <attribute>is_error</attribute>\n            <id>acd5e108-8911-4f99-bb21-0131bb2e7f1b</id>\n            <value>true</value>\n        </actions>\n        <comments></comments>\n        <conditions>\n            <expression>${event_type:isEmpty():and(${error.message:notNull()})}</expression>\n            <id>f25c94f4-b16f-41ff-926d-5ac4b969a38e</id>\n        </conditions>\n        <id>a41cc871-1b83-4277-b7d4-f27ba6aa3b64</id>\n        <name>unmatched_event_error</name>\n    </rules>\n    <rules>\n        <actions>\n            <attribute>metadata</attribute>\n            <id>7c597693-a630-4522-a420-f19512c335d2</id>\n            <value>${extras}</value>\n        </actions>\n        <actions>\n            <attribute>message</attribute>\n            <id>2ab4cd03-1daa-46dd-837b-a1029eda23a6</id>\n            <value>Succesfully processed data.</value>\n        </actions>\n        <actions>\n            <attribute>log_level</attribute>\n            <id>0f28fc54-d28c-4576-ad0c-62f79db78ff6</id>\n            <value>${#{log_config}:jsonPath('$.log_level.info')}</value>\n        </actions>\n        <comments></comments>\n        <conditions>\n            <expression>${event_type:isEmpty():and(${error.message:isNull()})}</expression>\n            <id>f25c94f4-b16f-41ff-926d-5ac4b969a38e</id>\n        </conditions>\n        <id>0d965674-d67a-48cd-b822-ee35f0b257ac</id>\n        <name>unmatched_event_success</name>\n    </rules>\n</criteria>","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"b172deae-91d1-3b64-a4fc-57ce504b78ae"},{"identifier":"10b0db15-b73d-3b06-8242-1569da3c1ad2","instanceIdentifier":"b9113692-fd24-1b52-87eb-543716de4f30","name":"CommonAttributes","comments":"","position":{"x":1536.0,"y":1448.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"et_queue_consume":"${#{log_config}:jsonPath('$.event_type.queue_consume')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","is_retry":"${flowfile.retries:isEmpty():not()}","Stateful Variables Initial Value":null,"et_db_connect":"${#{log_config}:jsonPath('$.event_type.db_connect')}","event_timestamp":"${now():format(\"yyyy-MM-dd HH:mm:ss\")}","et_queue_publish":"${#{log_config}:jsonPath('$.event_type.queue_publish')}","Delete Attributes Expression":null,"system":"${#{log_config}:jsonPath('$.system_name.nifi')}","et_s3_publish":"${#{log_config}:jsonPath('$.event_type.s3_publish')}","retry_count":"${flowfile.retries}","et_s3_consume":"${#{log_config}:jsonPath('$.event_type.s3_consume')}","is_error":"${error.sql.state:isEmpty():not()}","et_validation":"${#{log_config}:jsonPath('$.event_type.validation')}","trans_type":"${#{log_config}:jsonPath('$.log_type.trans_type')}","et_api_request":"${#{log_config}:jsonPath('$.event_type.api_request')}","audit_type":"${#{log_config}:jsonPath('$.log_type.audit_type')}"},"propertyDescriptors":{"et_queue_consume":{"name":"et_queue_consume","displayName":"et_queue_consume","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"is_retry":{"name":"is_retry","displayName":"is_retry","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"et_db_connect":{"name":"et_db_connect","displayName":"et_db_connect","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false},"et_queue_publish":{"name":"et_queue_publish","displayName":"et_queue_publish","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"system":{"name":"system","displayName":"system","identifiesControllerService":false,"sensitive":false},"et_s3_publish":{"name":"et_s3_publish","displayName":"et_s3_publish","identifiesControllerService":false,"sensitive":false},"retry_count":{"name":"retry_count","displayName":"retry_count","identifiesControllerService":false,"sensitive":false},"et_s3_consume":{"name":"et_s3_consume","displayName":"et_s3_consume","identifiesControllerService":false,"sensitive":false},"is_error":{"name":"is_error","displayName":"is_error","identifiesControllerService":false,"sensitive":false},"et_validation":{"name":"et_validation","displayName":"et_validation","identifiesControllerService":false,"sensitive":false},"trans_type":{"name":"trans_type","displayName":"trans_type","identifiesControllerService":false,"sensitive":false},"et_api_request":{"name":"et_api_request","displayName":"et_api_request","identifiesControllerService":false,"sensitive":false},"audit_type":{"name":"audit_type","displayName":"audit_type","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"b172deae-91d1-3b64-a4fc-57ce504b78ae"},{"identifier":"3daea671-02ae-38a6-a0f6-a69fa1777998","instanceIdentifier":"2e413633-04cf-1758-b2cf-4744a81ff8fe","name":"RouteOnLogType","comments":"","position":{"x":1536.0,"y":1976.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Routing Strategy":"Route to Property name","trans_log":"${log_type:contains(${trans_type})}","audit_type":"${log_type:contains(${audit_type})}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"trans_log":{"name":"trans_log","displayName":"trans_log","identifiesControllerService":false,"sensitive":false},"audit_type":{"name":"audit_type","displayName":"audit_type","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"b172deae-91d1-3b64-a4fc-57ce504b78ae"}],"inputPorts":[{"identifier":"6bf74781-2291-3357-8a57-8e0b60cfb40b","instanceIdentifier":"b7e83d18-d09c-1a9a-897a-23c9baef5b31","name":"logger_ip_port","comments":"","position":{"x":1592.0,"y":1320.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"b172deae-91d1-3b64-a4fc-57ce504b78ae"}],"outputPorts":[],"connections":[{"identifier":"0d5e8e31-4035-3de5-84ea-5bfef7cf2c6f","instanceIdentifier":"f07a36f2-3df0-1777-0000-000018973e4c","name":"","source":{"id":"1e1bc87f-7683-3ea3-80b3-f776ed69b712","type":"PROCESSOR","groupId":"b172deae-91d1-3b64-a4fc-57ce504b78ae","name":"Build Success Error Messages","comments":"","instanceIdentifier":"f07a358a-3df0-1777-9f30-d2332afca051"},"destination":{"id":"3daea671-02ae-38a6-a0f6-a69fa1777998","type":"PROCESSOR","groupId":"b172deae-91d1-3b64-a4fc-57ce504b78ae","name":"RouteOnLogType","comments":"","instanceIdentifier":"2e413633-04cf-1758-b2cf-4744a81ff8fe"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b172deae-91d1-3b64-a4fc-57ce504b78ae"},{"identifier":"6e2b8736-3f35-302c-b100-694ac32838a3","instanceIdentifier":"b41d3b69-aa4f-1674-b8df-75f02831d8c1","name":"","source":{"id":"3daea671-02ae-38a6-a0f6-a69fa1777998","type":"PROCESSOR","groupId":"b172deae-91d1-3b64-a4fc-57ce504b78ae","name":"RouteOnLogType","comments":"","instanceIdentifier":"2e413633-04cf-1758-b2cf-4744a81ff8fe"},"destination":{"id":"e7868abc-2bc1-39b8-87c5-9abab16e37e9","type":"INPUT_PORT","groupId":"f0e8bb50-eec8-3103-83b9-42abfb8ca863","name":"audit_log_ip","instanceIdentifier":"11a236cd-10eb-12c2-b74d-46ac42b8e324"},"labelIndex":0,"zIndex":0,"selectedRelationships":["audit_type"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b172deae-91d1-3b64-a4fc-57ce504b78ae"},{"identifier":"b2396c12-33f4-3786-bcf3-c873db354973","instanceIdentifier":"a611324d-580a-1782-842d-1e299aa78094","name":"","source":{"id":"3daea671-02ae-38a6-a0f6-a69fa1777998","type":"PROCESSOR","groupId":"b172deae-91d1-3b64-a4fc-57ce504b78ae","name":"RouteOnLogType","comments":"","instanceIdentifier":"2e413633-04cf-1758-b2cf-4744a81ff8fe"},"destination":{"id":"01b87aaf-ab16-3c21-980c-60e6123e80ba","type":"INPUT_PORT","groupId":"460f1d36-b3a3-3dbb-ba55-d9f07e663254","name":"trans_ip_port","instanceIdentifier":"a88f3e7c-5533-1e6e-837e-a028a88f1bdf"},"labelIndex":1,"zIndex":0,"selectedRelationships":["trans_log"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b172deae-91d1-3b64-a4fc-57ce504b78ae"},{"identifier":"f5449601-9b07-36fa-a102-77bb0d86fac8","instanceIdentifier":"e811390f-9df6-10ad-a7c3-7d6005a64436","name":"","source":{"id":"6bf74781-2291-3357-8a57-8e0b60cfb40b","type":"INPUT_PORT","groupId":"b172deae-91d1-3b64-a4fc-57ce504b78ae","name":"logger_ip_port","comments":"","instanceIdentifier":"b7e83d18-d09c-1a9a-897a-23c9baef5b31"},"destination":{"id":"10b0db15-b73d-3b06-8242-1569da3c1ad2","type":"PROCESSOR","groupId":"b172deae-91d1-3b64-a4fc-57ce504b78ae","name":"CommonAttributes","comments":"","instanceIdentifier":"b9113692-fd24-1b52-87eb-543716de4f30"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b172deae-91d1-3b64-a4fc-57ce504b78ae"},{"identifier":"4572b9d9-b364-3288-928c-b9dd7d62d926","instanceIdentifier":"41693884-1a24-1892-8c89-ce4d7acb41a0","name":"","source":{"id":"10b0db15-b73d-3b06-8242-1569da3c1ad2","type":"PROCESSOR","groupId":"b172deae-91d1-3b64-a4fc-57ce504b78ae","name":"CommonAttributes","comments":"","instanceIdentifier":"b9113692-fd24-1b52-87eb-543716de4f30"},"destination":{"id":"1e1bc87f-7683-3ea3-80b3-f776ed69b712","type":"PROCESSOR","groupId":"b172deae-91d1-3b64-a4fc-57ce504b78ae","name":"Build Success Error Messages","comments":"","instanceIdentifier":"f07a358a-3df0-1777-9f30-d2332afca051"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b172deae-91d1-3b64-a4fc-57ce504b78ae"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{"db_name":"idw"},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"ebb2785d-4922-38f6-8742-b6a4e3e95c41"},{"identifier":"e1772894-f075-3819-83b8-d4459bf746e3","instanceIdentifier":"6517f3cd-0195-1000-0000-000054ef754c","name":"Participant","comments":"","position":{"x":544.0,"y":-608.0},"processGroups":[{"identifier":"053624e6-6e44-38e6-ac1b-5168d319f71e","instanceIdentifier":"651b8e4a-0195-1000-ffff-ffffd298183d","name":"SharedDB","comments":"","position":{"x":-132.51568095744574,"y":298.7748280500561},"processGroups":[{"identifier":"6f03e191-604d-340a-a5d4-9b5c9d2cb419","instanceIdentifier":"8e9c306d-0004-1539-96aa-3932ea8932c5","name":"person_email","comments":"","position":{"x":472.0,"y":872.0},"processGroups":[{"identifier":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","instanceIdentifier":"75163356-0346-153e-9c25-f0b2c4a9c1fc","name":"FRAME LOGS","comments":"","position":{"x":1040.0,"y":360.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"c811201e-6830-30a9-a373-25d1355a63a8","instanceIdentifier":"82a73161-c6d5-1750-9109-89cd79190891","name":"Consume Message Attribute","comments":"","position":{"x":416.0,"y":200.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"${flow_name}- person_email SharedDB","flow_name":"${flow_name}","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"d4cae624-5b59-30c1-a33a-6e693e3a5adb"}],"inputPorts":[{"identifier":"69c38982-4205-35c8-8503-c742a525b3bf","instanceIdentifier":"a6513632-dd90-17cb-ad1b-aaf29f5dec19","name":"log_ip_port","position":{"x":472.0,"y":64.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"d4cae624-5b59-30c1-a33a-6e693e3a5adb"}],"outputPorts":[{"identifier":"a88ac5a0-8497-357d-a932-9898df7af4b8","instanceIdentifier":"61b63352-ff91-1b27-afaa-08c89dd30dee","name":"log_op_port","position":{"x":472.0,"y":408.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"d4cae624-5b59-30c1-a33a-6e693e3a5adb"}],"connections":[{"identifier":"cd44e86c-4d10-3c98-a625-1237b563c6b7","instanceIdentifier":"6bba3df1-c5bb-1e77-a3af-75b72d157a77","name":"","source":{"id":"c811201e-6830-30a9-a373-25d1355a63a8","type":"PROCESSOR","groupId":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","name":"Consume Message Attribute","comments":"","instanceIdentifier":"82a73161-c6d5-1750-9109-89cd79190891"},"destination":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","name":"log_op_port","instanceIdentifier":"61b63352-ff91-1b27-afaa-08c89dd30dee"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d4cae624-5b59-30c1-a33a-6e693e3a5adb"},{"identifier":"6202c6d2-2cac-3c05-8765-2510bb5c53e6","instanceIdentifier":"27e33136-2443-1e2e-bd37-b4cebd194cf4","name":"","source":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","name":"log_ip_port","instanceIdentifier":"a6513632-dd90-17cb-ad1b-aaf29f5dec19"},"destination":{"id":"c811201e-6830-30a9-a373-25d1355a63a8","type":"PROCESSOR","groupId":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","name":"Consume Message Attribute","comments":"","instanceIdentifier":"82a73161-c6d5-1750-9109-89cd79190891"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d4cae624-5b59-30c1-a33a-6e693e3a5adb"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"6f03e191-604d-340a-a5d4-9b5c9d2cb419"}],"remoteProcessGroups":[],"processors":[{"identifier":"01e8ad5d-9795-3ee8-a9fe-6a4389a1ffdb","instanceIdentifier":"162f3685-c6b5-1eb8-860d-eba55ac90dcc","name":"PutSQL - person_email ","comments":"","position":{"x":1056.0,"y":136.0},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":"INSERT INTO ${shared_db_schema_name}.person_email (person_key,client_key,email,is_primary,is_active,created_by,created_date,updated_by,updated_date)\nSELECT '${person_id_pkey}',(select client_key from ${shared_db_schema_name}.client\twhere is_active =true and is_deleted= false and sap_client_id = '${sapClientId}' LIMIT 1\n),'${email}',CAST(NULLIF('${is_primary}','') AS BOOLEAN),CAST(NULLIF('${is_active}','') AS BOOLEAN),'NiFi', \n    CURRENT_TIMESTAMP, \n    'NiFi', \n    CURRENT_TIMESTAMP\nON CONFLICT (person_key,email)\nDO UPDATE SET\n\tperson_key = EXCLUDED.person_key,\n    client_key = EXCLUDED.client_key,\n\tis_primary = EXCLUDED.is_primary,\n    is_active = EXCLUDED.is_active,\n\tupdated_date=EXCLUDED.updated_date;","Transaction Timeout":null,"Batch Size":"100","Obtain Generated Keys":"true","JDBC Connection Pool":"dacee7ee-ad8e-3883-b066-600093c8c337","database-session-autocommit":"true","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":5,"retriedRelationships":["failure","retry"],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"5 sec","componentType":"PROCESSOR","groupIdentifier":"6f03e191-604d-340a-a5d4-9b5c9d2cb419"}],"inputPorts":[{"identifier":"7bddbc8e-62ea-3fec-b336-a242acf0bfd3","instanceIdentifier":"81f53df1-442e-1d5c-9eb8-d564bad5c369","name":"person_email_ip","comments":"","position":{"x":1112.0,"y":-24.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"6f03e191-604d-340a-a5d4-9b5c9d2cb419"}],"outputPorts":[{"identifier":"5db9af35-1157-3e0e-9bd3-f5f1e5a4f34f","instanceIdentifier":"e32b3306-9972-1006-badc-3da81509bcd3","name":"log_op_port","position":{"x":1112.0,"y":648.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"6f03e191-604d-340a-a5d4-9b5c9d2cb419"}],"connections":[{"identifier":"070a0852-097a-3445-ae76-e8bcfd617bda","instanceIdentifier":"d4613d32-72d3-159e-b0bd-8f2a1e507736","name":"","source":{"id":"01e8ad5d-9795-3ee8-a9fe-6a4389a1ffdb","type":"PROCESSOR","groupId":"6f03e191-604d-340a-a5d4-9b5c9d2cb419","name":"PutSQL - person_email ","comments":"","instanceIdentifier":"162f3685-c6b5-1eb8-860d-eba55ac90dcc"},"destination":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","name":"log_ip_port","instanceIdentifier":"a6513632-dd90-17cb-ad1b-aaf29f5dec19"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success","failure","retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6f03e191-604d-340a-a5d4-9b5c9d2cb419"},{"identifier":"9ba53eed-f14d-3030-a80a-84f316523b95","instanceIdentifier":"99003545-816a-1dda-bdda-f33f3e824e37","name":"","source":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","name":"log_op_port","instanceIdentifier":"61b63352-ff91-1b27-afaa-08c89dd30dee"},"destination":{"id":"5db9af35-1157-3e0e-9bd3-f5f1e5a4f34f","type":"OUTPUT_PORT","groupId":"6f03e191-604d-340a-a5d4-9b5c9d2cb419","name":"log_op_port","instanceIdentifier":"e32b3306-9972-1006-badc-3da81509bcd3"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6f03e191-604d-340a-a5d4-9b5c9d2cb419"},{"identifier":"7f92966c-f2bc-36aa-8c78-ba42deedb2e9","instanceIdentifier":"4de036ca-cfd6-16a9-b9bb-91bfb3f901ee","name":"","source":{"id":"7bddbc8e-62ea-3fec-b336-a242acf0bfd3","type":"INPUT_PORT","groupId":"6f03e191-604d-340a-a5d4-9b5c9d2cb419","name":"person_email_ip","comments":"","instanceIdentifier":"81f53df1-442e-1d5c-9eb8-d564bad5c369"},"destination":{"id":"01e8ad5d-9795-3ee8-a9fe-6a4389a1ffdb","type":"PROCESSOR","groupId":"6f03e191-604d-340a-a5d4-9b5c9d2cb419","name":"PutSQL - person_email ","comments":"","instanceIdentifier":"162f3685-c6b5-1eb8-860d-eba55ac90dcc"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6f03e191-604d-340a-a5d4-9b5c9d2cb419"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"shared_db_secrets","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"053624e6-6e44-38e6-ac1b-5168d319f71e"},{"identifier":"25b4e952-f565-3656-a53c-a1985eef9c33","instanceIdentifier":"4ff473de-15e9-3445-90df-b868dd77d8f6","name":"client_person","comments":"","position":{"x":480.0,"y":584.0},"processGroups":[{"identifier":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","instanceIdentifier":"76927920-60e8-3df7-b2ef-6e96d4d65115","name":"FRAME LOGS","comments":"","position":{"x":1040.0,"y":360.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"c811201e-6830-30a9-a373-25d1355a63a8","instanceIdentifier":"2bc0a544-fdf2-3051-b1ec-5e6b0fc707f8","name":"Consume Message Attribute","comments":"","position":{"x":416.0,"y":200.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"${flow_name}- Client Person SharedDB","flow_name":"${flow_name}","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"d4cae624-5b59-30c1-a33a-6e693e3a5adb"}],"inputPorts":[{"identifier":"69c38982-4205-35c8-8503-c742a525b3bf","instanceIdentifier":"3ca656ed-d576-3122-b2aa-5b28b1063c10","name":"log_ip_port","position":{"x":472.0,"y":56.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"d4cae624-5b59-30c1-a33a-6e693e3a5adb"}],"outputPorts":[{"identifier":"a88ac5a0-8497-357d-a932-9898df7af4b8","instanceIdentifier":"302f55c3-7d5b-3ec2-8370-8a08b9591143","name":"log_op_port","position":{"x":472.0,"y":408.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"d4cae624-5b59-30c1-a33a-6e693e3a5adb"}],"connections":[{"identifier":"cd44e86c-4d10-3c98-a625-1237b563c6b7","instanceIdentifier":"92092858-d301-389e-b53d-dfccfaa07192","name":"","source":{"id":"c811201e-6830-30a9-a373-25d1355a63a8","type":"PROCESSOR","groupId":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","name":"Consume Message Attribute","comments":"","instanceIdentifier":"2bc0a544-fdf2-3051-b1ec-5e6b0fc707f8"},"destination":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","name":"log_op_port","instanceIdentifier":"302f55c3-7d5b-3ec2-8370-8a08b9591143"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d4cae624-5b59-30c1-a33a-6e693e3a5adb"},{"identifier":"6202c6d2-2cac-3c05-8765-2510bb5c53e6","instanceIdentifier":"5630eced-dfb5-31d0-a64a-673d69725584","name":"","source":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","name":"log_ip_port","instanceIdentifier":"3ca656ed-d576-3122-b2aa-5b28b1063c10"},"destination":{"id":"c811201e-6830-30a9-a373-25d1355a63a8","type":"PROCESSOR","groupId":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","name":"Consume Message Attribute","comments":"","instanceIdentifier":"2bc0a544-fdf2-3051-b1ec-5e6b0fc707f8"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d4cae624-5b59-30c1-a33a-6e693e3a5adb"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"25b4e952-f565-3656-a53c-a1985eef9c33"}],"remoteProcessGroups":[],"processors":[{"identifier":"2d79a97a-be9c-3633-9ea0-fcbf8fd85552","instanceIdentifier":"cdb28e0c-5f7c-396b-9980-3124994533bf","name":"PutSQL(client_person)","comments":"","position":{"x":432.0,"y":392.0},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":"INSERT INTO ${shared_db_schema_name}.client_person (client_key,person_key,person_type,primary_email,created_by,created_date,updated_by,updated_date)\nSELECT (select client_key from ${shared_db_schema_name}.client\n\twhere is_active =true and is_deleted= false and sap_client_id = '${sapClientId}' LIMIT 1\n),'${person_id_pkey}','${person_type}',NULLIF('${email}','null'),'NiFi', \n    CURRENT_TIMESTAMP, \n    'NiFi', \n    CURRENT_TIMESTAMP\nON CONFLICT (client_key,person_key,person_type)\nDO UPDATE SET\n    primary_email = EXCLUDED.primary_email,\n\tperson_key = EXCLUDED.person_key,\n\tperson_type = EXCLUDED.person_type,\n\tupdated_date = EXCLUDED.updated_date\nRETURNING client_person_key;","Transaction Timeout":null,"Batch Size":"100","Obtain Generated Keys":"true","JDBC Connection Pool":"dacee7ee-ad8e-3883-b066-600093c8c337","database-session-autocommit":"true","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":5,"retriedRelationships":["failure","retry"],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"5 sec","componentType":"PROCESSOR","groupIdentifier":"25b4e952-f565-3656-a53c-a1985eef9c33"},{"identifier":"5fe3dcba-7e48-342c-8e78-e851e0514581","instanceIdentifier":"540c2012-6ad6-32c7-b614-654746a6349d","name":"Generated Keys to Attributes","comments":"","position":{"x":432.0,"y":608.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"client_person_pkey":"${sql.generated.key}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"client_person_pkey":{"name":"client_person_pkey","displayName":"client_person_pkey","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"25b4e952-f565-3656-a53c-a1985eef9c33"}],"inputPorts":[{"identifier":"7bddbc8e-62ea-3fec-b336-a242acf0bfd3","instanceIdentifier":"3fcfc305-a8b2-323c-a1eb-af22abb7d7ea","name":"client_person_ip","comments":"","position":{"x":488.0,"y":272.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"25b4e952-f565-3656-a53c-a1985eef9c33"}],"outputPorts":[{"identifier":"5db9af35-1157-3e0e-9bd3-f5f1e5a4f34f","instanceIdentifier":"4937df38-db26-31da-9580-5f5b347d4c58","name":"log_op_port","position":{"x":1112.0,"y":648.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"25b4e952-f565-3656-a53c-a1985eef9c33"},{"identifier":"3c26fe71-8d3b-3bd7-933e-38d7323a002e","instanceIdentifier":"8d40a91f-c108-3bab-92f0-f946403a3691","name":"op_port","position":{"x":496.0,"y":816.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"25b4e952-f565-3656-a53c-a1985eef9c33"}],"connections":[{"identifier":"48097ffb-b4bc-3685-987a-0e2a35cad564","instanceIdentifier":"b0f7cb83-d1e2-3f10-b4f8-643eae5e6b28","name":"","source":{"id":"2d79a97a-be9c-3633-9ea0-fcbf8fd85552","type":"PROCESSOR","groupId":"25b4e952-f565-3656-a53c-a1985eef9c33","name":"PutSQL(client_person)","comments":"","instanceIdentifier":"cdb28e0c-5f7c-396b-9980-3124994533bf"},"destination":{"id":"5fe3dcba-7e48-342c-8e78-e851e0514581","type":"PROCESSOR","groupId":"25b4e952-f565-3656-a53c-a1985eef9c33","name":"Generated Keys to Attributes","comments":"","instanceIdentifier":"540c2012-6ad6-32c7-b614-654746a6349d"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"25b4e952-f565-3656-a53c-a1985eef9c33"},{"identifier":"2994ba75-351e-3987-bb52-a93c83e33a77","instanceIdentifier":"0b30046a-3b04-392b-aea7-565a3640a8ea","name":"","source":{"id":"2d79a97a-be9c-3633-9ea0-fcbf8fd85552","type":"PROCESSOR","groupId":"25b4e952-f565-3656-a53c-a1985eef9c33","name":"PutSQL(client_person)","comments":"","instanceIdentifier":"cdb28e0c-5f7c-396b-9980-3124994533bf"},"destination":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","name":"log_ip_port","instanceIdentifier":"3ca656ed-d576-3122-b2aa-5b28b1063c10"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success","failure","retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"25b4e952-f565-3656-a53c-a1985eef9c33"},{"identifier":"9ba53eed-f14d-3030-a80a-84f316523b95","instanceIdentifier":"4ff542dc-135c-3b36-89cf-304bfcf492fd","name":"","source":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","name":"log_op_port","instanceIdentifier":"302f55c3-7d5b-3ec2-8370-8a08b9591143"},"destination":{"id":"5db9af35-1157-3e0e-9bd3-f5f1e5a4f34f","type":"OUTPUT_PORT","groupId":"25b4e952-f565-3656-a53c-a1985eef9c33","name":"log_op_port","instanceIdentifier":"4937df38-db26-31da-9580-5f5b347d4c58"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"25b4e952-f565-3656-a53c-a1985eef9c33"},{"identifier":"60a74463-380e-3ccb-ba83-b73243be913a","instanceIdentifier":"4d3e859a-f9ff-35f0-aa9e-047ae57824b1","name":"","source":{"id":"5fe3dcba-7e48-342c-8e78-e851e0514581","type":"PROCESSOR","groupId":"25b4e952-f565-3656-a53c-a1985eef9c33","name":"Generated Keys to Attributes","comments":"","instanceIdentifier":"540c2012-6ad6-32c7-b614-654746a6349d"},"destination":{"id":"3c26fe71-8d3b-3bd7-933e-38d7323a002e","type":"OUTPUT_PORT","groupId":"25b4e952-f565-3656-a53c-a1985eef9c33","name":"op_port","instanceIdentifier":"8d40a91f-c108-3bab-92f0-f946403a3691"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"25b4e952-f565-3656-a53c-a1985eef9c33"},{"identifier":"7f92966c-f2bc-36aa-8c78-ba42deedb2e9","instanceIdentifier":"3cf279c4-edb6-361f-b88a-3e8ee1050489","name":"","source":{"id":"7bddbc8e-62ea-3fec-b336-a242acf0bfd3","type":"INPUT_PORT","groupId":"25b4e952-f565-3656-a53c-a1985eef9c33","name":"client_person_ip","comments":"","instanceIdentifier":"3fcfc305-a8b2-323c-a1eb-af22abb7d7ea"},"destination":{"id":"2d79a97a-be9c-3633-9ea0-fcbf8fd85552","type":"PROCESSOR","groupId":"25b4e952-f565-3656-a53c-a1985eef9c33","name":"PutSQL(client_person)","comments":"","instanceIdentifier":"cdb28e0c-5f7c-396b-9980-3124994533bf"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"25b4e952-f565-3656-a53c-a1985eef9c33"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"053624e6-6e44-38e6-ac1b-5168d319f71e"},{"identifier":"7e008db8-2a88-3b5e-a14a-26075f9f1105","instanceIdentifier":"dd47342e-1c89-1748-a4df-f604ab5a1373","name":"person_cross_reference insert","comments":"","position":{"x":488.0,"y":80.0},"processGroups":[{"identifier":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","instanceIdentifier":"530d3754-90e8-1126-b9dc-0754978b9ec3","name":"FRAME LOGS","comments":"","position":{"x":1040.0,"y":360.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"c811201e-6830-30a9-a373-25d1355a63a8","instanceIdentifier":"48dc3e42-c89e-1f9b-a43c-e5ed12d779fa","name":"Consume Message Attribute","comments":"","position":{"x":416.0,"y":160.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","module":"${flow_name}-Person Cross Reference SharedDB","flow_name":"${flow_name}","extras":"person_cross_reference_count : 1","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"extras":{"name":"extras","displayName":"extras","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"d4cae624-5b59-30c1-a33a-6e693e3a5adb"}],"inputPorts":[{"identifier":"69c38982-4205-35c8-8503-c742a525b3bf","instanceIdentifier":"bc61369d-9ce7-1bba-8f2f-55e34d1dfa99","name":"log_ip_port","position":{"x":472.0,"y":8.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"d4cae624-5b59-30c1-a33a-6e693e3a5adb"}],"outputPorts":[{"identifier":"a88ac5a0-8497-357d-a932-9898df7af4b8","instanceIdentifier":"32e83427-7e3a-13ea-bc1e-a584a1cfe095","name":"log_op_port","position":{"x":472.0,"y":408.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"d4cae624-5b59-30c1-a33a-6e693e3a5adb"}],"connections":[{"identifier":"cd44e86c-4d10-3c98-a625-1237b563c6b7","instanceIdentifier":"f7953e88-285b-1d44-afdd-569e16353275","name":"","source":{"id":"c811201e-6830-30a9-a373-25d1355a63a8","type":"PROCESSOR","groupId":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","name":"Consume Message Attribute","comments":"","instanceIdentifier":"48dc3e42-c89e-1f9b-a43c-e5ed12d779fa"},"destination":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","name":"log_op_port","instanceIdentifier":"32e83427-7e3a-13ea-bc1e-a584a1cfe095"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d4cae624-5b59-30c1-a33a-6e693e3a5adb"},{"identifier":"6202c6d2-2cac-3c05-8765-2510bb5c53e6","instanceIdentifier":"8cf433a2-3bc3-18c8-93b2-c38423ae5b44","name":"","source":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","name":"log_ip_port","instanceIdentifier":"bc61369d-9ce7-1bba-8f2f-55e34d1dfa99"},"destination":{"id":"c811201e-6830-30a9-a373-25d1355a63a8","type":"PROCESSOR","groupId":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","name":"Consume Message Attribute","comments":"","instanceIdentifier":"48dc3e42-c89e-1f9b-a43c-e5ed12d779fa"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d4cae624-5b59-30c1-a33a-6e693e3a5adb"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"7e008db8-2a88-3b5e-a14a-26075f9f1105"}],"remoteProcessGroups":[],"processors":[{"identifier":"2d79a97a-be9c-3633-9ea0-fcbf8fd85552","instanceIdentifier":"dd433f8a-3f34-1cb9-afa3-581bf39931a1","name":"PutSQL","comments":"","position":{"x":432.0,"y":392.0},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":"INSERT INTO ${shared_db_schema_name}.person_cross_reference (client_person_key,application,application_person_id,person_type,created_by,created_date,updated_by,updated_date)\nSELECT NULL,'${application}','${participant_id}','${person_type}','NiFi', \n    CURRENT_TIMESTAMP, \n    'NiFi', \n    CURRENT_TIMESTAMP\nON CONFLICT (application_person_id,application,person_type)\nDO NOTHING;","Transaction Timeout":null,"Batch Size":"100","Obtain Generated Keys":"true","JDBC Connection Pool":"dacee7ee-ad8e-3883-b066-600093c8c337","database-session-autocommit":"true","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":5,"retriedRelationships":["failure","retry"],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"5 sec","componentType":"PROCESSOR","groupIdentifier":"7e008db8-2a88-3b5e-a14a-26075f9f1105"},{"identifier":"6d760fd3-9601-3845-87e1-3b6935daaaf9","instanceIdentifier":"319034d0-a9cf-1297-af75-f4df5848a27c","name":"ExtractAttributes","comments":"","position":{"x":440.0,"y":0.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Destination":"flowfile-attribute","isTestOrDemo":"$.isTestOrDemo","Max String Length":"20 MB","Return Type":"auto-detect","participant_id":"$.id","sapClientId":"$.sapClientId","last_name":"$.lastName","Null Value Representation":"empty string","participantDeadline":"$.date.participantDeadline","Path Not Found Behavior":"ignore","first_name":"$.firstName","projectId":"$.projectId","email":"$.email","status":"$.status"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"isTestOrDemo":{"name":"isTestOrDemo","displayName":"isTestOrDemo","identifiesControllerService":false,"sensitive":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"participant_id":{"name":"participant_id","displayName":"participant_id","identifiesControllerService":false,"sensitive":false},"sapClientId":{"name":"sapClientId","displayName":"sapClientId","identifiesControllerService":false,"sensitive":false},"last_name":{"name":"last_name","displayName":"last_name","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"participantDeadline":{"name":"participantDeadline","displayName":"participantDeadline","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false},"first_name":{"name":"first_name","displayName":"first_name","identifiesControllerService":false,"sensitive":false},"projectId":{"name":"projectId","displayName":"projectId","identifiesControllerService":false,"sensitive":false},"email":{"name":"email","displayName":"email","identifiesControllerService":false,"sensitive":false},"status":{"name":"status","displayName":"status","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"7e008db8-2a88-3b5e-a14a-26075f9f1105"},{"identifier":"7217fa6c-99e9-344a-95d9-47f5d387164b","instanceIdentifier":"1e143450-762a-148b-8548-a00626661d40","name":"UpdateAttribute","comments":"","position":{"x":440.0,"y":200.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"application":"kf_360","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","person_type":"Employee","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"application":{"name":"application","displayName":"application","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"person_type":{"name":"person_type","displayName":"person_type","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"7e008db8-2a88-3b5e-a14a-26075f9f1105"},{"identifier":"5fe3dcba-7e48-342c-8e78-e851e0514581","instanceIdentifier":"28dc320b-b409-1a0b-933c-58f80d5ddace","name":"Generated Keys to Attributes","comments":"","position":{"x":432.0,"y":608.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","pcr_inserted":"${sql.generated.key:notNull()}","Stateful Variables Initial Value":null,"person_cross_ref_key":"${sql.generated.key}"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"pcr_inserted":{"name":"pcr_inserted","displayName":"pcr_inserted","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"person_cross_ref_key":{"name":"person_cross_ref_key","displayName":"person_cross_ref_key","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"7e008db8-2a88-3b5e-a14a-26075f9f1105"}],"inputPorts":[{"identifier":"7bddbc8e-62ea-3fec-b336-a242acf0bfd3","instanceIdentifier":"fb7830b2-9247-11f1-bb90-1eb7b7f78d8b","name":"participant_ip","comments":"","position":{"x":488.0,"y":-88.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"7e008db8-2a88-3b5e-a14a-26075f9f1105"}],"outputPorts":[{"identifier":"5db9af35-1157-3e0e-9bd3-f5f1e5a4f34f","instanceIdentifier":"61723cb4-d73f-149e-8c2c-7e4594c54434","name":"log_op_port","position":{"x":1112.0,"y":648.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"7e008db8-2a88-3b5e-a14a-26075f9f1105"},{"identifier":"3c26fe71-8d3b-3bd7-933e-38d7323a002e","instanceIdentifier":"8b8635a7-85e7-19eb-b297-63a36d29354d","name":"op_port","position":{"x":488.0,"y":856.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"7e008db8-2a88-3b5e-a14a-26075f9f1105"}],"connections":[{"identifier":"48097ffb-b4bc-3685-987a-0e2a35cad564","instanceIdentifier":"b7e036b3-f486-1e8d-aa32-0b93400b556d","name":"","source":{"id":"2d79a97a-be9c-3633-9ea0-fcbf8fd85552","type":"PROCESSOR","groupId":"7e008db8-2a88-3b5e-a14a-26075f9f1105","name":"PutSQL","comments":"","instanceIdentifier":"dd433f8a-3f34-1cb9-afa3-581bf39931a1"},"destination":{"id":"5fe3dcba-7e48-342c-8e78-e851e0514581","type":"PROCESSOR","groupId":"7e008db8-2a88-3b5e-a14a-26075f9f1105","name":"Generated Keys to Attributes","comments":"","instanceIdentifier":"28dc320b-b409-1a0b-933c-58f80d5ddace"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"7e008db8-2a88-3b5e-a14a-26075f9f1105"},{"identifier":"9ba53eed-f14d-3030-a80a-84f316523b95","instanceIdentifier":"7b7e3020-de40-1c8a-b5a7-f33badfccfbf","name":"","source":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","name":"log_op_port","instanceIdentifier":"32e83427-7e3a-13ea-bc1e-a584a1cfe095"},"destination":{"id":"5db9af35-1157-3e0e-9bd3-f5f1e5a4f34f","type":"OUTPUT_PORT","groupId":"7e008db8-2a88-3b5e-a14a-26075f9f1105","name":"log_op_port","instanceIdentifier":"61723cb4-d73f-149e-8c2c-7e4594c54434"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"7e008db8-2a88-3b5e-a14a-26075f9f1105"},{"identifier":"2994ba75-351e-3987-bb52-a93c83e33a77","instanceIdentifier":"31573241-e8ee-1567-869d-33f397927245","name":"","source":{"id":"2d79a97a-be9c-3633-9ea0-fcbf8fd85552","type":"PROCESSOR","groupId":"7e008db8-2a88-3b5e-a14a-26075f9f1105","name":"PutSQL","comments":"","instanceIdentifier":"dd433f8a-3f34-1cb9-afa3-581bf39931a1"},"destination":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","name":"log_ip_port","instanceIdentifier":"bc61369d-9ce7-1bba-8f2f-55e34d1dfa99"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success","failure","retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"7e008db8-2a88-3b5e-a14a-26075f9f1105"},{"identifier":"721785bf-166c-35fd-be79-cd36125a75d3","instanceIdentifier":"9964349f-3e15-1ebc-804a-5230fe82059b","name":"","source":{"id":"7bddbc8e-62ea-3fec-b336-a242acf0bfd3","type":"INPUT_PORT","groupId":"7e008db8-2a88-3b5e-a14a-26075f9f1105","name":"participant_ip","comments":"","instanceIdentifier":"fb7830b2-9247-11f1-bb90-1eb7b7f78d8b"},"destination":{"id":"6d760fd3-9601-3845-87e1-3b6935daaaf9","type":"PROCESSOR","groupId":"7e008db8-2a88-3b5e-a14a-26075f9f1105","name":"ExtractAttributes","comments":"","instanceIdentifier":"319034d0-a9cf-1297-af75-f4df5848a27c"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"7e008db8-2a88-3b5e-a14a-26075f9f1105"},{"identifier":"67a6baf1-4288-3557-a961-05b7efc072b5","instanceIdentifier":"ce123672-98b0-1381-9799-0eb12c20c7b8","name":"","source":{"id":"6d760fd3-9601-3845-87e1-3b6935daaaf9","type":"PROCESSOR","groupId":"7e008db8-2a88-3b5e-a14a-26075f9f1105","name":"ExtractAttributes","comments":"","instanceIdentifier":"319034d0-a9cf-1297-af75-f4df5848a27c"},"destination":{"id":"7217fa6c-99e9-344a-95d9-47f5d387164b","type":"PROCESSOR","groupId":"7e008db8-2a88-3b5e-a14a-26075f9f1105","name":"UpdateAttribute","comments":"","instanceIdentifier":"1e143450-762a-148b-8548-a00626661d40"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"7e008db8-2a88-3b5e-a14a-26075f9f1105"},{"identifier":"60a74463-380e-3ccb-ba83-b73243be913a","instanceIdentifier":"f6733e2a-2c71-1d50-9ad4-506dcbc35ea9","name":"","source":{"id":"5fe3dcba-7e48-342c-8e78-e851e0514581","type":"PROCESSOR","groupId":"7e008db8-2a88-3b5e-a14a-26075f9f1105","name":"Generated Keys to Attributes","comments":"","instanceIdentifier":"28dc320b-b409-1a0b-933c-58f80d5ddace"},"destination":{"id":"3c26fe71-8d3b-3bd7-933e-38d7323a002e","type":"OUTPUT_PORT","groupId":"7e008db8-2a88-3b5e-a14a-26075f9f1105","name":"op_port","instanceIdentifier":"8b8635a7-85e7-19eb-b297-63a36d29354d"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"7e008db8-2a88-3b5e-a14a-26075f9f1105"},{"identifier":"7eac8815-55f7-3373-bee2-41209b082f38","instanceIdentifier":"239a08ee-0196-1000-ffff-ffffe271a279","name":"","source":{"id":"7217fa6c-99e9-344a-95d9-47f5d387164b","type":"PROCESSOR","groupId":"7e008db8-2a88-3b5e-a14a-26075f9f1105","name":"UpdateAttribute","comments":"","instanceIdentifier":"1e143450-762a-148b-8548-a00626661d40"},"destination":{"id":"2d79a97a-be9c-3633-9ea0-fcbf8fd85552","type":"PROCESSOR","groupId":"7e008db8-2a88-3b5e-a14a-26075f9f1105","name":"PutSQL","comments":"","instanceIdentifier":"dd433f8a-3f34-1cb9-afa3-581bf39931a1"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"7e008db8-2a88-3b5e-a14a-26075f9f1105"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"053624e6-6e44-38e6-ac1b-5168d319f71e"},{"identifier":"e63eaed1-144b-3378-a61f-3037b80f6871","instanceIdentifier":"2b390e9b-28e6-35a1-9c91-1f779d368430","name":"person_cross_reference update","comments":"","position":{"x":-72.0,"y":872.0},"processGroups":[{"identifier":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","instanceIdentifier":"9f1e29e5-f88c-392b-9cb9-41dc233d2578","name":"FRAME LOGS","comments":"","position":{"x":1040.0,"y":360.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"c811201e-6830-30a9-a373-25d1355a63a8","instanceIdentifier":"d9f43fec-23d5-3d12-b028-961de8ee8291","name":"Consume Message Attribute","comments":"","position":{"x":416.0,"y":200.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"${flow_name}-Person Cross Reference Update SharedDB","flow_name":"${flow_name}","extras":"person_cross_reference_count : 1","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"extras":{"name":"extras","displayName":"extras","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"d4cae624-5b59-30c1-a33a-6e693e3a5adb"}],"inputPorts":[{"identifier":"69c38982-4205-35c8-8503-c742a525b3bf","instanceIdentifier":"bb8f9b1c-9717-3130-8e99-b651906ef655","name":"log_ip_port","position":{"x":488.0,"y":64.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"d4cae624-5b59-30c1-a33a-6e693e3a5adb"}],"outputPorts":[{"identifier":"a88ac5a0-8497-357d-a932-9898df7af4b8","instanceIdentifier":"2b476b19-39c5-393d-b982-a88eb52fcbb9","name":"log_op_port","position":{"x":472.0,"y":408.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"d4cae624-5b59-30c1-a33a-6e693e3a5adb"}],"connections":[{"identifier":"cd44e86c-4d10-3c98-a625-1237b563c6b7","instanceIdentifier":"b8fc51b6-cf37-3763-a9e6-51fe00126f38","name":"","source":{"id":"c811201e-6830-30a9-a373-25d1355a63a8","type":"PROCESSOR","groupId":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","name":"Consume Message Attribute","comments":"","instanceIdentifier":"d9f43fec-23d5-3d12-b028-961de8ee8291"},"destination":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","name":"log_op_port","instanceIdentifier":"2b476b19-39c5-393d-b982-a88eb52fcbb9"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d4cae624-5b59-30c1-a33a-6e693e3a5adb"},{"identifier":"6202c6d2-2cac-3c05-8765-2510bb5c53e6","instanceIdentifier":"7cf47792-f4d3-3a35-bfc7-cabe0587094c","name":"","source":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","name":"log_ip_port","instanceIdentifier":"bb8f9b1c-9717-3130-8e99-b651906ef655"},"destination":{"id":"c811201e-6830-30a9-a373-25d1355a63a8","type":"PROCESSOR","groupId":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","name":"Consume Message Attribute","comments":"","instanceIdentifier":"d9f43fec-23d5-3d12-b028-961de8ee8291"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d4cae624-5b59-30c1-a33a-6e693e3a5adb"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"e63eaed1-144b-3378-a61f-3037b80f6871"}],"remoteProcessGroups":[],"processors":[{"identifier":"2d79a97a-be9c-3633-9ea0-fcbf8fd85552","instanceIdentifier":"b82c5429-3e29-3c61-bbca-edd58ea11b5c","name":"PutSQL","comments":"","position":{"x":432.0,"y":392.0},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":"INSERT INTO ${shared_db_schema_name}.person_cross_reference (client_person_key, application, application_person_id, person_type)\nVALUES ('${client_person_pkey}', '${application}', '${participant_id}', '${person_type}')\nON CONFLICT (application, application_person_id, person_type)\nDO UPDATE SET\n    client_person_key = EXCLUDED.client_person_key\nRETURNING person_cross_reference_key;","Transaction Timeout":null,"Batch Size":"100","Obtain Generated Keys":"true","JDBC Connection Pool":"dacee7ee-ad8e-3883-b066-600093c8c337","database-session-autocommit":"true","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":5,"retriedRelationships":["failure","retry"],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"5 sec","componentType":"PROCESSOR","groupIdentifier":"e63eaed1-144b-3378-a61f-3037b80f6871"}],"inputPorts":[{"identifier":"7bddbc8e-62ea-3fec-b336-a242acf0bfd3","instanceIdentifier":"90249639-7f9e-3333-83b9-71ebfc555a0d","name":"input","comments":"","position":{"x":488.0,"y":264.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"e63eaed1-144b-3378-a61f-3037b80f6871"}],"outputPorts":[{"identifier":"5db9af35-1157-3e0e-9bd3-f5f1e5a4f34f","instanceIdentifier":"80b81dfe-2fe8-3485-a5a8-8815b3745bd3","name":"log_op_port","position":{"x":1112.0,"y":648.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"e63eaed1-144b-3378-a61f-3037b80f6871"},{"identifier":"3c26fe71-8d3b-3bd7-933e-38d7323a002e","instanceIdentifier":"d86cb686-747c-3f52-bc5f-cbd6bde9b779","name":"op_port","position":{"x":488.0,"y":632.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"e63eaed1-144b-3378-a61f-3037b80f6871"}],"connections":[{"identifier":"48097ffb-b4bc-3685-987a-0e2a35cad564","instanceIdentifier":"a040a762-94ce-319f-a3f1-9838a9350565","name":"","source":{"id":"2d79a97a-be9c-3633-9ea0-fcbf8fd85552","type":"PROCESSOR","groupId":"e63eaed1-144b-3378-a61f-3037b80f6871","name":"PutSQL","comments":"","instanceIdentifier":"b82c5429-3e29-3c61-bbca-edd58ea11b5c"},"destination":{"id":"3c26fe71-8d3b-3bd7-933e-38d7323a002e","type":"OUTPUT_PORT","groupId":"e63eaed1-144b-3378-a61f-3037b80f6871","name":"op_port","instanceIdentifier":"d86cb686-747c-3f52-bc5f-cbd6bde9b779"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e63eaed1-144b-3378-a61f-3037b80f6871"},{"identifier":"2994ba75-351e-3987-bb52-a93c83e33a77","instanceIdentifier":"49a9f238-767a-38f6-8bc3-a4c59b95efaa","name":"","source":{"id":"2d79a97a-be9c-3633-9ea0-fcbf8fd85552","type":"PROCESSOR","groupId":"e63eaed1-144b-3378-a61f-3037b80f6871","name":"PutSQL","comments":"","instanceIdentifier":"b82c5429-3e29-3c61-bbca-edd58ea11b5c"},"destination":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","name":"log_ip_port","instanceIdentifier":"bb8f9b1c-9717-3130-8e99-b651906ef655"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success","failure","retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e63eaed1-144b-3378-a61f-3037b80f6871"},{"identifier":"9ba53eed-f14d-3030-a80a-84f316523b95","instanceIdentifier":"14c245aa-675b-37c8-8082-610cc8ba3131","name":"","source":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"d4cae624-5b59-30c1-a33a-6e693e3a5adb","name":"log_op_port","instanceIdentifier":"2b476b19-39c5-393d-b982-a88eb52fcbb9"},"destination":{"id":"5db9af35-1157-3e0e-9bd3-f5f1e5a4f34f","type":"OUTPUT_PORT","groupId":"e63eaed1-144b-3378-a61f-3037b80f6871","name":"log_op_port","instanceIdentifier":"80b81dfe-2fe8-3485-a5a8-8815b3745bd3"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e63eaed1-144b-3378-a61f-3037b80f6871"},{"identifier":"7f92966c-f2bc-36aa-8c78-ba42deedb2e9","instanceIdentifier":"1f8ab78c-82a2-3c12-bc4c-7fe31e2247ad","name":"","source":{"id":"7bddbc8e-62ea-3fec-b336-a242acf0bfd3","type":"INPUT_PORT","groupId":"e63eaed1-144b-3378-a61f-3037b80f6871","name":"input","comments":"","instanceIdentifier":"90249639-7f9e-3333-83b9-71ebfc555a0d"},"destination":{"id":"2d79a97a-be9c-3633-9ea0-fcbf8fd85552","type":"PROCESSOR","groupId":"e63eaed1-144b-3378-a61f-3037b80f6871","name":"PutSQL","comments":"","instanceIdentifier":"b82c5429-3e29-3c61-bbca-edd58ea11b5c"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e63eaed1-144b-3378-a61f-3037b80f6871"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"053624e6-6e44-38e6-ac1b-5168d319f71e"},{"identifier":"f43610ad-f589-39b2-9ac1-c067c6504a21","instanceIdentifier":"c6accaf1-cb2c-34b0-816b-a31971bb612f","name":"person","comments":"","position":{"x":480.0,"y":328.0},"processGroups":[{"identifier":"4ca382f7-37b4-3943-8fbe-b921efeb2aea","instanceIdentifier":"084f0e33-aa0f-3001-8ade-6b7bd64d6161","name":"FRAME LOGS","comments":"","position":{"x":416.0,"y":712.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"3956b20f-1c9c-3823-a51e-ed378c73358d","instanceIdentifier":"3e4f92d9-cb2c-3d3a-913e-1e8c07d6df0a","name":"Consume Message Attribute","comments":"","position":{"x":848.0,"y":200.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"${flow_name}-Person SharedDB","flow_name":"${flow_name}","extras":"participant_count : 1","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"extras":{"name":"extras","displayName":"extras","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"4ca382f7-37b4-3943-8fbe-b921efeb2aea"}],"inputPorts":[{"identifier":"69c38982-4205-35c8-8503-c742a525b3bf","instanceIdentifier":"23b666f1-bb1c-3c67-9a50-91e116771cbb","name":"log_ip_port_insert","comments":"","position":{"x":904.0,"y":64.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"4ca382f7-37b4-3943-8fbe-b921efeb2aea"}],"outputPorts":[{"identifier":"a88ac5a0-8497-357d-a932-9898df7af4b8","instanceIdentifier":"9c0ff454-e732-3bf6-ba86-80cb1a27a6ed","name":"log_op_port","position":{"x":912.0,"y":408.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"4ca382f7-37b4-3943-8fbe-b921efeb2aea"}],"connections":[{"identifier":"2d62a834-4f0b-35e4-a94f-cdd9ab80f550","instanceIdentifier":"7edd0d8b-c5e0-3787-b530-08ab247522e9","name":"","source":{"id":"3956b20f-1c9c-3823-a51e-ed378c73358d","type":"PROCESSOR","groupId":"4ca382f7-37b4-3943-8fbe-b921efeb2aea","name":"Consume Message Attribute","comments":"","instanceIdentifier":"3e4f92d9-cb2c-3d3a-913e-1e8c07d6df0a"},"destination":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"4ca382f7-37b4-3943-8fbe-b921efeb2aea","name":"log_op_port","instanceIdentifier":"9c0ff454-e732-3bf6-ba86-80cb1a27a6ed"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4ca382f7-37b4-3943-8fbe-b921efeb2aea"},{"identifier":"438c867f-6dc9-39ee-80a6-e7b5c7a16cc0","instanceIdentifier":"f1a629c9-137a-3b03-ba57-2adcb43d2bda","name":"","source":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"4ca382f7-37b4-3943-8fbe-b921efeb2aea","name":"log_ip_port_insert","comments":"","instanceIdentifier":"23b666f1-bb1c-3c67-9a50-91e116771cbb"},"destination":{"id":"3956b20f-1c9c-3823-a51e-ed378c73358d","type":"PROCESSOR","groupId":"4ca382f7-37b4-3943-8fbe-b921efeb2aea","name":"Consume Message Attribute","comments":"","instanceIdentifier":"3e4f92d9-cb2c-3d3a-913e-1e8c07d6df0a"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4ca382f7-37b4-3943-8fbe-b921efeb2aea"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"f43610ad-f589-39b2-9ac1-c067c6504a21"}],"remoteProcessGroups":[],"processors":[{"identifier":"f630469d-857c-3bed-b771-45f8d6e89a2a","instanceIdentifier":"cc7f3498-97fa-1edd-a45d-833cb1a29c39","name":"Check Presence of Person","comments":"","position":{"x":1048.0,"y":344.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Routing Strategy":"Route to Property name","is_person_present & upsert_success":"${sql.generated.key:isEmpty():not()}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"is_person_present & upsert_success":{"name":"is_person_present & upsert_success","displayName":"is_person_present & upsert_success","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f43610ad-f589-39b2-9ac1-c067c6504a21"},{"identifier":"2e14f739-cd6b-365c-a160-b2627aeed213","instanceIdentifier":"7e9c3cf3-97fc-18dc-9aac-71743dd7371c","name":"PutSQL - UPDATE","comments":"","position":{"x":1048.0,"y":88.0},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":"UPDATE ${shared_db_schema_name}.person\nSET\nfirst_name = NULLIF('${first_name:replace(\"'\",\"''\")}','null'), \nlast_name = NULLIF('${last_name:replace(\"'\",\"''\")}','null'),\nupdated_date = CURRENT_TIMESTAMP\nWHERE person_key = (\nSELECT cp.person_key\n    FROM ${shared_db_schema_name}.person_cross_reference pcr \n\tinner join ${shared_db_schema_name}.client_person cp on (pcr.client_person_key=cp.client_person_key and pcr.application = '${application}' and pcr.application_person_id = '${participant_id}')\n\tLIMIT 1\n);","Transaction Timeout":null,"Batch Size":"100","Obtain Generated Keys":"true","JDBC Connection Pool":"dacee7ee-ad8e-3883-b066-600093c8c337","database-session-autocommit":"false","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":5,"retriedRelationships":["failure","retry"],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"5 sec","componentType":"PROCESSOR","groupIdentifier":"f43610ad-f589-39b2-9ac1-c067c6504a21"},{"identifier":"f4cbf54e-f8f6-303f-902c-23e950315b3e","instanceIdentifier":"f5583e08-453a-167a-bc00-4449f2ea85c5","name":"RouteOnAttribute","comments":"","position":{"x":432.0,"y":88.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Routing Strategy":"Route to Property name","insert_person":"${pcr_inserted:equals('true')}","update_person":"${pcr_inserted:equals('false')}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"insert_person":{"name":"insert_person","displayName":"insert_person","identifiesControllerService":false,"sensitive":false},"update_person":{"name":"update_person","displayName":"update_person","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f43610ad-f589-39b2-9ac1-c067c6504a21"},{"identifier":"4bc820ff-9f09-3b3b-9253-fbaf115112f0","instanceIdentifier":"eb3541b4-eaa3-3629-bf79-f6d4bf501bcd","name":"PutSQL- INSERT","comments":"","position":{"x":432.0,"y":336.0},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":"INSERT INTO ${shared_db_schema_name}.person (first_name, last_name, created_by, created_date, updated_by, updated_date)\nSELECT NULLIF('${first_name:replace(\"'\",\"''\")}', 'null'),\n       NULLIF('${last_name:replace(\"'\",\"''\")}', 'null'),\n       'NiFi',\n       CURRENT_TIMESTAMP,\n       'NiFi',\n       CURRENT_TIMESTAMP\n;","Transaction Timeout":null,"Batch Size":"100","Obtain Generated Keys":"true","JDBC Connection Pool":"dacee7ee-ad8e-3883-b066-600093c8c337","database-session-autocommit":"true","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":5,"retriedRelationships":["failure","retry"],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"5 sec","componentType":"PROCESSOR","groupIdentifier":"f43610ad-f589-39b2-9ac1-c067c6504a21"},{"identifier":"9709bd72-9692-3f1a-aadf-40d7aa7193e8","instanceIdentifier":"7910f039-f631-3dfb-adf9-f97cf041c07c","name":"UpdateAttribute","comments":"","position":{"x":1048.0,"y":656.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","person_id_pkey":"${sql.generated.key}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"person_id_pkey":{"name":"person_id_pkey","displayName":"person_id_pkey","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f43610ad-f589-39b2-9ac1-c067c6504a21"}],"inputPorts":[{"identifier":"434390f5-6e76-31b1-b657-13ea6f44bc13","instanceIdentifier":"acb210a3-46bd-32f5-b89b-dcd7aa1f9037","name":"ip_port","position":{"x":488.0,"y":-48.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"f43610ad-f589-39b2-9ac1-c067c6504a21"}],"outputPorts":[{"identifier":"edb8c56c-289e-3b77-9665-1e29e593a9e8","instanceIdentifier":"346a1c42-0744-3486-8c51-b9143fd7b5b7","name":"log_op_port","position":{"x":-176.0,"y":776.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"f43610ad-f589-39b2-9ac1-c067c6504a21"},{"identifier":"fa3bbef2-f070-3048-ae47-5dff9f3eb9e1","instanceIdentifier":"1f127f1a-7553-353f-a731-33551dfe7b79","name":"op_port","position":{"x":1104.0,"y":904.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"f43610ad-f589-39b2-9ac1-c067c6504a21"}],"connections":[{"identifier":"d0796677-bd91-393b-9ecb-709c85cc1f39","instanceIdentifier":"ff75cd8f-db4d-3def-a3e2-ba18bbf5b048","name":"","source":{"id":"4bc820ff-9f09-3b3b-9253-fbaf115112f0","type":"PROCESSOR","groupId":"f43610ad-f589-39b2-9ac1-c067c6504a21","name":"PutSQL- INSERT","comments":"","instanceIdentifier":"eb3541b4-eaa3-3629-bf79-f6d4bf501bcd"},"destination":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"4ca382f7-37b4-3943-8fbe-b921efeb2aea","name":"log_ip_port_insert","comments":"","instanceIdentifier":"23b666f1-bb1c-3c67-9a50-91e116771cbb"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success","failure","retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f43610ad-f589-39b2-9ac1-c067c6504a21"},{"identifier":"ca7b6109-feab-38fb-9575-d8fe74232054","instanceIdentifier":"f1edc1c1-e830-3788-93fc-73a8c9c73c3e","name":"","source":{"id":"9709bd72-9692-3f1a-aadf-40d7aa7193e8","type":"PROCESSOR","groupId":"f43610ad-f589-39b2-9ac1-c067c6504a21","name":"UpdateAttribute","comments":"","instanceIdentifier":"7910f039-f631-3dfb-adf9-f97cf041c07c"},"destination":{"id":"fa3bbef2-f070-3048-ae47-5dff9f3eb9e1","type":"OUTPUT_PORT","groupId":"f43610ad-f589-39b2-9ac1-c067c6504a21","name":"op_port","instanceIdentifier":"1f127f1a-7553-353f-a731-33551dfe7b79"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f43610ad-f589-39b2-9ac1-c067c6504a21"},{"identifier":"8409df1c-d1c0-3496-8cbe-69677ad9225d","instanceIdentifier":"23b4720c-0196-1000-ffff-ffffbf65bfed","name":"","source":{"id":"f630469d-857c-3bed-b771-45f8d6e89a2a","type":"PROCESSOR","groupId":"f43610ad-f589-39b2-9ac1-c067c6504a21","name":"Check Presence of Person","comments":"","instanceIdentifier":"cc7f3498-97fa-1edd-a45d-833cb1a29c39"},"destination":{"id":"9709bd72-9692-3f1a-aadf-40d7aa7193e8","type":"PROCESSOR","groupId":"f43610ad-f589-39b2-9ac1-c067c6504a21","name":"UpdateAttribute","comments":"","instanceIdentifier":"7910f039-f631-3dfb-adf9-f97cf041c07c"},"labelIndex":1,"zIndex":0,"selectedRelationships":["is_person_present & upsert_success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f43610ad-f589-39b2-9ac1-c067c6504a21"},{"identifier":"db98ca7f-ad24-3a1f-b2b5-1d55d1b0e3a2","instanceIdentifier":"de4936e5-351a-112d-b4e7-053f33e8153a","name":"","source":{"id":"f4cbf54e-f8f6-303f-902c-23e950315b3e","type":"PROCESSOR","groupId":"f43610ad-f589-39b2-9ac1-c067c6504a21","name":"RouteOnAttribute","comments":"","instanceIdentifier":"f5583e08-453a-167a-bc00-4449f2ea85c5"},"destination":{"id":"2e14f739-cd6b-365c-a160-b2627aeed213","type":"PROCESSOR","groupId":"f43610ad-f589-39b2-9ac1-c067c6504a21","name":"PutSQL - UPDATE","comments":"","instanceIdentifier":"7e9c3cf3-97fc-18dc-9aac-71743dd7371c"},"labelIndex":1,"zIndex":0,"selectedRelationships":["update_person"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f43610ad-f589-39b2-9ac1-c067c6504a21"},{"identifier":"f492fc8f-f3f7-3964-9e36-30ca66584667","instanceIdentifier":"242e1552-0196-1000-0000-000006d2a678","name":"","source":{"id":"f630469d-857c-3bed-b771-45f8d6e89a2a","type":"PROCESSOR","groupId":"f43610ad-f589-39b2-9ac1-c067c6504a21","name":"Check Presence of Person","comments":"","instanceIdentifier":"cc7f3498-97fa-1edd-a45d-833cb1a29c39"},"destination":{"id":"4bc820ff-9f09-3b3b-9253-fbaf115112f0","type":"PROCESSOR","groupId":"f43610ad-f589-39b2-9ac1-c067c6504a21","name":"PutSQL- INSERT","comments":"","instanceIdentifier":"eb3541b4-eaa3-3629-bf79-f6d4bf501bcd"},"labelIndex":0,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f43610ad-f589-39b2-9ac1-c067c6504a21"},{"identifier":"818d276f-1876-362c-947e-14cd574169ff","instanceIdentifier":"de493732-351a-112d-ffff-fffff5747fd3","name":"","source":{"id":"f4cbf54e-f8f6-303f-902c-23e950315b3e","type":"PROCESSOR","groupId":"f43610ad-f589-39b2-9ac1-c067c6504a21","name":"RouteOnAttribute","comments":"","instanceIdentifier":"f5583e08-453a-167a-bc00-4449f2ea85c5"},"destination":{"id":"4bc820ff-9f09-3b3b-9253-fbaf115112f0","type":"PROCESSOR","groupId":"f43610ad-f589-39b2-9ac1-c067c6504a21","name":"PutSQL- INSERT","comments":"","instanceIdentifier":"eb3541b4-eaa3-3629-bf79-f6d4bf501bcd"},"labelIndex":1,"zIndex":0,"selectedRelationships":["insert_person"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f43610ad-f589-39b2-9ac1-c067c6504a21"},{"identifier":"dfd8c582-acb0-3871-814d-9c56637820af","instanceIdentifier":"d4396154-f743-3c82-a846-5374e422a1e7","name":"","source":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"4ca382f7-37b4-3943-8fbe-b921efeb2aea","name":"log_op_port","instanceIdentifier":"9c0ff454-e732-3bf6-ba86-80cb1a27a6ed"},"destination":{"id":"edb8c56c-289e-3b77-9665-1e29e593a9e8","type":"OUTPUT_PORT","groupId":"f43610ad-f589-39b2-9ac1-c067c6504a21","name":"log_op_port","instanceIdentifier":"346a1c42-0744-3486-8c51-b9143fd7b5b7"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f43610ad-f589-39b2-9ac1-c067c6504a21"},{"identifier":"dd346962-b695-3f5e-99f1-660987b3d598","instanceIdentifier":"23b68309-0196-1000-ffff-ffffc202e093","name":"","source":{"id":"f630469d-857c-3bed-b771-45f8d6e89a2a","type":"PROCESSOR","groupId":"f43610ad-f589-39b2-9ac1-c067c6504a21","name":"Check Presence of Person","comments":"","instanceIdentifier":"cc7f3498-97fa-1edd-a45d-833cb1a29c39"},"destination":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"4ca382f7-37b4-3943-8fbe-b921efeb2aea","name":"log_ip_port_insert","comments":"","instanceIdentifier":"23b666f1-bb1c-3c67-9a50-91e116771cbb"},"labelIndex":0,"zIndex":0,"selectedRelationships":["is_person_present & upsert_success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1552.0,"y":432.0},{"x":1552.0,"y":1088.0},{"x":608.0,"y":1088.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f43610ad-f589-39b2-9ac1-c067c6504a21"},{"identifier":"5a9f8794-3ee1-3606-b069-0f31ac7047f4","instanceIdentifier":"bdca3678-baf5-10a6-9734-86f54412d7e5","name":"","source":{"id":"2e14f739-cd6b-365c-a160-b2627aeed213","type":"PROCESSOR","groupId":"f43610ad-f589-39b2-9ac1-c067c6504a21","name":"PutSQL - UPDATE","comments":"","instanceIdentifier":"7e9c3cf3-97fc-18dc-9aac-71743dd7371c"},"destination":{"id":"f630469d-857c-3bed-b771-45f8d6e89a2a","type":"PROCESSOR","groupId":"f43610ad-f589-39b2-9ac1-c067c6504a21","name":"Check Presence of Person","comments":"","instanceIdentifier":"cc7f3498-97fa-1edd-a45d-833cb1a29c39"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success","failure","retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f43610ad-f589-39b2-9ac1-c067c6504a21"},{"identifier":"ce10dad6-919d-35a3-a1f1-3675edcc3d98","instanceIdentifier":"24390be6-0196-1000-ffff-ffffa9e2edb7","name":"","source":{"id":"4bc820ff-9f09-3b3b-9253-fbaf115112f0","type":"PROCESSOR","groupId":"f43610ad-f589-39b2-9ac1-c067c6504a21","name":"PutSQL- INSERT","comments":"","instanceIdentifier":"eb3541b4-eaa3-3629-bf79-f6d4bf501bcd"},"destination":{"id":"9709bd72-9692-3f1a-aadf-40d7aa7193e8","type":"PROCESSOR","groupId":"f43610ad-f589-39b2-9ac1-c067c6504a21","name":"UpdateAttribute","comments":"","instanceIdentifier":"7910f039-f631-3dfb-adf9-f97cf041c07c"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f43610ad-f589-39b2-9ac1-c067c6504a21"},{"identifier":"205976b8-92d3-3a13-96ab-1bff2708503b","instanceIdentifier":"239f070a-0196-1000-0000-0000645266dc","name":"","source":{"id":"434390f5-6e76-31b1-b657-13ea6f44bc13","type":"INPUT_PORT","groupId":"f43610ad-f589-39b2-9ac1-c067c6504a21","name":"ip_port","instanceIdentifier":"acb210a3-46bd-32f5-b89b-dcd7aa1f9037"},"destination":{"id":"f4cbf54e-f8f6-303f-902c-23e950315b3e","type":"PROCESSOR","groupId":"f43610ad-f589-39b2-9ac1-c067c6504a21","name":"RouteOnAttribute","comments":"","instanceIdentifier":"f5583e08-453a-167a-bc00-4449f2ea85c5"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f43610ad-f589-39b2-9ac1-c067c6504a21"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"shared_db_secrets","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"053624e6-6e44-38e6-ac1b-5168d319f71e"}],"remoteProcessGroups":[],"processors":[],"inputPorts":[{"identifier":"525cccff-f2e6-3196-9741-c35ea1779159","instanceIdentifier":"651d1773-0195-1000-0000-000063bf907f","name":"input","position":{"x":560.0,"y":-56.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"053624e6-6e44-38e6-ac1b-5168d319f71e"}],"outputPorts":[{"identifier":"45d2ad38-c75b-3c50-8dba-2d0ec9bfd794","instanceIdentifier":"d1bb076c-0195-1000-0000-0000245fea3e","name":"output","position":{"x":0.0,"y":1176.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"053624e6-6e44-38e6-ac1b-5168d319f71e"},{"identifier":"9d8b5953-9e1e-3323-bdc4-0de65f7d3009","instanceIdentifier":"fa629b98-0195-1000-ffff-ffffe0e90a1a","name":"log_out","position":{"x":1240.0,"y":656.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"053624e6-6e44-38e6-ac1b-5168d319f71e"}],"connections":[{"identifier":"e93fec52-761b-35d9-a628-bf708f5c3f08","instanceIdentifier":"239f685e-0196-1000-0000-000054726632","name":"","source":{"id":"3c26fe71-8d3b-3bd7-933e-38d7323a002e","type":"OUTPUT_PORT","groupId":"7e008db8-2a88-3b5e-a14a-26075f9f1105","name":"op_port","instanceIdentifier":"8b8635a7-85e7-19eb-b297-63a36d29354d"},"destination":{"id":"434390f5-6e76-31b1-b657-13ea6f44bc13","type":"INPUT_PORT","groupId":"f43610ad-f589-39b2-9ac1-c067c6504a21","name":"ip_port","instanceIdentifier":"acb210a3-46bd-32f5-b89b-dcd7aa1f9037"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"053624e6-6e44-38e6-ac1b-5168d319f71e"},{"identifier":"51fd507a-a9bf-3285-80a8-1e1d2298d6da","instanceIdentifier":"99b319bc-aea2-39b3-9380-842e0001eec2","name":"","source":{"id":"fa3bbef2-f070-3048-ae47-5dff9f3eb9e1","type":"OUTPUT_PORT","groupId":"f43610ad-f589-39b2-9ac1-c067c6504a21","name":"op_port","instanceIdentifier":"1f127f1a-7553-353f-a731-33551dfe7b79"},"destination":{"id":"7bddbc8e-62ea-3fec-b336-a242acf0bfd3","type":"INPUT_PORT","groupId":"25b4e952-f565-3656-a53c-a1985eef9c33","name":"client_person_ip","comments":"","instanceIdentifier":"3fcfc305-a8b2-323c-a1eb-af22abb7d7ea"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"053624e6-6e44-38e6-ac1b-5168d319f71e"},{"identifier":"daceffd9-f1a8-3b73-a32b-8745306811f0","instanceIdentifier":"239f840a-0196-1000-ffff-fffff23838ed","name":"","source":{"id":"5db9af35-1157-3e0e-9bd3-f5f1e5a4f34f","type":"OUTPUT_PORT","groupId":"7e008db8-2a88-3b5e-a14a-26075f9f1105","name":"log_op_port","instanceIdentifier":"61723cb4-d73f-149e-8c2c-7e4594c54434"},"destination":{"id":"9d8b5953-9e1e-3323-bdc4-0de65f7d3009","type":"OUTPUT_PORT","groupId":"053624e6-6e44-38e6-ac1b-5168d319f71e","name":"log_out","instanceIdentifier":"fa629b98-0195-1000-ffff-ffffe0e90a1a"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1360.0,"y":176.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"053624e6-6e44-38e6-ac1b-5168d319f71e"},{"identifier":"90fa1912-58a7-3a8a-a96a-5c233db3939e","instanceIdentifier":"fa62aca2-0195-1000-ffff-ffffeec14afa","name":"","source":{"id":"edb8c56c-289e-3b77-9665-1e29e593a9e8","type":"OUTPUT_PORT","groupId":"f43610ad-f589-39b2-9ac1-c067c6504a21","name":"log_op_port","instanceIdentifier":"346a1c42-0744-3486-8c51-b9143fd7b5b7"},"destination":{"id":"9d8b5953-9e1e-3323-bdc4-0de65f7d3009","type":"OUTPUT_PORT","groupId":"053624e6-6e44-38e6-ac1b-5168d319f71e","name":"log_out","instanceIdentifier":"fa629b98-0195-1000-ffff-ffffe0e90a1a"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1360.0,"y":416.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"053624e6-6e44-38e6-ac1b-5168d319f71e"},{"identifier":"62a9cdd8-6b12-360f-9589-4249ceff3637","instanceIdentifier":"ccbf31ea-e5a2-1528-0000-000066b4285e","name":"","source":{"id":"3c26fe71-8d3b-3bd7-933e-38d7323a002e","type":"OUTPUT_PORT","groupId":"e63eaed1-144b-3378-a61f-3037b80f6871","name":"op_port","instanceIdentifier":"d86cb686-747c-3f52-bc5f-cbd6bde9b779"},"destination":{"id":"45d2ad38-c75b-3c50-8dba-2d0ec9bfd794","type":"OUTPUT_PORT","groupId":"053624e6-6e44-38e6-ac1b-5168d319f71e","name":"output","instanceIdentifier":"d1bb076c-0195-1000-0000-0000245fea3e"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"053624e6-6e44-38e6-ac1b-5168d319f71e"},{"identifier":"660ed191-df02-39a9-8773-ca7a844a8d0c","instanceIdentifier":"67389a52-0195-1000-0000-00005ca09617","name":"","source":{"id":"3c26fe71-8d3b-3bd7-933e-38d7323a002e","type":"OUTPUT_PORT","groupId":"25b4e952-f565-3656-a53c-a1985eef9c33","name":"op_port","instanceIdentifier":"8d40a91f-c108-3bab-92f0-f946403a3691"},"destination":{"id":"7bddbc8e-62ea-3fec-b336-a242acf0bfd3","type":"INPUT_PORT","groupId":"6f03e191-604d-340a-a5d4-9b5c9d2cb419","name":"person_email_ip","comments":"","instanceIdentifier":"81f53df1-442e-1d5c-9eb8-d564bad5c369"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"053624e6-6e44-38e6-ac1b-5168d319f71e"},{"identifier":"0fd8f958-6154-3fb0-a967-9257878a26e1","instanceIdentifier":"fa62c17c-0195-1000-ffff-ffffd7addffd","name":"","source":{"id":"5db9af35-1157-3e0e-9bd3-f5f1e5a4f34f","type":"OUTPUT_PORT","groupId":"25b4e952-f565-3656-a53c-a1985eef9c33","name":"log_op_port","instanceIdentifier":"4937df38-db26-31da-9580-5f5b347d4c58"},"destination":{"id":"9d8b5953-9e1e-3323-bdc4-0de65f7d3009","type":"OUTPUT_PORT","groupId":"053624e6-6e44-38e6-ac1b-5168d319f71e","name":"log_out","instanceIdentifier":"fa629b98-0195-1000-ffff-ffffe0e90a1a"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"053624e6-6e44-38e6-ac1b-5168d319f71e"},{"identifier":"c65e1026-e13d-3417-aa60-8f48714fa70e","instanceIdentifier":"fa62d7ce-0195-1000-ffff-ffff9918c551","name":"","source":{"id":"5db9af35-1157-3e0e-9bd3-f5f1e5a4f34f","type":"OUTPUT_PORT","groupId":"6f03e191-604d-340a-a5d4-9b5c9d2cb419","name":"log_op_port","instanceIdentifier":"e32b3306-9972-1006-badc-3da81509bcd3"},"destination":{"id":"9d8b5953-9e1e-3323-bdc4-0de65f7d3009","type":"OUTPUT_PORT","groupId":"053624e6-6e44-38e6-ac1b-5168d319f71e","name":"log_out","instanceIdentifier":"fa629b98-0195-1000-ffff-ffffe0e90a1a"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1232.0,"y":960.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"053624e6-6e44-38e6-ac1b-5168d319f71e"},{"identifier":"d976fe05-b899-3778-b42c-bed10444ffc7","instanceIdentifier":"18e620f4-0196-1000-0000-00002f849f8d","name":"","source":{"id":"3c26fe71-8d3b-3bd7-933e-38d7323a002e","type":"OUTPUT_PORT","groupId":"25b4e952-f565-3656-a53c-a1985eef9c33","name":"op_port","instanceIdentifier":"8d40a91f-c108-3bab-92f0-f946403a3691"},"destination":{"id":"7bddbc8e-62ea-3fec-b336-a242acf0bfd3","type":"INPUT_PORT","groupId":"e63eaed1-144b-3378-a61f-3037b80f6871","name":"input","comments":"","instanceIdentifier":"90249639-7f9e-3333-83b9-71ebfc555a0d"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":120.0,"y":672.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"053624e6-6e44-38e6-ac1b-5168d319f71e"},{"identifier":"430a813f-07af-3529-8ef6-f8266b54a758","instanceIdentifier":"651d28bf-0195-1000-ffff-ffffae1043dd","name":"","source":{"id":"525cccff-f2e6-3196-9741-c35ea1779159","type":"INPUT_PORT","groupId":"053624e6-6e44-38e6-ac1b-5168d319f71e","name":"input","instanceIdentifier":"651d1773-0195-1000-0000-000063bf907f"},"destination":{"id":"7bddbc8e-62ea-3fec-b336-a242acf0bfd3","type":"INPUT_PORT","groupId":"7e008db8-2a88-3b5e-a14a-26075f9f1105","name":"participant_ip","comments":"","instanceIdentifier":"fb7830b2-9247-11f1-bb90-1eb7b7f78d8b"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"053624e6-6e44-38e6-ac1b-5168d319f71e"},{"identifier":"7c6af777-4115-3b24-93c7-4602ecc6fb42","instanceIdentifier":"fa62e40b-0195-1000-0000-00004ce7de2f","name":"","source":{"id":"5db9af35-1157-3e0e-9bd3-f5f1e5a4f34f","type":"OUTPUT_PORT","groupId":"e63eaed1-144b-3378-a61f-3037b80f6871","name":"log_op_port","instanceIdentifier":"80b81dfe-2fe8-3485-a5a8-8815b3745bd3"},"destination":{"id":"9d8b5953-9e1e-3323-bdc4-0de65f7d3009","type":"OUTPUT_PORT","groupId":"053624e6-6e44-38e6-ac1b-5168d319f71e","name":"log_out","instanceIdentifier":"fa629b98-0195-1000-ffff-ffffe0e90a1a"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":424.0,"y":1160.0},{"x":1360.0,"y":1160.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"053624e6-6e44-38e6-ac1b-5168d319f71e"}],"labels":[],"funnels":[],"controllerServices":[{"identifier":"dacee7ee-ad8e-3883-b066-600093c8c337","instanceIdentifier":"651bc060-0195-1000-ffff-ffffe33125d6","name":"DBCPConnectionPool-SharedDB","comments":"","type":"org.apache.nifi.dbcp.DBCPConnectionPool","bundle":{"group":"org.apache.nifi","artifact":"nifi-dbcp-service-nar","version":"1.27.0"},"properties":{"dbcp-min-idle-conns":"0","Max Wait Time":"500 millis","Database Driver Class Name":"org.postgresql.Driver","dbcp-min-evictable-idle-time":"30 mins","kerberos-principal":null,"Max Total Connections":"8","kerberos-credentials-service":null,"dbcp-max-conn-lifetime":"-1","Validation-query":null,"Database Connection URL":"jdbc:postgresql://#{host}:5432/kfone","dbcp-time-between-eviction-runs":"-1","Database User":"#{username}","kerberos-user-service":null,"dbcp-soft-min-evictable-idle-time":"-1","database-driver-locations":"/stackable/userdata/nifi-user-volume/postgresql-42.2.23.jar","dbcp-max-idle-conns":"8","Password":"#{password}"},"propertyDescriptors":{"kerberos-password":{"name":"kerberos-password","displayName":"Kerberos Password","identifiesControllerService":false,"sensitive":true},"dbcp-min-idle-conns":{"name":"dbcp-min-idle-conns","displayName":"Minimum Idle Connections","identifiesControllerService":false,"sensitive":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Driver Class Name":{"name":"Database Driver Class Name","displayName":"Database Driver Class Name","identifiesControllerService":false,"sensitive":false},"dbcp-min-evictable-idle-time":{"name":"dbcp-min-evictable-idle-time","displayName":"Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false},"kerberos-principal":{"name":"kerberos-principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"Max Total Connections":{"name":"Max Total Connections","displayName":"Max Total Connections","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"dbcp-max-conn-lifetime":{"name":"dbcp-max-conn-lifetime","displayName":"Max Connection Lifetime","identifiesControllerService":false,"sensitive":false},"Validation-query":{"name":"Validation-query","displayName":"Validation query","identifiesControllerService":false,"sensitive":false},"Database Connection URL":{"name":"Database Connection URL","displayName":"Database Connection URL","identifiesControllerService":false,"sensitive":false},"dbcp-time-between-eviction-runs":{"name":"dbcp-time-between-eviction-runs","displayName":"Time Between Eviction Runs","identifiesControllerService":false,"sensitive":false},"Database User":{"name":"Database User","displayName":"Database User","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"dbcp-soft-min-evictable-idle-time":{"name":"dbcp-soft-min-evictable-idle-time","displayName":"Soft Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false},"database-driver-locations":{"name":"database-driver-locations","displayName":"Database Driver Location(s)","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["URL","DIRECTORY","FILE"]}},"dbcp-max-idle-conns":{"name":"dbcp-max-idle-conns","displayName":"Max Idle Connections","identifiesControllerService":false,"sensitive":false},"Password":{"name":"Password","displayName":"Password","identifiesControllerService":false,"sensitive":true}},"controllerServiceApis":[{"type":"org.apache.nifi.dbcp.DBCPService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.27.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"053624e6-6e44-38e6-ac1b-5168d319f71e"}],"variables":{"shared_db_schema_name":"kfone_core_v2","flow_name":"SharedDB"},"parameterContextName":"shared_db_secrets","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"e1772894-f075-3819-83b8-d4459bf746e3"},{"identifier":"1e2d69c6-ff60-36ec-a8fc-fde2e3c2f9ad","instanceIdentifier":"d1ba178a-0195-1000-ffff-ffffca3ade6b","name":"IDW DB","comments":"","position":{"x":-128.0,"y":568.0},"processGroups":[{"identifier":"ebb46b65-949d-3f5f-a28e-70da9524c3d8","instanceIdentifier":"43b633c9-83cb-1c89-bed7-5ee0e7e8fa8c","name":"Check For Person & Upsert Project Candidate","comments":"","position":{"x":312.0,"y":336.0},"processGroups":[{"identifier":"4ca382f7-37b4-3943-8fbe-b921efeb2aea","instanceIdentifier":"566b3c50-9a06-11c5-ac42-c214f17d30dd","name":"FRAME LOGS","comments":"","position":{"x":1096.0,"y":712.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"c811201e-6830-30a9-a373-25d1355a63a8","instanceIdentifier":"556d38fe-fb15-1fbb-b2cb-e45a6a9cfe30","name":"Consume Message Attribute","comments":"","position":{"x":416.0,"y":184.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"Project Candidate(Participant)","flow_name":"Participant-IDW DB","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"4ca382f7-37b4-3943-8fbe-b921efeb2aea"}],"inputPorts":[{"identifier":"69c38982-4205-35c8-8503-c742a525b3bf","instanceIdentifier":"9f503b5a-eb0a-15a7-b2e1-d3a7e95aaac4","name":"log_ip_port","position":{"x":470.000003725165,"y":61.000004953158225},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"4ca382f7-37b4-3943-8fbe-b921efeb2aea"}],"outputPorts":[{"identifier":"a88ac5a0-8497-357d-a932-9898df7af4b8","instanceIdentifier":"02e8385e-f4e3-10c0-9073-2c636ec38dee","name":"log_op_port","position":{"x":488.0,"y":448.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"4ca382f7-37b4-3943-8fbe-b921efeb2aea"}],"connections":[{"identifier":"bb00336d-65fc-3103-961e-743c1543ac3b","instanceIdentifier":"cbda31c1-0cb7-1386-9a97-a96c56165805","name":"","source":{"id":"c811201e-6830-30a9-a373-25d1355a63a8","type":"PROCESSOR","groupId":"4ca382f7-37b4-3943-8fbe-b921efeb2aea","name":"Consume Message Attribute","comments":"","instanceIdentifier":"556d38fe-fb15-1fbb-b2cb-e45a6a9cfe30"},"destination":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"4ca382f7-37b4-3943-8fbe-b921efeb2aea","name":"log_op_port","instanceIdentifier":"02e8385e-f4e3-10c0-9073-2c636ec38dee"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4ca382f7-37b4-3943-8fbe-b921efeb2aea"},{"identifier":"4e50b121-e372-3c69-a227-9036de273ba6","instanceIdentifier":"881f3dd6-5fab-1d00-84bb-ade16647ef8d","name":"","source":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"4ca382f7-37b4-3943-8fbe-b921efeb2aea","name":"log_ip_port","instanceIdentifier":"9f503b5a-eb0a-15a7-b2e1-d3a7e95aaac4"},"destination":{"id":"c811201e-6830-30a9-a373-25d1355a63a8","type":"PROCESSOR","groupId":"4ca382f7-37b4-3943-8fbe-b921efeb2aea","name":"Consume Message Attribute","comments":"","instanceIdentifier":"556d38fe-fb15-1fbb-b2cb-e45a6a9cfe30"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4ca382f7-37b4-3943-8fbe-b921efeb2aea"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"ebb46b65-949d-3f5f-a28e-70da9524c3d8"},{"identifier":"12fc0535-781c-321c-a527-f94fde66d4c3","instanceIdentifier":"7ddc3d7e-e211-1d44-9bee-53cda6617cbd","name":"Retry For Person","comments":"","position":{"x":1096.0,"y":1128.0},"processGroups":[{"identifier":"caf4c55b-0c31-36e9-a77e-fcc875adb6e7","instanceIdentifier":"3776358e-71cf-1e5d-8757-359dfbf7c298","name":"FRAME LOGS","comments":"","position":{"x":1656.0,"y":1128.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"c811201e-6830-30a9-a373-25d1355a63a8","instanceIdentifier":"8b323e94-2255-1628-ac23-e6d8a8632ee5","name":"Consume Message Attribute","comments":"","position":{"x":416.0,"y":208.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","error.message":"Max no of retry execeeded for Participant Id: ${participant_id}. Check for errors at replication side","module":"Retry for Person","flow_name":"${flow_name}","manual_error":"true","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}","error.code":"404"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"error.message":{"name":"error.message","displayName":"error.message","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false},"error.code":{"name":"error.code","displayName":"error.code","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"caf4c55b-0c31-36e9-a77e-fcc875adb6e7"}],"inputPorts":[{"identifier":"69c38982-4205-35c8-8503-c742a525b3bf","instanceIdentifier":"a17d3128-e031-1784-8f33-81a271292cb3","name":"log_ip_port","position":{"x":470.000003725165,"y":61.000004953158225},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"caf4c55b-0c31-36e9-a77e-fcc875adb6e7"}],"outputPorts":[{"identifier":"a88ac5a0-8497-357d-a932-9898df7af4b8","instanceIdentifier":"de853101-5a37-1276-a8c7-eb4b4ea2e9bb","name":"log_op_port","position":{"x":472.0,"y":408.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"caf4c55b-0c31-36e9-a77e-fcc875adb6e7"}],"connections":[{"identifier":"cd44e86c-4d10-3c98-a625-1237b563c6b7","instanceIdentifier":"174138f1-d4bd-1549-bcbe-db6fcbdc39ba","name":"","source":{"id":"c811201e-6830-30a9-a373-25d1355a63a8","type":"PROCESSOR","groupId":"caf4c55b-0c31-36e9-a77e-fcc875adb6e7","name":"Consume Message Attribute","comments":"","instanceIdentifier":"8b323e94-2255-1628-ac23-e6d8a8632ee5"},"destination":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"caf4c55b-0c31-36e9-a77e-fcc875adb6e7","name":"log_op_port","instanceIdentifier":"de853101-5a37-1276-a8c7-eb4b4ea2e9bb"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"caf4c55b-0c31-36e9-a77e-fcc875adb6e7"},{"identifier":"4e50b121-e372-3c69-a227-9036de273ba6","instanceIdentifier":"cd6d3484-a730-1498-a2e6-27fc5dc008f6","name":"","source":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"caf4c55b-0c31-36e9-a77e-fcc875adb6e7","name":"log_ip_port","instanceIdentifier":"a17d3128-e031-1784-8f33-81a271292cb3"},"destination":{"id":"c811201e-6830-30a9-a373-25d1355a63a8","type":"PROCESSOR","groupId":"caf4c55b-0c31-36e9-a77e-fcc875adb6e7","name":"Consume Message Attribute","comments":"","instanceIdentifier":"8b323e94-2255-1628-ac23-e6d8a8632ee5"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"caf4c55b-0c31-36e9-a77e-fcc875adb6e7"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"12fc0535-781c-321c-a527-f94fde66d4c3"}],"remoteProcessGroups":[],"processors":[{"identifier":"c78c03ae-e343-39e6-afaa-95364bfb8401","instanceIdentifier":"ed1b38ac-45f0-12a9-81cd-39cb9ea365f6","name":"RetryFlowFile","comments":"","position":{"x":1064.0,"y":1160.0},"type":"org.apache.nifi.processors.standard.RetryFlowFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"penalize-retries":"false","maximum-retries":"20","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"name":"penalize-retries","displayName":"Penalize Retries","identifiesControllerService":false,"sensitive":false},"maximum-retries":{"name":"maximum-retries","displayName":"Maximum Retries","identifiesControllerService":false,"sensitive":false},"Fail on Non-numerical Overwrite":{"name":"Fail on Non-numerical Overwrite","displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"sensitive":false},"reuse-mode":{"name":"reuse-mode","displayName":"Reuse Mode","identifiesControllerService":false,"sensitive":false},"retry-attribute":{"name":"retry-attribute","displayName":"Retry Attribute","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"5 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"12fc0535-781c-321c-a527-f94fde66d4c3"}],"inputPorts":[{"identifier":"5f3523cb-dc7d-329a-b93a-ae65840b8547","instanceIdentifier":"2ac735c1-33ca-1dab-83b7-e8c0a9f98c16","name":"ip_port","position":{"x":1120.0,"y":1040.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"12fc0535-781c-321c-a527-f94fde66d4c3"}],"outputPorts":[{"identifier":"5a0434ce-d22c-3727-aa56-2be60a33c5f0","instanceIdentifier":"26033e09-5b2f-1c1c-a89a-c0584f1572dd","name":"log_op_port","position":{"x":1728.0,"y":1384.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"12fc0535-781c-321c-a527-f94fde66d4c3"},{"identifier":"0ecc1600-edab-3984-86ac-25e3f9251796","instanceIdentifier":"f5a934fd-bf97-1bdc-8e92-4e1fd463e093","name":"retry_port","comments":"","position":{"x":1120.0,"y":1368.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"12fc0535-781c-321c-a527-f94fde66d4c3"}],"connections":[{"identifier":"930ed3d3-892b-399a-8914-1614d5c6674b","instanceIdentifier":"d85d3be7-e02c-1b82-a4c8-a8cf70809db4","name":"","source":{"id":"c78c03ae-e343-39e6-afaa-95364bfb8401","type":"PROCESSOR","groupId":"12fc0535-781c-321c-a527-f94fde66d4c3","name":"RetryFlowFile","comments":"","instanceIdentifier":"ed1b38ac-45f0-12a9-81cd-39cb9ea365f6"},"destination":{"id":"0ecc1600-edab-3984-86ac-25e3f9251796","type":"OUTPUT_PORT","groupId":"12fc0535-781c-321c-a527-f94fde66d4c3","name":"retry_port","comments":"","instanceIdentifier":"f5a934fd-bf97-1bdc-8e92-4e1fd463e093"},"labelIndex":1,"zIndex":0,"selectedRelationships":["retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"12fc0535-781c-321c-a527-f94fde66d4c3"},{"identifier":"eb5fb1c0-6180-31b6-9355-b1d5c85c104e","instanceIdentifier":"e7683b82-a1f3-1768-8d68-b1f577960b3a","name":"","source":{"id":"5f3523cb-dc7d-329a-b93a-ae65840b8547","type":"INPUT_PORT","groupId":"12fc0535-781c-321c-a527-f94fde66d4c3","name":"ip_port","instanceIdentifier":"2ac735c1-33ca-1dab-83b7-e8c0a9f98c16"},"destination":{"id":"c78c03ae-e343-39e6-afaa-95364bfb8401","type":"PROCESSOR","groupId":"12fc0535-781c-321c-a527-f94fde66d4c3","name":"RetryFlowFile","comments":"","instanceIdentifier":"ed1b38ac-45f0-12a9-81cd-39cb9ea365f6"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"12fc0535-781c-321c-a527-f94fde66d4c3"},{"identifier":"9fd98bda-2e01-3a14-a492-6534c927b27a","instanceIdentifier":"431b3ff2-e659-1199-9e48-ebfa2516b338","name":"","source":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"caf4c55b-0c31-36e9-a77e-fcc875adb6e7","name":"log_op_port","instanceIdentifier":"de853101-5a37-1276-a8c7-eb4b4ea2e9bb"},"destination":{"id":"5a0434ce-d22c-3727-aa56-2be60a33c5f0","type":"OUTPUT_PORT","groupId":"12fc0535-781c-321c-a527-f94fde66d4c3","name":"log_op_port","instanceIdentifier":"26033e09-5b2f-1c1c-a89a-c0584f1572dd"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"12fc0535-781c-321c-a527-f94fde66d4c3"},{"identifier":"74d8fcd5-f1c1-3629-bb0b-3e68cd899b84","instanceIdentifier":"2c39312e-496c-128f-a887-8124ec6ae3f3","name":"","source":{"id":"c78c03ae-e343-39e6-afaa-95364bfb8401","type":"PROCESSOR","groupId":"12fc0535-781c-321c-a527-f94fde66d4c3","name":"RetryFlowFile","comments":"","instanceIdentifier":"ed1b38ac-45f0-12a9-81cd-39cb9ea365f6"},"destination":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"caf4c55b-0c31-36e9-a77e-fcc875adb6e7","name":"log_ip_port","instanceIdentifier":"a17d3128-e031-1784-8f33-81a271292cb3"},"labelIndex":1,"zIndex":0,"selectedRelationships":["retries_exceeded"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"12fc0535-781c-321c-a527-f94fde66d4c3"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"ebb46b65-949d-3f5f-a28e-70da9524c3d8"}],"remoteProcessGroups":[],"processors":[{"identifier":"e7f7b11e-cc2f-3d9e-9131-91a2bb1e939a","instanceIdentifier":"28bb36ac-d8c5-1ab3-81cc-e9ed5b405d5e","name":"Generated Key To Attributes","comments":"","position":{"x":432.0,"y":944.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","assessment_pkey":"${sql.generated.key}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"assessment_pkey":{"name":"assessment_pkey","displayName":"assessment_pkey","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"ebb46b65-949d-3f5f-a28e-70da9524c3d8"},{"identifier":"f6a125db-54fd-3cf7-b330-1d5779a35e07","instanceIdentifier":"16623b73-d032-16aa-9713-e89dbed02606","name":"Upsert Project Candidate","comments":"","position":{"x":432.0,"y":728.0},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":"WITH person_check AS (\n    SELECT person_key\n    FROM ${db_name}.person_cross_reference pcr\n    INNER JOIN ${db_name}.client_person cp ON (pcr.client_person_key = cp.client_person_key)\n    WHERE pcr.application_person_id = '${participant_id}'\n    LIMIT 1\n)\nINSERT INTO ${db_name}.project_candidate (\n    cohort_project_key,\n    candidate_key,\n    date_created,\n    status_date,\n    is_completed_flag,\n    status,\n    is_non_billable\n)\nSELECT\n    (SELECT DISTINCT cohort_project_key FROM ${db_name}.cohort_project WHERE source_project_id = '${projectId}' LIMIT 1),\n    (SELECT person_key FROM person_check),\n    CAST(NULLIF('${created_date}', '') AS DATE),\n    CAST(NULLIF('${participantDeadline}', '') AS DATE),\n    CASE WHEN '${status}' = 'All Surveys Complete' THEN TRUE ELSE FALSE END,\n    '${status}',\n    CAST(NULLIF('${is_non_billable}', '') AS BOOLEAN)\nWHERE EXISTS (\n    SELECT 1 FROM person_check WHERE person_key IS NOT NULL\n)\nON CONFLICT (cohort_project_key, candidate_key)\nDO UPDATE SET\n    date_created = EXCLUDED.date_created,\n    status_date = EXCLUDED.status_date,\n    is_completed_flag = EXCLUDED.is_completed_flag,\n    status = EXCLUDED.status,\n    is_non_billable = EXCLUDED.is_non_billable\nRETURNING project_candidate_key;","Transaction Timeout":null,"Batch Size":"100","Obtain Generated Keys":"true","JDBC Connection Pool":"3a79a369-1492-34fd-ab04-a7e437206eba","database-session-autocommit":"true","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":5,"retriedRelationships":["failure","retry"],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"5 secs","componentType":"PROCESSOR","groupIdentifier":"ebb46b65-949d-3f5f-a28e-70da9524c3d8"},{"identifier":"355c9d41-a621-357e-ba8b-acd0c3be2415","instanceIdentifier":"2464b3fb-0196-1000-0000-00007cb66719","name":"UpdateAttribute","comments":"","position":{"x":432.0,"y":480.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":"sql.generated.key","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"ebb46b65-949d-3f5f-a28e-70da9524c3d8"},{"identifier":"6204efb5-9011-3162-a5b3-8f6acde30b4f","instanceIdentifier":"b97e3e31-21f6-1737-93ed-c9407658929f","name":"ExtractAttributes - Project Candidate","comments":"","position":{"x":432.0,"y":264.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Destination":"flowfile-attribute","status_date":"$.dates.reportLastProcessed","Max String Length":"20 MB","is_non_billable":"$.isTestOrDemo","Return Type":"auto-detect","Null Value Representation":"empty string","created_date":"$.dates.created","participantDeadline":"$.dates.participantDeadline","projectId":"$.projectId","Path Not Found Behavior":"ignore","status":"$.status"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"status_date":{"name":"status_date","displayName":"status_date","identifiesControllerService":false,"sensitive":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"is_non_billable":{"name":"is_non_billable","displayName":"is_non_billable","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"created_date":{"name":"created_date","displayName":"created_date","identifiesControllerService":false,"sensitive":false},"participantDeadline":{"name":"participantDeadline","displayName":"participantDeadline","identifiesControllerService":false,"sensitive":false},"projectId":{"name":"projectId","displayName":"projectId","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false},"status":{"name":"status","displayName":"status","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"ebb46b65-949d-3f5f-a28e-70da9524c3d8"},{"identifier":"e756d29c-77f0-31c1-94ed-c381a444919b","instanceIdentifier":"127030ac-dfed-1b7e-b3a3-b7ac9d64e772","name":"UpdateAttribute","comments":"","position":{"x":432.0,"y":1376.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","project_candidate_pkey":"${sql.generated.key}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"project_candidate_pkey":{"name":"project_candidate_pkey","displayName":"project_candidate_pkey","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"ebb46b65-949d-3f5f-a28e-70da9524c3d8"},{"identifier":"715f2c17-198b-39c2-8f26-7e2170a9c20e","instanceIdentifier":"50ea36b8-1fe8-1de6-bbd8-abef8641908a","name":"Check Presence of Person","comments":"","position":{"x":432.0,"y":1160.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Routing Strategy":"Route to Property name","is_person_present & upsert_success":"${assessment_pkey:isEmpty():not()}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"is_person_present & upsert_success":{"name":"is_person_present & upsert_success","displayName":"is_person_present & upsert_success","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"ebb46b65-949d-3f5f-a28e-70da9524c3d8"}],"inputPorts":[{"identifier":"434390f5-6e76-31b1-b657-13ea6f44bc13","instanceIdentifier":"e99538d3-c3f5-1399-92d1-b3eb4f4f3078","name":"ip_port","position":{"x":488.0,"y":136.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"ebb46b65-949d-3f5f-a28e-70da9524c3d8"}],"outputPorts":[{"identifier":"edb8c56c-289e-3b77-9665-1e29e593a9e8","instanceIdentifier":"c6403668-2029-1afa-a299-9fab9dd7602b","name":"log_op_port","position":{"x":1168.0,"y":976.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"ebb46b65-949d-3f5f-a28e-70da9524c3d8"},{"identifier":"e6b1b66b-4267-3eb3-8d40-de086c97fcde","instanceIdentifier":"564236f6-d27a-1c40-aad8-368d1c3f8945","name":"op_port","position":{"x":488.0,"y":1568.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"ebb46b65-949d-3f5f-a28e-70da9524c3d8"}],"connections":[{"identifier":"3478e11a-e586-35e1-b68f-ea1c8d82f60b","instanceIdentifier":"59443631-c9d9-10b4-99e2-6796b575ddba","name":"","source":{"id":"715f2c17-198b-39c2-8f26-7e2170a9c20e","type":"PROCESSOR","groupId":"ebb46b65-949d-3f5f-a28e-70da9524c3d8","name":"Check Presence of Person","comments":"","instanceIdentifier":"50ea36b8-1fe8-1de6-bbd8-abef8641908a"},"destination":{"id":"5f3523cb-dc7d-329a-b93a-ae65840b8547","type":"INPUT_PORT","groupId":"12fc0535-781c-321c-a527-f94fde66d4c3","name":"ip_port","instanceIdentifier":"2ac735c1-33ca-1dab-83b7-e8c0a9f98c16"},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb46b65-949d-3f5f-a28e-70da9524c3d8"},{"identifier":"dfd8c582-acb0-3871-814d-9c56637820af","instanceIdentifier":"54f331d5-a5be-123e-9290-92a58e30e519","name":"","source":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"4ca382f7-37b4-3943-8fbe-b921efeb2aea","name":"log_op_port","instanceIdentifier":"02e8385e-f4e3-10c0-9073-2c636ec38dee"},"destination":{"id":"edb8c56c-289e-3b77-9665-1e29e593a9e8","type":"OUTPUT_PORT","groupId":"ebb46b65-949d-3f5f-a28e-70da9524c3d8","name":"log_op_port","instanceIdentifier":"c6403668-2029-1afa-a299-9fab9dd7602b"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb46b65-949d-3f5f-a28e-70da9524c3d8"},{"identifier":"0a5e919b-ab00-3ac0-8bc3-6998f27da946","instanceIdentifier":"b24134f7-5070-1bcd-b34b-fb5b439b6028","name":"","source":{"id":"e7f7b11e-cc2f-3d9e-9131-91a2bb1e939a","type":"PROCESSOR","groupId":"ebb46b65-949d-3f5f-a28e-70da9524c3d8","name":"Generated Key To Attributes","comments":"","instanceIdentifier":"28bb36ac-d8c5-1ab3-81cc-e9ed5b405d5e"},"destination":{"id":"715f2c17-198b-39c2-8f26-7e2170a9c20e","type":"PROCESSOR","groupId":"ebb46b65-949d-3f5f-a28e-70da9524c3d8","name":"Check Presence of Person","comments":"","instanceIdentifier":"50ea36b8-1fe8-1de6-bbd8-abef8641908a"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb46b65-949d-3f5f-a28e-70da9524c3d8"},{"identifier":"7c0913f6-317e-3557-8aaf-d2ba451349da","instanceIdentifier":"2464d599-0196-1000-ffff-ffffab32ff42","name":"","source":{"id":"355c9d41-a621-357e-ba8b-acd0c3be2415","type":"PROCESSOR","groupId":"ebb46b65-949d-3f5f-a28e-70da9524c3d8","name":"UpdateAttribute","comments":"","instanceIdentifier":"2464b3fb-0196-1000-0000-00007cb66719"},"destination":{"id":"f6a125db-54fd-3cf7-b330-1d5779a35e07","type":"PROCESSOR","groupId":"ebb46b65-949d-3f5f-a28e-70da9524c3d8","name":"Upsert Project Candidate","comments":"","instanceIdentifier":"16623b73-d032-16aa-9713-e89dbed02606"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb46b65-949d-3f5f-a28e-70da9524c3d8"},{"identifier":"9f5ad10a-7d07-327d-9425-ecd7f1737044","instanceIdentifier":"ab38304d-ca90-1385-8c11-af2a28818626","name":"","source":{"id":"715f2c17-198b-39c2-8f26-7e2170a9c20e","type":"PROCESSOR","groupId":"ebb46b65-949d-3f5f-a28e-70da9524c3d8","name":"Check Presence of Person","comments":"","instanceIdentifier":"50ea36b8-1fe8-1de6-bbd8-abef8641908a"},"destination":{"id":"e756d29c-77f0-31c1-94ed-c381a444919b","type":"PROCESSOR","groupId":"ebb46b65-949d-3f5f-a28e-70da9524c3d8","name":"UpdateAttribute","comments":"","instanceIdentifier":"127030ac-dfed-1b7e-b3a3-b7ac9d64e772"},"labelIndex":1,"zIndex":0,"selectedRelationships":["is_person_present & upsert_success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb46b65-949d-3f5f-a28e-70da9524c3d8"},{"identifier":"56dc32fb-6343-3104-b99c-191184360cbb","instanceIdentifier":"76fb334b-7966-1d78-a973-e09181e2ef6a","name":"","source":{"id":"434390f5-6e76-31b1-b657-13ea6f44bc13","type":"INPUT_PORT","groupId":"ebb46b65-949d-3f5f-a28e-70da9524c3d8","name":"ip_port","instanceIdentifier":"e99538d3-c3f5-1399-92d1-b3eb4f4f3078"},"destination":{"id":"6204efb5-9011-3162-a5b3-8f6acde30b4f","type":"PROCESSOR","groupId":"ebb46b65-949d-3f5f-a28e-70da9524c3d8","name":"ExtractAttributes - Project Candidate","comments":"","instanceIdentifier":"b97e3e31-21f6-1737-93ed-c9407658929f"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb46b65-949d-3f5f-a28e-70da9524c3d8"},{"identifier":"e886200f-02e2-368a-9f78-b18cc9cd2cb9","instanceIdentifier":"e27d3dfe-a34c-17f5-8608-b959ecb8fd0c","name":"","source":{"id":"0ecc1600-edab-3984-86ac-25e3f9251796","type":"OUTPUT_PORT","groupId":"12fc0535-781c-321c-a527-f94fde66d4c3","name":"retry_port","comments":"","instanceIdentifier":"f5a934fd-bf97-1bdc-8e92-4e1fd463e093"},"destination":{"id":"f6a125db-54fd-3cf7-b330-1d5779a35e07","type":"PROCESSOR","groupId":"ebb46b65-949d-3f5f-a28e-70da9524c3d8","name":"Upsert Project Candidate","comments":"","instanceIdentifier":"16623b73-d032-16aa-9713-e89dbed02606"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1288.0,"y":1648.0},{"x":208.0,"y":1648.0},{"x":216.0,"y":792.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb46b65-949d-3f5f-a28e-70da9524c3d8"},{"identifier":"67110de5-bc44-3dae-a259-794ee6feacc6","instanceIdentifier":"0db53e89-d586-11c0-bf25-fbca281d2f6d","name":"","source":{"id":"6204efb5-9011-3162-a5b3-8f6acde30b4f","type":"PROCESSOR","groupId":"ebb46b65-949d-3f5f-a28e-70da9524c3d8","name":"ExtractAttributes - Project Candidate","comments":"","instanceIdentifier":"b97e3e31-21f6-1737-93ed-c9407658929f"},"destination":{"id":"355c9d41-a621-357e-ba8b-acd0c3be2415","type":"PROCESSOR","groupId":"ebb46b65-949d-3f5f-a28e-70da9524c3d8","name":"UpdateAttribute","comments":"","instanceIdentifier":"2464b3fb-0196-1000-0000-00007cb66719"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb46b65-949d-3f5f-a28e-70da9524c3d8"},{"identifier":"88e12ede-1e97-3f0c-bd0a-17718a041c88","instanceIdentifier":"cd303c51-a99d-10b7-88d1-1302e7774c12","name":"","source":{"id":"5a0434ce-d22c-3727-aa56-2be60a33c5f0","type":"OUTPUT_PORT","groupId":"12fc0535-781c-321c-a527-f94fde66d4c3","name":"log_op_port","instanceIdentifier":"26033e09-5b2f-1c1c-a89a-c0584f1572dd"},"destination":{"id":"edb8c56c-289e-3b77-9665-1e29e593a9e8","type":"OUTPUT_PORT","groupId":"ebb46b65-949d-3f5f-a28e-70da9524c3d8","name":"log_op_port","instanceIdentifier":"c6403668-2029-1afa-a299-9fab9dd7602b"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb46b65-949d-3f5f-a28e-70da9524c3d8"},{"identifier":"663a962e-86ed-3d7d-b550-6b3f36c4377a","instanceIdentifier":"77b63918-9811-150d-9401-31f6ef54140d","name":"","source":{"id":"e756d29c-77f0-31c1-94ed-c381a444919b","type":"PROCESSOR","groupId":"ebb46b65-949d-3f5f-a28e-70da9524c3d8","name":"UpdateAttribute","comments":"","instanceIdentifier":"127030ac-dfed-1b7e-b3a3-b7ac9d64e772"},"destination":{"id":"e6b1b66b-4267-3eb3-8d40-de086c97fcde","type":"OUTPUT_PORT","groupId":"ebb46b65-949d-3f5f-a28e-70da9524c3d8","name":"op_port","instanceIdentifier":"564236f6-d27a-1c40-aad8-368d1c3f8945"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb46b65-949d-3f5f-a28e-70da9524c3d8"},{"identifier":"b91113ae-ea6d-3199-b0ad-576084e9715a","instanceIdentifier":"d07e3a5c-3d02-140d-ae2b-55284f20d2f5","name":"","source":{"id":"715f2c17-198b-39c2-8f26-7e2170a9c20e","type":"PROCESSOR","groupId":"ebb46b65-949d-3f5f-a28e-70da9524c3d8","name":"Check Presence of Person","comments":"","instanceIdentifier":"50ea36b8-1fe8-1de6-bbd8-abef8641908a"},"destination":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"4ca382f7-37b4-3943-8fbe-b921efeb2aea","name":"log_ip_port","instanceIdentifier":"9f503b5a-eb0a-15a7-b2e1-d3a7e95aaac4"},"labelIndex":1,"zIndex":0,"selectedRelationships":["is_person_present & upsert_success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb46b65-949d-3f5f-a28e-70da9524c3d8"},{"identifier":"d4ab9737-d6ee-362f-91f0-61e1db1768d7","instanceIdentifier":"b3db3a16-cbab-1803-a1d3-6f48d2a1518b","name":"","source":{"id":"f6a125db-54fd-3cf7-b330-1d5779a35e07","type":"PROCESSOR","groupId":"ebb46b65-949d-3f5f-a28e-70da9524c3d8","name":"Upsert Project Candidate","comments":"","instanceIdentifier":"16623b73-d032-16aa-9713-e89dbed02606"},"destination":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"4ca382f7-37b4-3943-8fbe-b921efeb2aea","name":"log_ip_port","instanceIdentifier":"9f503b5a-eb0a-15a7-b2e1-d3a7e95aaac4"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure","retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb46b65-949d-3f5f-a28e-70da9524c3d8"},{"identifier":"c426b1d7-023e-327d-8fe6-0450e435bf39","instanceIdentifier":"9e6531cf-3de7-1360-bbc9-99065c8d390f","name":"","source":{"id":"f6a125db-54fd-3cf7-b330-1d5779a35e07","type":"PROCESSOR","groupId":"ebb46b65-949d-3f5f-a28e-70da9524c3d8","name":"Upsert Project Candidate","comments":"","instanceIdentifier":"16623b73-d032-16aa-9713-e89dbed02606"},"destination":{"id":"e7f7b11e-cc2f-3d9e-9131-91a2bb1e939a","type":"PROCESSOR","groupId":"ebb46b65-949d-3f5f-a28e-70da9524c3d8","name":"Generated Key To Attributes","comments":"","instanceIdentifier":"28bb36ac-d8c5-1ab3-81cc-e9ed5b405d5e"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb46b65-949d-3f5f-a28e-70da9524c3d8"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{"db_name":"idw"},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"1e2d69c6-ff60-36ec-a8fc-fde2e3c2f9ad"},{"identifier":"96ea3c52-ce29-323f-99d7-1de1b1184d70","instanceIdentifier":"e7a438b2-5eda-1b89-8b37-14dede2b5d60","name":"a360_participant_assessment","comments":"","position":{"x":312.0,"y":648.0},"processGroups":[{"identifier":"5a029200-c986-33b8-8e29-47c39600b35b","instanceIdentifier":"7408328c-ed52-1212-a135-d5135c56dd8a","name":"FRAME LOGS","comments":"","position":{"x":1032.0,"y":824.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"c811201e-6830-30a9-a373-25d1355a63a8","instanceIdentifier":"58d03ac4-45d8-198c-9f59-065600f5e5a8","name":"Consume Message Attribute","comments":"","position":{"x":416.0,"y":208.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"${flow_name}-a360_participant_assessment IDW DB","flow_name":"${flow_name}","extras":"participant_assessments_count : ${merge.count}","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"extras":{"name":"extras","displayName":"extras","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"5a029200-c986-33b8-8e29-47c39600b35b"},{"identifier":"8fab70de-23b5-3b66-8db0-01ab770c74f2","instanceIdentifier":"2cd53eb5-9340-1746-be8d-bf325e574d5a","name":"UpdateAttribute","comments":"","position":{"x":416.0,"y":-192.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","merge_key":"${app_uuid}${error.message:isEmpty()}${error.sql.state}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"merge_key":{"name":"merge_key","displayName":"merge_key","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"5a029200-c986-33b8-8e29-47c39600b35b"},{"identifier":"b5f28e17-195d-301c-b366-433332021b04","instanceIdentifier":"5a8b345e-eff1-110d-97d0-0e21a7892da8","name":"Group Assessments","comments":"","position":{"x":416.0,"y":8.0},"type":"org.apache.nifi.processors.standard.MergeContent","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Keep Path":"false","Maximum Group Size":null,"Merge Strategy":"Bin-Packing Algorithm","Attribute Strategy":"Keep All Unique Attributes","Compression Level":"1","Maximum Number of Entries":"10000","Minimum Group Size":"0 B","Maximum number of Bins":"2","Tar Modified Time":"${file.lastModifiedTime}","Delimiter Strategy":"Do Not Use Delimiters","Merge Format":"Binary Concatenation","Footer File":null,"Max Bin Age":"60 sec","Demarcator File":null,"Correlation Attribute Name":"merge_key","Header File":null,"mergecontent-metadata-strategy":"Do Not Merge Uncommon Metadata","Minimum Number of Entries":"1000"},"propertyDescriptors":{"Keep Path":{"name":"Keep Path","displayName":"Keep Path","identifiesControllerService":false,"sensitive":false},"Maximum Group Size":{"name":"Maximum Group Size","displayName":"Maximum Group Size","identifiesControllerService":false,"sensitive":false},"Merge Strategy":{"name":"Merge Strategy","displayName":"Merge Strategy","identifiesControllerService":false,"sensitive":false},"Attribute Strategy":{"name":"Attribute Strategy","displayName":"Attribute Strategy","identifiesControllerService":false,"sensitive":false},"Compression Level":{"name":"Compression Level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"Maximum Number of Entries":{"name":"Maximum Number of Entries","displayName":"Maximum Number of Entries","identifiesControllerService":false,"sensitive":false},"Minimum Group Size":{"name":"Minimum Group Size","displayName":"Minimum Group Size","identifiesControllerService":false,"sensitive":false},"Maximum number of Bins":{"name":"Maximum number of Bins","displayName":"Maximum number of Bins","identifiesControllerService":false,"sensitive":false},"Tar Modified Time":{"name":"Tar Modified Time","displayName":"Tar Modified Time","identifiesControllerService":false,"sensitive":false},"Delimiter Strategy":{"name":"Delimiter Strategy","displayName":"Delimiter Strategy","identifiesControllerService":false,"sensitive":false},"Merge Format":{"name":"Merge Format","displayName":"Merge Format","identifiesControllerService":false,"sensitive":false},"Footer File":{"name":"Footer File","displayName":"Footer","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Max Bin Age":{"name":"Max Bin Age","displayName":"Max Bin Age","identifiesControllerService":false,"sensitive":false},"Demarcator File":{"name":"Demarcator File","displayName":"Demarcator","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Correlation Attribute Name":{"name":"Correlation Attribute Name","displayName":"Correlation Attribute Name","identifiesControllerService":false,"sensitive":false},"Header File":{"name":"Header File","displayName":"Header","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"mergecontent-metadata-strategy":{"name":"mergecontent-metadata-strategy","displayName":"Metadata Strategy","identifiesControllerService":false,"sensitive":false},"Minimum Number of Entries":{"name":"Minimum Number of Entries","displayName":"Minimum Number of Entries","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"5a029200-c986-33b8-8e29-47c39600b35b"}],"inputPorts":[{"identifier":"69c38982-4205-35c8-8503-c742a525b3bf","instanceIdentifier":"3ebf3007-ae1d-112e-a15c-a20f41fb90bc","name":"log_ip_port","position":{"x":464.0,"y":-296.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"5a029200-c986-33b8-8e29-47c39600b35b"}],"outputPorts":[{"identifier":"a88ac5a0-8497-357d-a932-9898df7af4b8","instanceIdentifier":"95493961-b2d3-1c34-b8ea-9e89e383fa88","name":"log_op_port","position":{"x":472.0,"y":408.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"5a029200-c986-33b8-8e29-47c39600b35b"}],"connections":[{"identifier":"cd44e86c-4d10-3c98-a625-1237b563c6b7","instanceIdentifier":"a9603889-8367-1823-abfd-e8508208e9b4","name":"","source":{"id":"c811201e-6830-30a9-a373-25d1355a63a8","type":"PROCESSOR","groupId":"5a029200-c986-33b8-8e29-47c39600b35b","name":"Consume Message Attribute","comments":"","instanceIdentifier":"58d03ac4-45d8-198c-9f59-065600f5e5a8"},"destination":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"5a029200-c986-33b8-8e29-47c39600b35b","name":"log_op_port","instanceIdentifier":"95493961-b2d3-1c34-b8ea-9e89e383fa88"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5a029200-c986-33b8-8e29-47c39600b35b"},{"identifier":"ae196b30-b1f3-32b8-a823-92d40695f481","instanceIdentifier":"964d3155-0ac1-1227-bd7a-fc303e844f8c","name":"","source":{"id":"b5f28e17-195d-301c-b366-433332021b04","type":"PROCESSOR","groupId":"5a029200-c986-33b8-8e29-47c39600b35b","name":"Group Assessments","comments":"","instanceIdentifier":"5a8b345e-eff1-110d-97d0-0e21a7892da8"},"destination":{"id":"c811201e-6830-30a9-a373-25d1355a63a8","type":"PROCESSOR","groupId":"5a029200-c986-33b8-8e29-47c39600b35b","name":"Consume Message Attribute","comments":"","instanceIdentifier":"58d03ac4-45d8-198c-9f59-065600f5e5a8"},"labelIndex":1,"zIndex":0,"selectedRelationships":["merged"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5a029200-c986-33b8-8e29-47c39600b35b"},{"identifier":"e9094579-04ff-319e-8a54-678a06c6ae21","instanceIdentifier":"9d883165-1c90-1c99-8d3c-6cf744289dcc","name":"","source":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"5a029200-c986-33b8-8e29-47c39600b35b","name":"log_ip_port","instanceIdentifier":"3ebf3007-ae1d-112e-a15c-a20f41fb90bc"},"destination":{"id":"8fab70de-23b5-3b66-8db0-01ab770c74f2","type":"PROCESSOR","groupId":"5a029200-c986-33b8-8e29-47c39600b35b","name":"UpdateAttribute","comments":"","instanceIdentifier":"2cd53eb5-9340-1746-be8d-bf325e574d5a"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5a029200-c986-33b8-8e29-47c39600b35b"},{"identifier":"7b5d5ef0-70e4-3b8b-be2a-6dd4f244ddab","instanceIdentifier":"76c03304-534b-1583-857a-d13341c141e9","name":"","source":{"id":"8fab70de-23b5-3b66-8db0-01ab770c74f2","type":"PROCESSOR","groupId":"5a029200-c986-33b8-8e29-47c39600b35b","name":"UpdateAttribute","comments":"","instanceIdentifier":"2cd53eb5-9340-1746-be8d-bf325e574d5a"},"destination":{"id":"b5f28e17-195d-301c-b366-433332021b04","type":"PROCESSOR","groupId":"5a029200-c986-33b8-8e29-47c39600b35b","name":"Group Assessments","comments":"","instanceIdentifier":"5a8b345e-eff1-110d-97d0-0e21a7892da8"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5a029200-c986-33b8-8e29-47c39600b35b"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"96ea3c52-ce29-323f-99d7-1de1b1184d70"}],"remoteProcessGroups":[],"processors":[{"identifier":"518de595-617b-3af2-b087-3d5c8196583b","instanceIdentifier":"aca136d0-0b92-16d2-9ab5-017a79f4e02e","name":"Split Assesment Array","comments":"","position":{"x":352.0,"y":256.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.assessments.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"96ea3c52-ce29-323f-99d7-1de1b1184d70"},{"identifier":"7210e262-ff8e-34f6-98e1-30787452db82","instanceIdentifier":"71f63af7-7702-1814-902b-93ba503511cf","name":"Assesments Data to Attributes","comments":"","position":{"x":352.0,"y":448.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Destination":"flowfile-attribute","Max String Length":"50 MB","Return Type":"json","kF360RoleId":"$.kF360RoleId","Null Value Representation":"the string 'null'","assessment_status":"$.status","assessment_type":"$.type","assessment_source_id":"$.id","Path Not Found Behavior":"warn"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"kF360RoleId":{"name":"kF360RoleId","displayName":"kF360RoleId","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"assessment_status":{"name":"assessment_status","displayName":"assessment_status","identifiesControllerService":false,"sensitive":false},"assessment_type":{"name":"assessment_type","displayName":"assessment_type","identifiesControllerService":false,"sensitive":false},"assessment_source_id":{"name":"assessment_source_id","displayName":"assessment_source_id","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"96ea3c52-ce29-323f-99d7-1de1b1184d70"},{"identifier":"05070c35-15a5-36da-b890-cc1812e4001a","instanceIdentifier":"ed1530cd-bdd5-1f45-9529-9a2fd9c5f3f8","name":"RouteOnAttribute","comments":"","position":{"x":360.0,"y":648.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"validType":"${assessment_type:equals('KF360')}","Routing Strategy":"Route to Property name"},"propertyDescriptors":{"validType":{"name":"validType","displayName":"validType","identifiesControllerService":false,"sensitive":false},"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"96ea3c52-ce29-323f-99d7-1de1b1184d70"},{"identifier":"83c7488c-ed9b-33ee-ad55-d888f5c0567d","instanceIdentifier":"28eb36a1-463d-17ba-b46e-215ab356e79e","name":"Upsert Candidate Assesments","comments":"","position":{"x":372.00001698458334,"y":844.0000024219598},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":"INSERT INTO ${db_name}.a360_participant_assessment (\n    project_candidate_key, \n    source_assessment_id, \n    instrument,\n    status,\n\trole_key,\n\tmodel_key\n)\nSELECT \n    '${project_candidate_pkey}',\n    '${assessment_source_id}',\n    NULLIF('${assessment_type}', 'null'),\n    NULLIF('${assessment_status}', 'null'),\n\t(select role_key from ${db_name}.a360_role, ${db_name}.client c where source_role_id=${kF360RoleId}\nand c.is_active =true and c.is_deleted =false and c.sap_client_id = '${sapClientId}' limit 1),\n\t(select am.model_key from ${db_name}.a360_model am, ${db_name}.client c,${db_name}.a360_role ar where source_role_id=${kF360RoleId} and ar.model_key=am.model_key\nand c.is_active =true and c.is_deleted =false and c.sap_client_id = '${sapClientId}' limit 1)\n\nON CONFLICT (project_candidate_key, source_assessment_id)  \nDO UPDATE SET\n    instrument = EXCLUDED.instrument,\n    status = EXCLUDED.status,\n\trole_key =  EXCLUDED.role_key,\n\tmodel_key = EXCLUDED.model_key;\n","Transaction Timeout":null,"Batch Size":"100","Obtain Generated Keys":"true","JDBC Connection Pool":"3a79a369-1492-34fd-ab04-a7e437206eba","database-session-autocommit":"true","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":5,"retriedRelationships":["failure","retry"],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"5 secs","componentType":"PROCESSOR","groupIdentifier":"96ea3c52-ce29-323f-99d7-1de1b1184d70"}],"inputPorts":[{"identifier":"844cb3ab-7849-3830-bad3-78552e5f53f8","instanceIdentifier":"0e7134ca-7510-16fe-b075-986b8136046c","name":"ip_port","position":{"x":400.0,"y":128.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"96ea3c52-ce29-323f-99d7-1de1b1184d70"}],"outputPorts":[{"identifier":"3c2a31b8-8f99-35fd-b6df-a4ebd7a27aad","instanceIdentifier":"f0f84fbb-0195-1000-ffff-ffffd20b157e","name":"output","position":{"x":424.0,"y":1096.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"96ea3c52-ce29-323f-99d7-1de1b1184d70"},{"identifier":"43b51204-90c4-3286-a8ac-1f8bfdbffaa1","instanceIdentifier":"8548367c-ae16-1085-8b05-2248411ace95","name":"log_op_port","comments":"","position":{"x":1104.0,"y":1088.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"96ea3c52-ce29-323f-99d7-1de1b1184d70"}],"connections":[{"identifier":"f836e477-cef6-34c2-9d5e-010e4cba3024","instanceIdentifier":"f0f88737-0195-1000-ffff-ffffcd004911","name":"","source":{"id":"83c7488c-ed9b-33ee-ad55-d888f5c0567d","type":"PROCESSOR","groupId":"96ea3c52-ce29-323f-99d7-1de1b1184d70","name":"Upsert Candidate Assesments","comments":"","instanceIdentifier":"28eb36a1-463d-17ba-b46e-215ab356e79e"},"destination":{"id":"3c2a31b8-8f99-35fd-b6df-a4ebd7a27aad","type":"OUTPUT_PORT","groupId":"96ea3c52-ce29-323f-99d7-1de1b1184d70","name":"output","instanceIdentifier":"f0f84fbb-0195-1000-ffff-ffffd20b157e"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"96ea3c52-ce29-323f-99d7-1de1b1184d70"},{"identifier":"bf2cab10-409f-35c0-bebe-c4666c56b3be","instanceIdentifier":"b5bd39c8-eddb-111e-8c01-ef6977ef197d","name":"","source":{"id":"7210e262-ff8e-34f6-98e1-30787452db82","type":"PROCESSOR","groupId":"96ea3c52-ce29-323f-99d7-1de1b1184d70","name":"Assesments Data to Attributes","comments":"","instanceIdentifier":"71f63af7-7702-1814-902b-93ba503511cf"},"destination":{"id":"05070c35-15a5-36da-b890-cc1812e4001a","type":"PROCESSOR","groupId":"96ea3c52-ce29-323f-99d7-1de1b1184d70","name":"RouteOnAttribute","comments":"","instanceIdentifier":"ed1530cd-bdd5-1f45-9529-9a2fd9c5f3f8"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"96ea3c52-ce29-323f-99d7-1de1b1184d70"},{"identifier":"bc2cf7ae-8144-38fc-9a17-ff73dddb9008","instanceIdentifier":"da413c7c-e8ea-1cd5-a617-0c9133bc9262","name":"","source":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"5a029200-c986-33b8-8e29-47c39600b35b","name":"log_op_port","instanceIdentifier":"95493961-b2d3-1c34-b8ea-9e89e383fa88"},"destination":{"id":"43b51204-90c4-3286-a8ac-1f8bfdbffaa1","type":"OUTPUT_PORT","groupId":"96ea3c52-ce29-323f-99d7-1de1b1184d70","name":"log_op_port","comments":"","instanceIdentifier":"8548367c-ae16-1085-8b05-2248411ace95"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"96ea3c52-ce29-323f-99d7-1de1b1184d70"},{"identifier":"23ebf7af-d04a-30e9-a893-fd34a7a85c62","instanceIdentifier":"ed1530f5-bdd5-1f45-0000-000006977d0b","name":"","source":{"id":"05070c35-15a5-36da-b890-cc1812e4001a","type":"PROCESSOR","groupId":"96ea3c52-ce29-323f-99d7-1de1b1184d70","name":"RouteOnAttribute","comments":"","instanceIdentifier":"ed1530cd-bdd5-1f45-9529-9a2fd9c5f3f8"},"destination":{"id":"83c7488c-ed9b-33ee-ad55-d888f5c0567d","type":"PROCESSOR","groupId":"96ea3c52-ce29-323f-99d7-1de1b1184d70","name":"Upsert Candidate Assesments","comments":"","instanceIdentifier":"28eb36a1-463d-17ba-b46e-215ab356e79e"},"labelIndex":1,"zIndex":0,"selectedRelationships":["validType"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"96ea3c52-ce29-323f-99d7-1de1b1184d70"},{"identifier":"ce51b3d0-7325-3cb5-b842-2b6fca89d8da","instanceIdentifier":"59be31db-0b03-1da0-acad-b450f0982561","name":"","source":{"id":"844cb3ab-7849-3830-bad3-78552e5f53f8","type":"INPUT_PORT","groupId":"96ea3c52-ce29-323f-99d7-1de1b1184d70","name":"ip_port","instanceIdentifier":"0e7134ca-7510-16fe-b075-986b8136046c"},"destination":{"id":"518de595-617b-3af2-b087-3d5c8196583b","type":"PROCESSOR","groupId":"96ea3c52-ce29-323f-99d7-1de1b1184d70","name":"Split Assesment Array","comments":"","instanceIdentifier":"aca136d0-0b92-16d2-9ab5-017a79f4e02e"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"96ea3c52-ce29-323f-99d7-1de1b1184d70"},{"identifier":"9ec657c5-b4a0-3029-8bb6-c188007c59b4","instanceIdentifier":"6603309b-8f12-1a92-8301-2ba9fc4fe010","name":"","source":{"id":"518de595-617b-3af2-b087-3d5c8196583b","type":"PROCESSOR","groupId":"96ea3c52-ce29-323f-99d7-1de1b1184d70","name":"Split Assesment Array","comments":"","instanceIdentifier":"aca136d0-0b92-16d2-9ab5-017a79f4e02e"},"destination":{"id":"7210e262-ff8e-34f6-98e1-30787452db82","type":"PROCESSOR","groupId":"96ea3c52-ce29-323f-99d7-1de1b1184d70","name":"Assesments Data to Attributes","comments":"","instanceIdentifier":"71f63af7-7702-1814-902b-93ba503511cf"},"labelIndex":1,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"96ea3c52-ce29-323f-99d7-1de1b1184d70"},{"identifier":"56ed9b51-5c73-3a69-930d-14b359667754","instanceIdentifier":"d4ed3e7e-d01e-1f2f-bb39-4f9151d36701","name":"","source":{"id":"83c7488c-ed9b-33ee-ad55-d888f5c0567d","type":"PROCESSOR","groupId":"96ea3c52-ce29-323f-99d7-1de1b1184d70","name":"Upsert Candidate Assesments","comments":"","instanceIdentifier":"28eb36a1-463d-17ba-b46e-215ab356e79e"},"destination":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"5a029200-c986-33b8-8e29-47c39600b35b","name":"log_ip_port","instanceIdentifier":"3ebf3007-ae1d-112e-a15c-a20f41fb90bc"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success","failure","retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"96ea3c52-ce29-323f-99d7-1de1b1184d70"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{"db_name":"idw"},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"1e2d69c6-ff60-36ec-a8fc-fde2e3c2f9ad"},{"identifier":"4b8cd188-a126-3145-b834-50c95a3ededc","instanceIdentifier":"1a5e3fe2-3312-1c9b-afbb-cd033eb65627","name":"a360_participant_assessment_status","comments":"","position":{"x":312.0,"y":952.0},"processGroups":[{"identifier":"7c2e7170-ae9a-380e-9d78-05129b0ce0f0","instanceIdentifier":"b877373f-963b-17c2-9864-8aeb0108e9ed","name":"FRAME LOGS","comments":"","position":{"x":464.0,"y":1192.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"1b6144ed-5f50-3630-870e-e8d274373100","instanceIdentifier":"e6853d6b-fb0e-1e9c-b50b-6dc0d3430fad","name":"Merge project_assessment_status","comments":"","position":{"x":984.0,"y":104.0},"type":"org.apache.nifi.processors.standard.MergeContent","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Keep Path":"false","Maximum Group Size":null,"Merge Strategy":"Bin-Packing Algorithm","Attribute Strategy":"Keep All Unique Attributes","Compression Level":"1","Maximum Number of Entries":"10000","Minimum Group Size":"0 B","Maximum number of Bins":"10","Tar Modified Time":"${file.lastModifiedTime}","Delimiter Strategy":"Do Not Use Delimiters","Merge Format":"Binary Concatenation","Footer File":null,"Max Bin Age":"1 min","Demarcator File":null,"Correlation Attribute Name":"merge_key","Header File":null,"mergecontent-metadata-strategy":"Do Not Merge Uncommon Metadata","Minimum Number of Entries":"1000"},"propertyDescriptors":{"Keep Path":{"name":"Keep Path","displayName":"Keep Path","identifiesControllerService":false,"sensitive":false},"Maximum Group Size":{"name":"Maximum Group Size","displayName":"Maximum Group Size","identifiesControllerService":false,"sensitive":false},"Merge Strategy":{"name":"Merge Strategy","displayName":"Merge Strategy","identifiesControllerService":false,"sensitive":false},"Attribute Strategy":{"name":"Attribute Strategy","displayName":"Attribute Strategy","identifiesControllerService":false,"sensitive":false},"Compression Level":{"name":"Compression Level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"Maximum Number of Entries":{"name":"Maximum Number of Entries","displayName":"Maximum Number of Entries","identifiesControllerService":false,"sensitive":false},"Minimum Group Size":{"name":"Minimum Group Size","displayName":"Minimum Group Size","identifiesControllerService":false,"sensitive":false},"Maximum number of Bins":{"name":"Maximum number of Bins","displayName":"Maximum number of Bins","identifiesControllerService":false,"sensitive":false},"Tar Modified Time":{"name":"Tar Modified Time","displayName":"Tar Modified Time","identifiesControllerService":false,"sensitive":false},"Delimiter Strategy":{"name":"Delimiter Strategy","displayName":"Delimiter Strategy","identifiesControllerService":false,"sensitive":false},"Merge Format":{"name":"Merge Format","displayName":"Merge Format","identifiesControllerService":false,"sensitive":false},"Footer File":{"name":"Footer File","displayName":"Footer","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Max Bin Age":{"name":"Max Bin Age","displayName":"Max Bin Age","identifiesControllerService":false,"sensitive":false},"Demarcator File":{"name":"Demarcator File","displayName":"Demarcator","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Correlation Attribute Name":{"name":"Correlation Attribute Name","displayName":"Correlation Attribute Name","identifiesControllerService":false,"sensitive":false},"Header File":{"name":"Header File","displayName":"Header","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"mergecontent-metadata-strategy":{"name":"mergecontent-metadata-strategy","displayName":"Metadata Strategy","identifiesControllerService":false,"sensitive":false},"Minimum Number of Entries":{"name":"Minimum Number of Entries","displayName":"Minimum Number of Entries","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"7c2e7170-ae9a-380e-9d78-05129b0ce0f0"},{"identifier":"df4e1c3c-51df-35c2-b715-7280f3ce3d58","instanceIdentifier":"3cf2319d-2ff4-1623-be54-a8fc0e0a66a8","name":"DB_OPERATION_LOG_ATTRIBUTE","comments":"","position":{"x":984.0,"y":312.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"${flow_name}-a360_participant_assessment_status","flow_name":"${flow_name}","extras":"participant_assessment_raters : ${merge.count}","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"extras":{"name":"extras","displayName":"extras","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"7c2e7170-ae9a-380e-9d78-05129b0ce0f0"},{"identifier":"5c7cec9a-4580-3c71-9a4d-ec4a68d97a54","instanceIdentifier":"2df03daf-bdf0-13b8-a470-e89466fd03d0","name":"UpdateAttribute","comments":"","position":{"x":984.0,"y":-112.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","merge_key":"${app_uuid}${assessment_source_id}${error.message:isEmpty()}${error.sql.state}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"merge_key":{"name":"merge_key","displayName":"merge_key","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"7c2e7170-ae9a-380e-9d78-05129b0ce0f0"}],"inputPorts":[{"identifier":"1008e348-8ffc-3f6f-a524-b6ceb3277bd4","instanceIdentifier":"8a373826-a4a8-12e5-80ff-8acd42608697","name":"log_ip_port","comments":"","position":{"x":1040.0,"y":-240.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"7c2e7170-ae9a-380e-9d78-05129b0ce0f0"}],"outputPorts":[{"identifier":"2bced172-09f3-3c6f-a2ec-756c99141afd","instanceIdentifier":"b8e7345c-bdf6-17eb-bcfe-d96deb7ffda1","name":"log_op_port","comments":"","position":{"x":1040.0,"y":536.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"7c2e7170-ae9a-380e-9d78-05129b0ce0f0"}],"connections":[{"identifier":"ecdeb8ee-698a-32a1-9545-13294f91da91","instanceIdentifier":"4295390e-395a-136d-961e-5b64b500a166","name":"","source":{"id":"1008e348-8ffc-3f6f-a524-b6ceb3277bd4","type":"INPUT_PORT","groupId":"7c2e7170-ae9a-380e-9d78-05129b0ce0f0","name":"log_ip_port","comments":"","instanceIdentifier":"8a373826-a4a8-12e5-80ff-8acd42608697"},"destination":{"id":"5c7cec9a-4580-3c71-9a4d-ec4a68d97a54","type":"PROCESSOR","groupId":"7c2e7170-ae9a-380e-9d78-05129b0ce0f0","name":"UpdateAttribute","comments":"","instanceIdentifier":"2df03daf-bdf0-13b8-a470-e89466fd03d0"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"SINGLE_NODE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"7c2e7170-ae9a-380e-9d78-05129b0ce0f0"},{"identifier":"a8682e2e-6389-3eba-990f-70fd4847ef59","instanceIdentifier":"a6243bdd-d074-13dc-a633-df435ec34cce","name":"","source":{"id":"df4e1c3c-51df-35c2-b715-7280f3ce3d58","type":"PROCESSOR","groupId":"7c2e7170-ae9a-380e-9d78-05129b0ce0f0","name":"DB_OPERATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"3cf2319d-2ff4-1623-be54-a8fc0e0a66a8"},"destination":{"id":"2bced172-09f3-3c6f-a2ec-756c99141afd","type":"OUTPUT_PORT","groupId":"7c2e7170-ae9a-380e-9d78-05129b0ce0f0","name":"log_op_port","comments":"","instanceIdentifier":"b8e7345c-bdf6-17eb-bcfe-d96deb7ffda1"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"7c2e7170-ae9a-380e-9d78-05129b0ce0f0"},{"identifier":"b1692c90-48e3-3f5d-8db3-4dcbdcf62e67","instanceIdentifier":"4e983c33-47f1-1819-923f-5d73c0b84a0b","name":"","source":{"id":"5c7cec9a-4580-3c71-9a4d-ec4a68d97a54","type":"PROCESSOR","groupId":"7c2e7170-ae9a-380e-9d78-05129b0ce0f0","name":"UpdateAttribute","comments":"","instanceIdentifier":"2df03daf-bdf0-13b8-a470-e89466fd03d0"},"destination":{"id":"1b6144ed-5f50-3630-870e-e8d274373100","type":"PROCESSOR","groupId":"7c2e7170-ae9a-380e-9d78-05129b0ce0f0","name":"Merge project_assessment_status","comments":"","instanceIdentifier":"e6853d6b-fb0e-1e9c-b50b-6dc0d3430fad"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"SINGLE_NODE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"7c2e7170-ae9a-380e-9d78-05129b0ce0f0"},{"identifier":"60d5be40-706d-3053-a928-0019b651d77a","instanceIdentifier":"710b3e88-b5ed-1feb-b8bc-6d3d8ad4ceb7","name":"","source":{"id":"1b6144ed-5f50-3630-870e-e8d274373100","type":"PROCESSOR","groupId":"7c2e7170-ae9a-380e-9d78-05129b0ce0f0","name":"Merge project_assessment_status","comments":"","instanceIdentifier":"e6853d6b-fb0e-1e9c-b50b-6dc0d3430fad"},"destination":{"id":"df4e1c3c-51df-35c2-b715-7280f3ce3d58","type":"PROCESSOR","groupId":"7c2e7170-ae9a-380e-9d78-05129b0ce0f0","name":"DB_OPERATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"3cf2319d-2ff4-1623-be54-a8fc0e0a66a8"},"labelIndex":1,"zIndex":0,"selectedRelationships":["merged"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"7c2e7170-ae9a-380e-9d78-05129b0ce0f0"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"4b8cd188-a126-3145-b834-50c95a3ededc"}],"remoteProcessGroups":[],"processors":[{"identifier":"6544c75a-246c-3202-83af-d316e534b625","instanceIdentifier":"ec7b3cd6-bf8e-1ec2-9268-167db28ae12c","name":"Upsert Project Assessments Rater Counts","comments":"","position":{"x":-160.0,"y":1208.0},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":"WITH rater_type AS (\n    SELECT rater_type_key \n    FROM ${db_schema}.a360_rater_type \n    WHERE rater_id = '${id}' \n    LIMIT 1\n)\nINSERT INTO ${db_schema}.a360_participant_assessment_status (\n    participant_assessment_key, \n    rater_type_key, \n    total_submitted, \n    total_distributed, \n    total_submitted_valid\n)\nVALUES (\n    '${sql.generated.key}', \n    (SELECT rater_type_key FROM rater_type), \n    ${surveysCompleted}, \n    ${surveysDistributed}, \n    ${surveysWithValidData}\n)\nON CONFLICT (participant_assessment_key, rater_type_key)\nDO UPDATE SET\n    total_submitted = EXCLUDED.total_submitted,\n    total_distributed = EXCLUDED.total_distributed,\n    total_submitted_valid = EXCLUDED.total_submitted_valid\nWHERE EXISTS (\n    SELECT 1\n    FROM rater_type\n    WHERE rater_type_key IS NOT NULL\n)\nRETURNING participant_assessment_status_key;","Transaction Timeout":null,"Batch Size":"50","Obtain Generated Keys":"true","JDBC Connection Pool":"3a79a369-1492-34fd-ab04-a7e437206eba","database-session-autocommit":"true","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"0 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":2,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":5,"retriedRelationships":["failure","retry"],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"5 sec","componentType":"PROCESSOR","groupIdentifier":"4b8cd188-a126-3145-b834-50c95a3ededc"},{"identifier":"03759dc1-03d3-35f6-9b79-e895647d72a0","instanceIdentifier":"069a3360-d932-145f-9d45-02e4fd1e23d9","name":"Split Assessment Array","comments":"","position":{"x":-168.0,"y":784.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.raterCategories.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"4b8cd188-a126-3145-b834-50c95a3ededc"},{"identifier":"a36b327a-2451-364b-9189-94f10260e8a0","instanceIdentifier":"64773105-41e5-1af5-96d1-82ca67cc96e5","name":"Rater Data to Attributes","comments":"","position":{"x":-167.33452100520094,"y":989.2971968664131},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Destination":"flowfile-attribute","surveysCompleted":"$.surveysCompleted","Max String Length":"50 MB","surveysWithValidData":"$.surveysWithValidData","Return Type":"json","name":"$.name","surveysDistributed":"$.surveysDistributed","Null Value Representation":"the string 'null'","id":"$.id","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"surveysCompleted":{"name":"surveysCompleted","displayName":"surveysCompleted","identifiesControllerService":false,"sensitive":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"surveysWithValidData":{"name":"surveysWithValidData","displayName":"surveysWithValidData","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"name":{"name":"name","displayName":"name","identifiesControllerService":false,"sensitive":false},"surveysDistributed":{"name":"surveysDistributed","displayName":"surveysDistributed","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"id":{"name":"id","displayName":"id","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":2,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"4b8cd188-a126-3145-b834-50c95a3ededc"}],"inputPorts":[{"identifier":"01a50aa8-74d0-3d04-a2f1-b2509c469134","instanceIdentifier":"907f3700-2eb4-1b5a-9b82-9abc4445e941","name":"input","position":{"x":-112.0,"y":648.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"4b8cd188-a126-3145-b834-50c95a3ededc"}],"outputPorts":[{"identifier":"d9206fb9-2743-3f01-9edf-c18824b0dbb7","instanceIdentifier":"9c82369c-e35c-1f50-88a6-4a72880d4e53","name":"log_out","position":{"x":536.0,"y":1472.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"4b8cd188-a126-3145-b834-50c95a3ededc"}],"connections":[{"identifier":"120dcc57-33f1-3219-9bd9-59cd0301ad18","instanceIdentifier":"d4ca3b53-c9ea-126e-bdeb-2816fdc8f1db","name":"","source":{"id":"01a50aa8-74d0-3d04-a2f1-b2509c469134","type":"INPUT_PORT","groupId":"4b8cd188-a126-3145-b834-50c95a3ededc","name":"input","instanceIdentifier":"907f3700-2eb4-1b5a-9b82-9abc4445e941"},"destination":{"id":"03759dc1-03d3-35f6-9b79-e895647d72a0","type":"PROCESSOR","groupId":"4b8cd188-a126-3145-b834-50c95a3ededc","name":"Split Assessment Array","comments":"","instanceIdentifier":"069a3360-d932-145f-9d45-02e4fd1e23d9"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4b8cd188-a126-3145-b834-50c95a3ededc"},{"identifier":"000135e4-bed6-3ba0-a7f1-dc2a42e0d685","instanceIdentifier":"43b836ef-b610-1d83-b9bd-0fe6a12f08d4","name":"","source":{"id":"6544c75a-246c-3202-83af-d316e534b625","type":"PROCESSOR","groupId":"4b8cd188-a126-3145-b834-50c95a3ededc","name":"Upsert Project Assessments Rater Counts","comments":"","instanceIdentifier":"ec7b3cd6-bf8e-1ec2-9268-167db28ae12c"},"destination":{"id":"1008e348-8ffc-3f6f-a524-b6ceb3277bd4","type":"INPUT_PORT","groupId":"7c2e7170-ae9a-380e-9d78-05129b0ce0f0","name":"log_ip_port","comments":"","instanceIdentifier":"8a373826-a4a8-12e5-80ff-8acd42608697"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success","failure","retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4b8cd188-a126-3145-b834-50c95a3ededc"},{"identifier":"e18ab06c-3b17-320a-8a72-9190259810f2","instanceIdentifier":"ccb63c11-94e9-1009-8f1f-a34c58b3b4f2","name":"","source":{"id":"03759dc1-03d3-35f6-9b79-e895647d72a0","type":"PROCESSOR","groupId":"4b8cd188-a126-3145-b834-50c95a3ededc","name":"Split Assessment Array","comments":"","instanceIdentifier":"069a3360-d932-145f-9d45-02e4fd1e23d9"},"destination":{"id":"a36b327a-2451-364b-9189-94f10260e8a0","type":"PROCESSOR","groupId":"4b8cd188-a126-3145-b834-50c95a3ededc","name":"Rater Data to Attributes","comments":"","instanceIdentifier":"64773105-41e5-1af5-96d1-82ca67cc96e5"},"labelIndex":1,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4b8cd188-a126-3145-b834-50c95a3ededc"},{"identifier":"a96fb45c-97c7-3c18-825f-b9ef35cdf9e0","instanceIdentifier":"fb5a35b5-7905-1faa-bf03-aed007b057c7","name":"","source":{"id":"a36b327a-2451-364b-9189-94f10260e8a0","type":"PROCESSOR","groupId":"4b8cd188-a126-3145-b834-50c95a3ededc","name":"Rater Data to Attributes","comments":"","instanceIdentifier":"64773105-41e5-1af5-96d1-82ca67cc96e5"},"destination":{"id":"6544c75a-246c-3202-83af-d316e534b625","type":"PROCESSOR","groupId":"4b8cd188-a126-3145-b834-50c95a3ededc","name":"Upsert Project Assessments Rater Counts","comments":"","instanceIdentifier":"ec7b3cd6-bf8e-1ec2-9268-167db28ae12c"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4b8cd188-a126-3145-b834-50c95a3ededc"},{"identifier":"bd89c673-59df-35ff-bafa-1035f5180b8e","instanceIdentifier":"1b6332cf-8309-18c4-bbe8-4c704307811a","name":"","source":{"id":"2bced172-09f3-3c6f-a2ec-756c99141afd","type":"OUTPUT_PORT","groupId":"7c2e7170-ae9a-380e-9d78-05129b0ce0f0","name":"log_op_port","comments":"","instanceIdentifier":"b8e7345c-bdf6-17eb-bcfe-d96deb7ffda1"},"destination":{"id":"d9206fb9-2743-3f01-9edf-c18824b0dbb7","type":"OUTPUT_PORT","groupId":"4b8cd188-a126-3145-b834-50c95a3ededc","name":"log_out","instanceIdentifier":"9c82369c-e35c-1f50-88a6-4a72880d4e53"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4b8cd188-a126-3145-b834-50c95a3ededc"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"idw_db_secrets","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"1e2d69c6-ff60-36ec-a8fc-fde2e3c2f9ad"},{"identifier":"ca2efbe0-5fad-3453-9d76-3f71639081da","instanceIdentifier":"a3df379e-9ad2-1259-971e-44a622a7711c","name":"employee_demographics","comments":"","position":{"x":1016.0,"y":328.0},"processGroups":[{"identifier":"5a029200-c986-33b8-8e29-47c39600b35b","instanceIdentifier":"c4ec3b27-39bc-15ac-9d88-9435590fa2c2","name":"FRAME LOGS","comments":"","position":{"x":1032.0,"y":824.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"c811201e-6830-30a9-a373-25d1355a63a8","instanceIdentifier":"44083e36-3d8e-1195-aec3-61927b3f9585","name":"Consume Message Attribute","comments":"","position":{"x":416.0,"y":208.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"${flow_name}-Employee_Demographics IDW DB","flow_name":"${flow_name}","extras":"demographics_count : ${merge.count}","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"extras":{"name":"extras","displayName":"extras","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"5a029200-c986-33b8-8e29-47c39600b35b"},{"identifier":"8fab70de-23b5-3b66-8db0-01ab770c74f2","instanceIdentifier":"f21d3c30-588f-1f76-8cac-21583c4f72f5","name":"UpdateAttribute","comments":"","position":{"x":416.0,"y":-192.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","merge_key":"${app_uuid}${error.message:isEmpty()}${error.sql.state}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"merge_key":{"name":"merge_key","displayName":"merge_key","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"5a029200-c986-33b8-8e29-47c39600b35b"},{"identifier":"b5f28e17-195d-301c-b366-433332021b04","instanceIdentifier":"14fa3360-0f30-199d-bf8a-384d6c270f61","name":"MergeDemographics","comments":"","position":{"x":416.0,"y":8.0},"type":"org.apache.nifi.processors.standard.MergeContent","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Keep Path":"false","Maximum Group Size":null,"Merge Strategy":"Bin-Packing Algorithm","Attribute Strategy":"Keep All Unique Attributes","Compression Level":"1","Maximum Number of Entries":"10000","Minimum Group Size":"0 B","Maximum number of Bins":"2","Tar Modified Time":"${file.lastModifiedTime}","Delimiter Strategy":"Do Not Use Delimiters","Merge Format":"Binary Concatenation","Footer File":null,"Max Bin Age":"60 sec","Demarcator File":null,"Correlation Attribute Name":"merge_key","Header File":null,"mergecontent-metadata-strategy":"Do Not Merge Uncommon Metadata","Minimum Number of Entries":"1000"},"propertyDescriptors":{"Keep Path":{"name":"Keep Path","displayName":"Keep Path","identifiesControllerService":false,"sensitive":false},"Maximum Group Size":{"name":"Maximum Group Size","displayName":"Maximum Group Size","identifiesControllerService":false,"sensitive":false},"Merge Strategy":{"name":"Merge Strategy","displayName":"Merge Strategy","identifiesControllerService":false,"sensitive":false},"Attribute Strategy":{"name":"Attribute Strategy","displayName":"Attribute Strategy","identifiesControllerService":false,"sensitive":false},"Compression Level":{"name":"Compression Level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"Maximum Number of Entries":{"name":"Maximum Number of Entries","displayName":"Maximum Number of Entries","identifiesControllerService":false,"sensitive":false},"Minimum Group Size":{"name":"Minimum Group Size","displayName":"Minimum Group Size","identifiesControllerService":false,"sensitive":false},"Maximum number of Bins":{"name":"Maximum number of Bins","displayName":"Maximum number of Bins","identifiesControllerService":false,"sensitive":false},"Tar Modified Time":{"name":"Tar Modified Time","displayName":"Tar Modified Time","identifiesControllerService":false,"sensitive":false},"Delimiter Strategy":{"name":"Delimiter Strategy","displayName":"Delimiter Strategy","identifiesControllerService":false,"sensitive":false},"Merge Format":{"name":"Merge Format","displayName":"Merge Format","identifiesControllerService":false,"sensitive":false},"Footer File":{"name":"Footer File","displayName":"Footer","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Max Bin Age":{"name":"Max Bin Age","displayName":"Max Bin Age","identifiesControllerService":false,"sensitive":false},"Demarcator File":{"name":"Demarcator File","displayName":"Demarcator","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Correlation Attribute Name":{"name":"Correlation Attribute Name","displayName":"Correlation Attribute Name","identifiesControllerService":false,"sensitive":false},"Header File":{"name":"Header File","displayName":"Header","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"mergecontent-metadata-strategy":{"name":"mergecontent-metadata-strategy","displayName":"Metadata Strategy","identifiesControllerService":false,"sensitive":false},"Minimum Number of Entries":{"name":"Minimum Number of Entries","displayName":"Minimum Number of Entries","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"5a029200-c986-33b8-8e29-47c39600b35b"}],"inputPorts":[{"identifier":"69c38982-4205-35c8-8503-c742a525b3bf","instanceIdentifier":"94f43ae7-6593-13b9-8dfc-6f40b0485514","name":"log_ip_port","position":{"x":464.0,"y":-296.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"5a029200-c986-33b8-8e29-47c39600b35b"}],"outputPorts":[{"identifier":"a88ac5a0-8497-357d-a932-9898df7af4b8","instanceIdentifier":"fa343e05-312a-1662-a058-d7fa0069af33","name":"log_op_port","position":{"x":472.0,"y":408.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"5a029200-c986-33b8-8e29-47c39600b35b"}],"connections":[{"identifier":"cd44e86c-4d10-3c98-a625-1237b563c6b7","instanceIdentifier":"554c3e4d-bc70-1942-80c6-a55835f9fbe2","name":"","source":{"id":"c811201e-6830-30a9-a373-25d1355a63a8","type":"PROCESSOR","groupId":"5a029200-c986-33b8-8e29-47c39600b35b","name":"Consume Message Attribute","comments":"","instanceIdentifier":"44083e36-3d8e-1195-aec3-61927b3f9585"},"destination":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"5a029200-c986-33b8-8e29-47c39600b35b","name":"log_op_port","instanceIdentifier":"fa343e05-312a-1662-a058-d7fa0069af33"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5a029200-c986-33b8-8e29-47c39600b35b"},{"identifier":"ae196b30-b1f3-32b8-a823-92d40695f481","instanceIdentifier":"9170367f-7171-1603-bb93-9cb84dda91c8","name":"","source":{"id":"b5f28e17-195d-301c-b366-433332021b04","type":"PROCESSOR","groupId":"5a029200-c986-33b8-8e29-47c39600b35b","name":"MergeDemographics","comments":"","instanceIdentifier":"14fa3360-0f30-199d-bf8a-384d6c270f61"},"destination":{"id":"c811201e-6830-30a9-a373-25d1355a63a8","type":"PROCESSOR","groupId":"5a029200-c986-33b8-8e29-47c39600b35b","name":"Consume Message Attribute","comments":"","instanceIdentifier":"44083e36-3d8e-1195-aec3-61927b3f9585"},"labelIndex":1,"zIndex":0,"selectedRelationships":["merged"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5a029200-c986-33b8-8e29-47c39600b35b"},{"identifier":"7b5d5ef0-70e4-3b8b-be2a-6dd4f244ddab","instanceIdentifier":"609f35c7-cef1-1ac6-baa0-12d5d7a72e4c","name":"","source":{"id":"8fab70de-23b5-3b66-8db0-01ab770c74f2","type":"PROCESSOR","groupId":"5a029200-c986-33b8-8e29-47c39600b35b","name":"UpdateAttribute","comments":"","instanceIdentifier":"f21d3c30-588f-1f76-8cac-21583c4f72f5"},"destination":{"id":"b5f28e17-195d-301c-b366-433332021b04","type":"PROCESSOR","groupId":"5a029200-c986-33b8-8e29-47c39600b35b","name":"MergeDemographics","comments":"","instanceIdentifier":"14fa3360-0f30-199d-bf8a-384d6c270f61"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5a029200-c986-33b8-8e29-47c39600b35b"},{"identifier":"e9094579-04ff-319e-8a54-678a06c6ae21","instanceIdentifier":"ef9a34d6-11c0-15b4-8b15-aee70694eb7b","name":"","source":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"5a029200-c986-33b8-8e29-47c39600b35b","name":"log_ip_port","instanceIdentifier":"94f43ae7-6593-13b9-8dfc-6f40b0485514"},"destination":{"id":"8fab70de-23b5-3b66-8db0-01ab770c74f2","type":"PROCESSOR","groupId":"5a029200-c986-33b8-8e29-47c39600b35b","name":"UpdateAttribute","comments":"","instanceIdentifier":"f21d3c30-588f-1f76-8cac-21583c4f72f5"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5a029200-c986-33b8-8e29-47c39600b35b"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{"flow_name":"Participant-IDW DB"},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"ca2efbe0-5fad-3453-9d76-3f71639081da"}],"remoteProcessGroups":[],"processors":[{"identifier":"2d5c29b6-91c6-37d5-ac34-d028280c7d80","instanceIdentifier":"f5d7cdac-0195-1000-ffff-ffffc725540a","name":"ExecuteGroovyScript","comments":"","position":{"x":376.0,"y":208.0},"type":"org.apache.nifi.processors.groovyx.ExecuteGroovyScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-groovyx-nar","version":"1.27.0"},"properties":{"groovyx-script-body":"import groovy.json.JsonSlurper \nimport java.nio.charset.StandardCharsets \nimport org.apache.nifi.processor.io.InputStreamCallback \nimport groovy.json.JsonOutput\n\ndef flowFile = session.get()\nif (!flowFile) {\n    return\n}\n\n// Use a variable accessible outside the callback to store the parsed data or errors\ndef data = null\ndef parseError = null\n\ntry {\n    session.read(flowFile, { inputStream ->\n        def reader = new InputStreamReader(inputStream, StandardCharsets.UTF_8)\n        data = new JsonSlurper().parse(reader)\n    } as InputStreamCallback) // Cast the closure to the required interface\n\n   def outputList = []\n\n    def sqlValueFormatter = { value ->\n        if (value == null) {\n            return null\n        } else {\n            def escapedValue = value.toString().replace(\"'\", \"''\")\n            return \"${escapedValue}\"\n        }\n    }\n    data.demographics.each { key, value ->\n        def demoValue\n\t\tdef demoCode\n\n        // Check if the value is a Map and has a 'label' key\n        if (value instanceof Map) {\n        \tif(key!='app')\n\t\t\t{\n            demoValue = sqlValueFormatter(value.label)\n\t\t\tdemoCode = sqlValueFormatter(value.id)\n\t\t\toutputList.add([id: key, demoCode: demoCode, demoValue: demoValue])\n        \t}\n\t\t}\n        else {\n            demoCode = sqlValueFormatter(value)\n        \toutputList.add([id: key, demoCode: demoCode, demoValue: demoValue])\n        }\n    }\n\n\n    def jsonOutput = JsonOutput.toJson(outputList)\n    flowFile = session.write(flowFile, { outputStream ->\n        outputStream.write(jsonOutput.getBytes(StandardCharsets.UTF_8))\n    } as OutputStreamCallback)\n\n    session.transfer(flowFile, REL_SUCCESS)\n\n} catch (Exception e) {\n    parseError = e\n\n    System.err.println(\"Failed to parse JSON for FlowFile ${flowFile.id}: ${e.getMessage()}\")\n\n    flowFile = session.putAttribute(flowFile, 'json.parsed.status', 'failure')\n    flowFile = session.putAttribute(flowFile, 'json.parse.error', e.getMessage())\n\n    session.transfer(flowFile, REL_FAILURE)\n}","groovyx-failure-strategy":"rollback","groovyx-additional-classpath":null,"groovyx-script-file":null},"propertyDescriptors":{"groovyx-script-body":{"name":"groovyx-script-body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false},"groovyx-failure-strategy":{"name":"groovyx-failure-strategy","displayName":"Failure strategy","identifiesControllerService":false,"sensitive":false},"groovyx-additional-classpath":{"name":"groovyx-additional-classpath","displayName":"Additional classpath","identifiesControllerService":false,"sensitive":false},"groovyx-script-file":{"name":"groovyx-script-file","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"ca2efbe0-5fad-3453-9d76-3f71639081da"},{"identifier":"83c7488c-ed9b-33ee-ad55-d888f5c0567d","instanceIdentifier":"f7ec36f8-9770-11d7-b149-b784c9d9f7e8","name":"Upsert to Employee Demographics","comments":"","position":{"x":372.00001698458334,"y":844.0000024219598},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":"INSERT INTO ${db_schema}.employee_demographics \n(source_demo_id, candidate_key, project_candidate_key, demo_order_num, demo_code, demo_value,demo_value_desc,cohort_project_key,client_key) VALUES \n(CAST(NULLIF('${id}', '') AS VARCHAR),'${person_id_pkey}','${project_candidate_pkey}',1,CAST(NULLIF('${id}', '') AS VARCHAR),CAST(NULLIF('${demoCode}', '') AS VARCHAR),CAST(NULLIF('${demoValue}', '') AS VARCHAR),(SELECT cohort_project_key\n    FROM ${db_schema}.cohort_project\n    WHERE source_project_id = '${projectId}' \n    LIMIT 1),(select client_key from ${db_schema}.client where sap_client_id= '${sapClientId}' and is_active =true and is_deleted= false limit 1\n))\n ON CONFLICT (source_demo_id, candidate_key, cohort_project_key, project_candidate_key, client_key,demo_code) \nDO UPDATE SET demo_order_num = EXCLUDED.demo_order_num, demo_code = EXCLUDED.demo_code, demo_value = EXCLUDED.demo_value, demo_value_desc = EXCLUDED.demo_value_desc;\n","Transaction Timeout":null,"Batch Size":"100","Obtain Generated Keys":"true","JDBC Connection Pool":"3a79a369-1492-34fd-ab04-a7e437206eba","database-session-autocommit":"true","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":5,"retriedRelationships":["failure","retry"],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"5 secs","componentType":"PROCESSOR","groupIdentifier":"ca2efbe0-5fad-3453-9d76-3f71639081da"},{"identifier":"9fbffe9c-7a6e-3a99-b10b-bdb4def74687","instanceIdentifier":"fa53e5b7-0195-1000-ffff-ffffbb6771ee","name":"EvaluateJsonPath","comments":"","position":{"x":376.0,"y":632.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Destination":"flowfile-attribute","demoValue":"$.demoValue","Max String Length":"20 MB","Return Type":"auto-detect","demoCode":"$.demoCode","Null Value Representation":"empty string","id":"$.id","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"demoValue":{"name":"demoValue","displayName":"demoValue","identifiesControllerService":false,"sensitive":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"demoCode":{"name":"demoCode","displayName":"demoCode","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"id":{"name":"id","displayName":"id","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"ca2efbe0-5fad-3453-9d76-3f71639081da"},{"identifier":"a15edeca-086e-36ce-a721-cb9376f53014","instanceIdentifier":"fa4c7cfa-0195-1000-0000-00003ba82304","name":"SplitJson","comments":"","position":{"x":376.0,"y":408.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"ca2efbe0-5fad-3453-9d76-3f71639081da"}],"inputPorts":[{"identifier":"844cb3ab-7849-3830-bad3-78552e5f53f8","instanceIdentifier":"b5e130c5-6297-1f84-90f3-2ac37429d1ae","name":"ip_port","position":{"x":432.0,"y":72.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"ca2efbe0-5fad-3453-9d76-3f71639081da"}],"outputPorts":[{"identifier":"43b51204-90c4-3286-a8ac-1f8bfdbffaa1","instanceIdentifier":"2beb3caf-0d78-1e09-b038-3440c4a82ff9","name":"log_op_port","comments":"","position":{"x":1104.0,"y":1088.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"ca2efbe0-5fad-3453-9d76-3f71639081da"}],"connections":[{"identifier":"12d1d15f-7b38-34e5-b6f1-eef2d484762c","instanceIdentifier":"f62e52c6-0195-1000-0000-000068efecce","name":"","source":{"id":"2d5c29b6-91c6-37d5-ac34-d028280c7d80","type":"PROCESSOR","groupId":"ca2efbe0-5fad-3453-9d76-3f71639081da","name":"ExecuteGroovyScript","comments":"","instanceIdentifier":"f5d7cdac-0195-1000-ffff-ffffc725540a"},"destination":{"id":"a15edeca-086e-36ce-a721-cb9376f53014","type":"PROCESSOR","groupId":"ca2efbe0-5fad-3453-9d76-3f71639081da","name":"SplitJson","comments":"","instanceIdentifier":"fa4c7cfa-0195-1000-0000-00003ba82304"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ca2efbe0-5fad-3453-9d76-3f71639081da"},{"identifier":"bc2cf7ae-8144-38fc-9a17-ff73dddb9008","instanceIdentifier":"43633ed0-0241-1cb2-b896-cbc709b5cd53","name":"","source":{"id":"a88ac5a0-8497-357d-a932-9898df7af4b8","type":"OUTPUT_PORT","groupId":"5a029200-c986-33b8-8e29-47c39600b35b","name":"log_op_port","instanceIdentifier":"fa343e05-312a-1662-a058-d7fa0069af33"},"destination":{"id":"43b51204-90c4-3286-a8ac-1f8bfdbffaa1","type":"OUTPUT_PORT","groupId":"ca2efbe0-5fad-3453-9d76-3f71639081da","name":"log_op_port","comments":"","instanceIdentifier":"2beb3caf-0d78-1e09-b038-3440c4a82ff9"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ca2efbe0-5fad-3453-9d76-3f71639081da"},{"identifier":"2544814c-f951-39f7-8a30-b40959c0c5eb","instanceIdentifier":"fa4c9e6e-0195-1000-ffff-ffffec9b0012","name":"","source":{"id":"a15edeca-086e-36ce-a721-cb9376f53014","type":"PROCESSOR","groupId":"ca2efbe0-5fad-3453-9d76-3f71639081da","name":"SplitJson","comments":"","instanceIdentifier":"fa4c7cfa-0195-1000-0000-00003ba82304"},"destination":{"id":"9fbffe9c-7a6e-3a99-b10b-bdb4def74687","type":"PROCESSOR","groupId":"ca2efbe0-5fad-3453-9d76-3f71639081da","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"fa53e5b7-0195-1000-ffff-ffffbb6771ee"},"labelIndex":1,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ca2efbe0-5fad-3453-9d76-3f71639081da"},{"identifier":"430952fe-9045-3786-ad17-e1cebbdb2d76","instanceIdentifier":"fa540303-0195-1000-ffff-ffffa68201ab","name":"","source":{"id":"9fbffe9c-7a6e-3a99-b10b-bdb4def74687","type":"PROCESSOR","groupId":"ca2efbe0-5fad-3453-9d76-3f71639081da","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"fa53e5b7-0195-1000-ffff-ffffbb6771ee"},"destination":{"id":"83c7488c-ed9b-33ee-ad55-d888f5c0567d","type":"PROCESSOR","groupId":"ca2efbe0-5fad-3453-9d76-3f71639081da","name":"Upsert to Employee Demographics","comments":"","instanceIdentifier":"f7ec36f8-9770-11d7-b149-b784c9d9f7e8"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ca2efbe0-5fad-3453-9d76-3f71639081da"},{"identifier":"ce51b3d0-7325-3cb5-b842-2b6fca89d8da","instanceIdentifier":"35ee3b4b-a5da-1a83-9796-909d949935d7","name":"","source":{"id":"844cb3ab-7849-3830-bad3-78552e5f53f8","type":"INPUT_PORT","groupId":"ca2efbe0-5fad-3453-9d76-3f71639081da","name":"ip_port","instanceIdentifier":"b5e130c5-6297-1f84-90f3-2ac37429d1ae"},"destination":{"id":"2d5c29b6-91c6-37d5-ac34-d028280c7d80","type":"PROCESSOR","groupId":"ca2efbe0-5fad-3453-9d76-3f71639081da","name":"ExecuteGroovyScript","comments":"","instanceIdentifier":"f5d7cdac-0195-1000-ffff-ffffc725540a"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ca2efbe0-5fad-3453-9d76-3f71639081da"},{"identifier":"56ed9b51-5c73-3a69-930d-14b359667754","instanceIdentifier":"49ea3e56-9efb-1fdc-951f-49bd3adc252c","name":"","source":{"id":"83c7488c-ed9b-33ee-ad55-d888f5c0567d","type":"PROCESSOR","groupId":"ca2efbe0-5fad-3453-9d76-3f71639081da","name":"Upsert to Employee Demographics","comments":"","instanceIdentifier":"f7ec36f8-9770-11d7-b149-b784c9d9f7e8"},"destination":{"id":"69c38982-4205-35c8-8503-c742a525b3bf","type":"INPUT_PORT","groupId":"5a029200-c986-33b8-8e29-47c39600b35b","name":"log_ip_port","instanceIdentifier":"94f43ae7-6593-13b9-8dfc-6f40b0485514"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success","failure","retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ca2efbe0-5fad-3453-9d76-3f71639081da"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{"db_name":"idw"},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"1e2d69c6-ff60-36ec-a8fc-fde2e3c2f9ad"}],"remoteProcessGroups":[],"processors":[],"inputPorts":[{"identifier":"9cd73f99-f9e6-3666-9609-79cc82aec1bd","instanceIdentifier":"d1ba8116-0195-1000-ffff-fffff0bd0512","name":"input","position":{"x":384.0,"y":200.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"1e2d69c6-ff60-36ec-a8fc-fde2e3c2f9ad"}],"outputPorts":[{"identifier":"0cc0f225-76b4-35a5-a866-031deaa76917","instanceIdentifier":"fa621719-0195-1000-0000-00001aac7ce6","name":"log_output","comments":"","position":{"x":1088.0,"y":712.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"1e2d69c6-ff60-36ec-a8fc-fde2e3c2f9ad"}],"connections":[{"identifier":"d430d5ea-f922-3197-b5d2-7a2cb0ba9738","instanceIdentifier":"f0f8a050-0195-1000-0000-00001c19a4c9","name":"","source":{"id":"3c2a31b8-8f99-35fd-b6df-a4ebd7a27aad","type":"OUTPUT_PORT","groupId":"96ea3c52-ce29-323f-99d7-1de1b1184d70","name":"output","instanceIdentifier":"f0f84fbb-0195-1000-ffff-ffffd20b157e"},"destination":{"id":"01a50aa8-74d0-3d04-a2f1-b2509c469134","type":"INPUT_PORT","groupId":"4b8cd188-a126-3145-b834-50c95a3ededc","name":"input","instanceIdentifier":"907f3700-2eb4-1b5a-9b82-9abc4445e941"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"1e2d69c6-ff60-36ec-a8fc-fde2e3c2f9ad"},{"identifier":"15b214a2-8d91-3391-a59f-04bae9460fb9","instanceIdentifier":"fa60f228-0195-1000-0000-000049f17494","name":"","source":{"id":"e6b1b66b-4267-3eb3-8d40-de086c97fcde","type":"OUTPUT_PORT","groupId":"ebb46b65-949d-3f5f-a28e-70da9524c3d8","name":"op_port","instanceIdentifier":"564236f6-d27a-1c40-aad8-368d1c3f8945"},"destination":{"id":"844cb3ab-7849-3830-bad3-78552e5f53f8","type":"INPUT_PORT","groupId":"96ea3c52-ce29-323f-99d7-1de1b1184d70","name":"ip_port","instanceIdentifier":"0e7134ca-7510-16fe-b075-986b8136046c"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"1e2d69c6-ff60-36ec-a8fc-fde2e3c2f9ad"},{"identifier":"c588fc8d-105e-395a-ae7e-96756248dfa7","instanceIdentifier":"d1ba9860-0195-1000-0000-00001eac786b","name":"","source":{"id":"9cd73f99-f9e6-3666-9609-79cc82aec1bd","type":"INPUT_PORT","groupId":"1e2d69c6-ff60-36ec-a8fc-fde2e3c2f9ad","name":"input","instanceIdentifier":"d1ba8116-0195-1000-ffff-fffff0bd0512"},"destination":{"id":"434390f5-6e76-31b1-b657-13ea6f44bc13","type":"INPUT_PORT","groupId":"ebb46b65-949d-3f5f-a28e-70da9524c3d8","name":"ip_port","instanceIdentifier":"e99538d3-c3f5-1399-92d1-b3eb4f4f3078"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"1e2d69c6-ff60-36ec-a8fc-fde2e3c2f9ad"},{"identifier":"cabdf0a9-e81c-30b8-ac88-6e510421ff7a","instanceIdentifier":"fa624097-0195-1000-0000-00000b7ab12c","name":"","source":{"id":"edb8c56c-289e-3b77-9665-1e29e593a9e8","type":"OUTPUT_PORT","groupId":"ebb46b65-949d-3f5f-a28e-70da9524c3d8","name":"log_op_port","instanceIdentifier":"c6403668-2029-1afa-a299-9fab9dd7602b"},"destination":{"id":"0cc0f225-76b4-35a5-a866-031deaa76917","type":"OUTPUT_PORT","groupId":"1e2d69c6-ff60-36ec-a8fc-fde2e3c2f9ad","name":"log_output","comments":"","instanceIdentifier":"fa621719-0195-1000-0000-00001aac7ce6"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"1e2d69c6-ff60-36ec-a8fc-fde2e3c2f9ad"},{"identifier":"027d41b3-f13e-3a0a-8d98-ec82bfb5d2a0","instanceIdentifier":"fa624f16-0195-1000-ffff-ffffdfca07b8","name":"","source":{"id":"43b51204-90c4-3286-a8ac-1f8bfdbffaa1","type":"OUTPUT_PORT","groupId":"ca2efbe0-5fad-3453-9d76-3f71639081da","name":"log_op_port","comments":"","instanceIdentifier":"2beb3caf-0d78-1e09-b038-3440c4a82ff9"},"destination":{"id":"0cc0f225-76b4-35a5-a866-031deaa76917","type":"OUTPUT_PORT","groupId":"1e2d69c6-ff60-36ec-a8fc-fde2e3c2f9ad","name":"log_output","comments":"","instanceIdentifier":"fa621719-0195-1000-0000-00001aac7ce6"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"1e2d69c6-ff60-36ec-a8fc-fde2e3c2f9ad"},{"identifier":"a33bcac4-afc3-3d9e-b8f4-485a0e66a4eb","instanceIdentifier":"fa6228ed-0195-1000-ffff-ffffc1eb5c82","name":"","source":{"id":"43b51204-90c4-3286-a8ac-1f8bfdbffaa1","type":"OUTPUT_PORT","groupId":"96ea3c52-ce29-323f-99d7-1de1b1184d70","name":"log_op_port","comments":"","instanceIdentifier":"8548367c-ae16-1085-8b05-2248411ace95"},"destination":{"id":"0cc0f225-76b4-35a5-a866-031deaa76917","type":"OUTPUT_PORT","groupId":"1e2d69c6-ff60-36ec-a8fc-fde2e3c2f9ad","name":"log_output","comments":"","instanceIdentifier":"fa621719-0195-1000-0000-00001aac7ce6"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"1e2d69c6-ff60-36ec-a8fc-fde2e3c2f9ad"},{"identifier":"6c53502a-3124-305d-9e50-7c6b23407b53","instanceIdentifier":"f0bfb75a-0195-1000-0000-00001098755b","name":"","source":{"id":"e6b1b66b-4267-3eb3-8d40-de086c97fcde","type":"OUTPUT_PORT","groupId":"ebb46b65-949d-3f5f-a28e-70da9524c3d8","name":"op_port","instanceIdentifier":"564236f6-d27a-1c40-aad8-368d1c3f8945"},"destination":{"id":"844cb3ab-7849-3830-bad3-78552e5f53f8","type":"INPUT_PORT","groupId":"ca2efbe0-5fad-3453-9d76-3f71639081da","name":"ip_port","instanceIdentifier":"b5e130c5-6297-1f84-90f3-2ac37429d1ae"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"1e2d69c6-ff60-36ec-a8fc-fde2e3c2f9ad"},{"identifier":"78d98900-047c-3994-8ff3-7ce3f1b62ba0","instanceIdentifier":"fa625fca-0195-1000-0000-000046240adb","name":"","source":{"id":"d9206fb9-2743-3f01-9edf-c18824b0dbb7","type":"OUTPUT_PORT","groupId":"4b8cd188-a126-3145-b834-50c95a3ededc","name":"log_out","instanceIdentifier":"9c82369c-e35c-1f50-88a6-4a72880d4e53"},"destination":{"id":"0cc0f225-76b4-35a5-a866-031deaa76917","type":"OUTPUT_PORT","groupId":"1e2d69c6-ff60-36ec-a8fc-fde2e3c2f9ad","name":"log_output","comments":"","instanceIdentifier":"fa621719-0195-1000-0000-00001aac7ce6"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1208.0,"y":1040.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"1e2d69c6-ff60-36ec-a8fc-fde2e3c2f9ad"}],"labels":[],"funnels":[],"controllerServices":[{"identifier":"3a79a369-1492-34fd-ab04-a7e437206eba","instanceIdentifier":"ccbf3948-e5a2-1528-0000-0000099908bf","name":"DBCPConnectionPool_IDW","comments":"","type":"org.apache.nifi.dbcp.DBCPConnectionPool","bundle":{"group":"org.apache.nifi","artifact":"nifi-dbcp-service-nar","version":"1.27.0"},"properties":{"dbcp-min-idle-conns":"0","Max Wait Time":"500 millis","Database Driver Class Name":"org.postgresql.Driver","dbcp-min-evictable-idle-time":"30 mins","kerberos-principal":null,"Max Total Connections":"8","kerberos-credentials-service":null,"dbcp-max-conn-lifetime":"-1","Validation-query":null,"Database Connection URL":"jdbc:postgresql://#{host}:5432/insights_dw","dbcp-time-between-eviction-runs":"-1","Database User":"#{username}","kerberos-user-service":null,"dbcp-soft-min-evictable-idle-time":"-1","database-driver-locations":"/stackable/userdata/nifi-user-volume/postgresql-42.2.23.jar","dbcp-max-idle-conns":"8","Password":"#{password}"},"propertyDescriptors":{"kerberos-password":{"name":"kerberos-password","displayName":"Kerberos Password","identifiesControllerService":false,"sensitive":true},"dbcp-min-idle-conns":{"name":"dbcp-min-idle-conns","displayName":"Minimum Idle Connections","identifiesControllerService":false,"sensitive":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Driver Class Name":{"name":"Database Driver Class Name","displayName":"Database Driver Class Name","identifiesControllerService":false,"sensitive":false},"dbcp-min-evictable-idle-time":{"name":"dbcp-min-evictable-idle-time","displayName":"Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false},"kerberos-principal":{"name":"kerberos-principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"Max Total Connections":{"name":"Max Total Connections","displayName":"Max Total Connections","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"dbcp-max-conn-lifetime":{"name":"dbcp-max-conn-lifetime","displayName":"Max Connection Lifetime","identifiesControllerService":false,"sensitive":false},"Validation-query":{"name":"Validation-query","displayName":"Validation query","identifiesControllerService":false,"sensitive":false},"Database Connection URL":{"name":"Database Connection URL","displayName":"Database Connection URL","identifiesControllerService":false,"sensitive":false},"dbcp-time-between-eviction-runs":{"name":"dbcp-time-between-eviction-runs","displayName":"Time Between Eviction Runs","identifiesControllerService":false,"sensitive":false},"Database User":{"name":"Database User","displayName":"Database User","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"dbcp-soft-min-evictable-idle-time":{"name":"dbcp-soft-min-evictable-idle-time","displayName":"Soft Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false},"database-driver-locations":{"name":"database-driver-locations","displayName":"Database Driver Location(s)","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["URL","DIRECTORY","FILE"]}},"dbcp-max-idle-conns":{"name":"dbcp-max-idle-conns","displayName":"Max Idle Connections","identifiesControllerService":false,"sensitive":false},"Password":{"name":"Password","displayName":"Password","identifiesControllerService":false,"sensitive":true}},"controllerServiceApis":[{"type":"org.apache.nifi.dbcp.DBCPService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.27.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"1e2d69c6-ff60-36ec-a8fc-fde2e3c2f9ad"}],"variables":{"flow_name":"Participant-IDW DB","db_schema":"idw"},"parameterContextName":"idw_db_secrets","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"e1772894-f075-3819-83b8-d4459bf746e3"}],"remoteProcessGroups":[],"processors":[],"inputPorts":[{"identifier":"51ecfacd-b7aa-3a10-ae82-23fe5d08c55c","instanceIdentifier":"d1b99d31-0195-1000-ffff-ffffc01992af","name":"input","position":{"x":-64.0,"y":160.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"e1772894-f075-3819-83b8-d4459bf746e3"}],"outputPorts":[{"identifier":"cacd444a-f083-3385-bcef-fe423d121ef0","instanceIdentifier":"fa63030b-0195-1000-ffff-ffffb854446a","name":"log_out","comments":"","position":{"x":400.0,"y":488.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"e1772894-f075-3819-83b8-d4459bf746e3"}],"connections":[{"identifier":"eb0b9c5c-3b24-30bf-9588-be15a84c225d","instanceIdentifier":"fa6373f7-0195-1000-0000-00002c1260b2","name":"","source":{"id":"0cc0f225-76b4-35a5-a866-031deaa76917","type":"OUTPUT_PORT","groupId":"1e2d69c6-ff60-36ec-a8fc-fde2e3c2f9ad","name":"log_output","comments":"","instanceIdentifier":"fa621719-0195-1000-0000-00001aac7ce6"},"destination":{"id":"cacd444a-f083-3385-bcef-fe423d121ef0","type":"OUTPUT_PORT","groupId":"e1772894-f075-3819-83b8-d4459bf746e3","name":"log_out","comments":"","instanceIdentifier":"fa63030b-0195-1000-ffff-ffffb854446a"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":520.0,"y":648.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e1772894-f075-3819-83b8-d4459bf746e3"},{"identifier":"20050358-a7ba-32aa-b7d6-7d022e4566ad","instanceIdentifier":"d1bb53aa-0195-1000-0000-00007aaff708","name":"","source":{"id":"45d2ad38-c75b-3c50-8dba-2d0ec9bfd794","type":"OUTPUT_PORT","groupId":"053624e6-6e44-38e6-ac1b-5168d319f71e","name":"output","instanceIdentifier":"d1bb076c-0195-1000-0000-0000245fea3e"},"destination":{"id":"9cd73f99-f9e6-3666-9609-79cc82aec1bd","type":"INPUT_PORT","groupId":"1e2d69c6-ff60-36ec-a8fc-fde2e3c2f9ad","name":"input","instanceIdentifier":"d1ba8116-0195-1000-ffff-fffff0bd0512"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e1772894-f075-3819-83b8-d4459bf746e3"},{"identifier":"b2a3ec45-def7-3d67-9242-d64a145051dc","instanceIdentifier":"fa6312c5-0195-1000-ffff-ffffb2692b7a","name":"","source":{"id":"9d8b5953-9e1e-3323-bdc4-0de65f7d3009","type":"OUTPUT_PORT","groupId":"053624e6-6e44-38e6-ac1b-5168d319f71e","name":"log_out","instanceIdentifier":"fa629b98-0195-1000-ffff-ffffe0e90a1a"},"destination":{"id":"cacd444a-f083-3385-bcef-fe423d121ef0","type":"OUTPUT_PORT","groupId":"e1772894-f075-3819-83b8-d4459bf746e3","name":"log_out","comments":"","instanceIdentifier":"fa63030b-0195-1000-ffff-ffffb854446a"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":520.0,"y":384.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e1772894-f075-3819-83b8-d4459bf746e3"},{"identifier":"357b5eb0-5a87-3ca4-8299-0021c6621476","instanceIdentifier":"d1b9b89c-0195-1000-0000-00003a3a1617","name":"","source":{"id":"51ecfacd-b7aa-3a10-ae82-23fe5d08c55c","type":"INPUT_PORT","groupId":"e1772894-f075-3819-83b8-d4459bf746e3","name":"input","instanceIdentifier":"d1b99d31-0195-1000-ffff-ffffc01992af"},"destination":{"id":"525cccff-f2e6-3196-9741-c35ea1779159","type":"INPUT_PORT","groupId":"053624e6-6e44-38e6-ac1b-5168d319f71e","name":"input","instanceIdentifier":"651d1773-0195-1000-0000-000063bf907f"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e1772894-f075-3819-83b8-d4459bf746e3"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"ebb2785d-4922-38f6-8742-b6a4e3e95c41"},{"identifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","instanceIdentifier":"c3113a3c-6430-1e1d-ffff-fffff301b353","name":"Score Data","comments":"","position":{"x":544.0,"y":128.0},"processGroups":[{"identifier":"d4cec804-548b-3e45-81c5-ede46b716e06","instanceIdentifier":"a61f31af-1ce5-1ee1-b5da-4807f9abcfc4","name":"FRAME LOGS","comments":"","position":{"x":2368.0,"y":1648.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"b3211623-1504-357b-a849-c64cd55950a8","instanceIdentifier":"7a223fc7-3899-1253-82b5-986c5407dbcf","name":"UpdateAttribute","comments":"","position":{"x":568.0,"y":-200.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","merge_key":"${app_uuid}${assessementId}${surveyId}${participantId}${projectId}${model_name}${tableType}${error.message:isEmpty()}${error.sql.state}","Stateful Variables Initial Value":null,"Content-Type":"application/json"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"merge_key":{"name":"merge_key","displayName":"merge_key","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Content-Type","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"d4cec804-548b-3e45-81c5-ede46b716e06"},{"identifier":"a5d43049-0256-332f-813a-9c118fe81c7a","instanceIdentifier":"4e0531c5-323e-1b22-b452-793627d112a9","name":"DB_OPERATION_LOG_ATTRIBUTE","comments":"","position":{"x":568.0,"y":248.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"${flow_name}-a360_score_data-${tableType}","flow_name":"${flow_name}","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"d4cec804-548b-3e45-81c5-ede46b716e06"},{"identifier":"21ce952f-5c42-3fcd-b36f-d51738310c08","instanceIdentifier":"d080391e-92fc-1ad6-9573-433531567c65","name":"Merge score data","comments":"","position":{"x":984.0,"y":24.0},"type":"org.apache.nifi.processors.standard.MergeContent","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Keep Path":"false","Maximum Group Size":null,"Merge Strategy":"Bin-Packing Algorithm","Attribute Strategy":"Keep All Unique Attributes","Compression Level":"1","Maximum Number of Entries":"100000","Minimum Group Size":"0 B","Maximum number of Bins":"10","Tar Modified Time":"${file.lastModifiedTime}","Delimiter Strategy":"Do Not Use Delimiters","Merge Format":"Binary Concatenation","Footer File":null,"Max Bin Age":"5 min","Demarcator File":null,"Correlation Attribute Name":"merge_key","Header File":null,"mergecontent-metadata-strategy":"Do Not Merge Uncommon Metadata","Minimum Number of Entries":"100000"},"propertyDescriptors":{"Keep Path":{"name":"Keep Path","displayName":"Keep Path","identifiesControllerService":false,"sensitive":false},"Maximum Group Size":{"name":"Maximum Group Size","displayName":"Maximum Group Size","identifiesControllerService":false,"sensitive":false},"Merge Strategy":{"name":"Merge Strategy","displayName":"Merge Strategy","identifiesControllerService":false,"sensitive":false},"Attribute Strategy":{"name":"Attribute Strategy","displayName":"Attribute Strategy","identifiesControllerService":false,"sensitive":false},"Compression Level":{"name":"Compression Level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"Maximum Number of Entries":{"name":"Maximum Number of Entries","displayName":"Maximum Number of Entries","identifiesControllerService":false,"sensitive":false},"Minimum Group Size":{"name":"Minimum Group Size","displayName":"Minimum Group Size","identifiesControllerService":false,"sensitive":false},"Maximum number of Bins":{"name":"Maximum number of Bins","displayName":"Maximum number of Bins","identifiesControllerService":false,"sensitive":false},"Tar Modified Time":{"name":"Tar Modified Time","displayName":"Tar Modified Time","identifiesControllerService":false,"sensitive":false},"Delimiter Strategy":{"name":"Delimiter Strategy","displayName":"Delimiter Strategy","identifiesControllerService":false,"sensitive":false},"Merge Format":{"name":"Merge Format","displayName":"Merge Format","identifiesControllerService":false,"sensitive":false},"Footer File":{"name":"Footer File","displayName":"Footer","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Max Bin Age":{"name":"Max Bin Age","displayName":"Max Bin Age","identifiesControllerService":false,"sensitive":false},"Demarcator File":{"name":"Demarcator File","displayName":"Demarcator","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Correlation Attribute Name":{"name":"Correlation Attribute Name","displayName":"Correlation Attribute Name","identifiesControllerService":false,"sensitive":false},"Header File":{"name":"Header File","displayName":"Header","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"mergecontent-metadata-strategy":{"name":"mergecontent-metadata-strategy","displayName":"Metadata Strategy","identifiesControllerService":false,"sensitive":false},"Minimum Number of Entries":{"name":"Minimum Number of Entries","displayName":"Minimum Number of Entries","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"d4cec804-548b-3e45-81c5-ede46b716e06"},{"identifier":"048a9f50-5a4a-342d-aa46-f359420e56e7","instanceIdentifier":"5c0f3765-6df4-1392-aae1-4ebba53dcae0","name":"Merge score data","comments":"","position":{"x":1400.0,"y":24.0},"type":"org.apache.nifi.processors.standard.MergeContent","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Keep Path":"false","Maximum Group Size":null,"Merge Strategy":"Bin-Packing Algorithm","Attribute Strategy":"Keep All Unique Attributes","Compression Level":"1","Maximum Number of Entries":"100000","Minimum Group Size":"0 B","Maximum number of Bins":"10","Tar Modified Time":"${file.lastModifiedTime}","Delimiter Strategy":"Do Not Use Delimiters","Merge Format":"Binary Concatenation","Footer File":null,"Max Bin Age":"5 min","Demarcator File":null,"Correlation Attribute Name":"merge_key","Header File":null,"mergecontent-metadata-strategy":"Do Not Merge Uncommon Metadata","Minimum Number of Entries":"100000"},"propertyDescriptors":{"Keep Path":{"name":"Keep Path","displayName":"Keep Path","identifiesControllerService":false,"sensitive":false},"Maximum Group Size":{"name":"Maximum Group Size","displayName":"Maximum Group Size","identifiesControllerService":false,"sensitive":false},"Merge Strategy":{"name":"Merge Strategy","displayName":"Merge Strategy","identifiesControllerService":false,"sensitive":false},"Attribute Strategy":{"name":"Attribute Strategy","displayName":"Attribute Strategy","identifiesControllerService":false,"sensitive":false},"Compression Level":{"name":"Compression Level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"Maximum Number of Entries":{"name":"Maximum Number of Entries","displayName":"Maximum Number of Entries","identifiesControllerService":false,"sensitive":false},"Minimum Group Size":{"name":"Minimum Group Size","displayName":"Minimum Group Size","identifiesControllerService":false,"sensitive":false},"Maximum number of Bins":{"name":"Maximum number of Bins","displayName":"Maximum number of Bins","identifiesControllerService":false,"sensitive":false},"Tar Modified Time":{"name":"Tar Modified Time","displayName":"Tar Modified Time","identifiesControllerService":false,"sensitive":false},"Delimiter Strategy":{"name":"Delimiter Strategy","displayName":"Delimiter Strategy","identifiesControllerService":false,"sensitive":false},"Merge Format":{"name":"Merge Format","displayName":"Merge Format","identifiesControllerService":false,"sensitive":false},"Footer File":{"name":"Footer File","displayName":"Footer","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Max Bin Age":{"name":"Max Bin Age","displayName":"Max Bin Age","identifiesControllerService":false,"sensitive":false},"Demarcator File":{"name":"Demarcator File","displayName":"Demarcator","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Correlation Attribute Name":{"name":"Correlation Attribute Name","displayName":"Correlation Attribute Name","identifiesControllerService":false,"sensitive":false},"Header File":{"name":"Header File","displayName":"Header","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"mergecontent-metadata-strategy":{"name":"mergecontent-metadata-strategy","displayName":"Metadata Strategy","identifiesControllerService":false,"sensitive":false},"Minimum Number of Entries":{"name":"Minimum Number of Entries","displayName":"Minimum Number of Entries","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"d4cec804-548b-3e45-81c5-ede46b716e06"},{"identifier":"04b6bd7d-f84b-3afa-95ab-d7e16a2b8f4d","instanceIdentifier":"ab7f3601-94f3-14c3-8233-243af7ff4154","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","position":{"x":984.0,"y":248.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"error.sql.state":"404","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"${flow_name}-a360_score_data-${tableType}","extras":"Score Data:${merge.count}","flow_name":"${flow_name}","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}","log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","error.message":"Invalid assessment ID, survey ID, participant ID, project ID, or invalid score data found in the payload. Please refer to the additional_metadata column for details, including the following identifiers: Assessment ID: ${assessmentId} / Survey ID: ${kF360SurveyType} / Participant ID: ${participantId} / Project ID: ${projectId}.","manual_error":"true","error.code":"404"},"propertyDescriptors":{"error.sql.state":{"name":"error.sql.state","displayName":"error.sql.state","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"extras":{"name":"extras","displayName":"extras","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false},"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"error.message":{"name":"error.message","displayName":"error.message","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"error.code":{"name":"error.code","displayName":"error.code","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"d4cec804-548b-3e45-81c5-ede46b716e06"},{"identifier":"63967e9a-8bcf-372b-a3ce-4e73a10070fb","instanceIdentifier":"e99e3fee-a782-17b5-976d-c0193fa112f8","name":"UpdateAttribute","comments":"","position":{"x":984.0,"y":-200.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","merge_key":"${app_uuid}${assessementId}${surveyId}${participantId}${projectId}${tableType}${error.message:isEmpty()}${error.sql.state}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"merge_key":{"name":"merge_key","displayName":"merge_key","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"d4cec804-548b-3e45-81c5-ede46b716e06"},{"identifier":"ddb3846f-c05e-30cf-8b15-c3169d95031e","instanceIdentifier":"b26138fd-8d34-1208-b3c1-bf52e246f1a1","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","position":{"x":1400.0,"y":248.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"${flow_name}-a360_score_data-${tableType}","flow_name":"${flow_name}","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"d4cec804-548b-3e45-81c5-ede46b716e06"},{"identifier":"e290c140-d9e3-3d5a-99d0-eb3f2b7ce584","instanceIdentifier":"3d463473-376c-136b-b5f8-8fc1f2edc560","name":"Merge score data","comments":"","position":{"x":568.0,"y":24.0},"type":"org.apache.nifi.processors.standard.MergeContent","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Keep Path":"false","Maximum Group Size":null,"Merge Strategy":"Bin-Packing Algorithm","Attribute Strategy":"Keep All Unique Attributes","Compression Level":"1","Maximum Number of Entries":"100000","Minimum Group Size":"0 B","Maximum number of Bins":"10","Tar Modified Time":"${file.lastModifiedTime}","Delimiter Strategy":"Do Not Use Delimiters","Merge Format":"Binary Concatenation","Footer File":null,"Max Bin Age":"5 min","Demarcator File":null,"Correlation Attribute Name":"merge_key","Header File":null,"mergecontent-metadata-strategy":"Do Not Merge Uncommon Metadata","Minimum Number of Entries":"100000"},"propertyDescriptors":{"Keep Path":{"name":"Keep Path","displayName":"Keep Path","identifiesControllerService":false,"sensitive":false},"Maximum Group Size":{"name":"Maximum Group Size","displayName":"Maximum Group Size","identifiesControllerService":false,"sensitive":false},"Merge Strategy":{"name":"Merge Strategy","displayName":"Merge Strategy","identifiesControllerService":false,"sensitive":false},"Attribute Strategy":{"name":"Attribute Strategy","displayName":"Attribute Strategy","identifiesControllerService":false,"sensitive":false},"Compression Level":{"name":"Compression Level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"Maximum Number of Entries":{"name":"Maximum Number of Entries","displayName":"Maximum Number of Entries","identifiesControllerService":false,"sensitive":false},"Minimum Group Size":{"name":"Minimum Group Size","displayName":"Minimum Group Size","identifiesControllerService":false,"sensitive":false},"Maximum number of Bins":{"name":"Maximum number of Bins","displayName":"Maximum number of Bins","identifiesControllerService":false,"sensitive":false},"Tar Modified Time":{"name":"Tar Modified Time","displayName":"Tar Modified Time","identifiesControllerService":false,"sensitive":false},"Delimiter Strategy":{"name":"Delimiter Strategy","displayName":"Delimiter Strategy","identifiesControllerService":false,"sensitive":false},"Merge Format":{"name":"Merge Format","displayName":"Merge Format","identifiesControllerService":false,"sensitive":false},"Footer File":{"name":"Footer File","displayName":"Footer","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Max Bin Age":{"name":"Max Bin Age","displayName":"Max Bin Age","identifiesControllerService":false,"sensitive":false},"Demarcator File":{"name":"Demarcator File","displayName":"Demarcator","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Correlation Attribute Name":{"name":"Correlation Attribute Name","displayName":"Correlation Attribute Name","identifiesControllerService":false,"sensitive":false},"Header File":{"name":"Header File","displayName":"Header","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"mergecontent-metadata-strategy":{"name":"mergecontent-metadata-strategy","displayName":"Metadata Strategy","identifiesControllerService":false,"sensitive":false},"Minimum Number of Entries":{"name":"Minimum Number of Entries","displayName":"Minimum Number of Entries","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"d4cec804-548b-3e45-81c5-ede46b716e06"},{"identifier":"8d76ff0b-fe4e-3995-8378-120f16b7cd84","instanceIdentifier":"c635349a-b53e-1cfb-8eb8-4833a9ce7ac4","name":"UpdateAttribute","comments":"","position":{"x":1400.0,"y":-200.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","merge_key":"${app_uuid}${assessementId}${surveyId}${participantId}${projectId}${tableType}${error.message:isEmpty()}${error.sql.state}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"merge_key":{"name":"merge_key","displayName":"merge_key","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"d4cec804-548b-3e45-81c5-ede46b716e06"}],"inputPorts":[{"identifier":"5454116a-3cd8-35e2-a3df-7d08adac256e","instanceIdentifier":"b3f33ef7-8eb5-1a7e-8b16-f2bd81837286","name":"send_db_logs","comments":"","position":{"x":624.0,"y":-344.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"d4cec804-548b-3e45-81c5-ede46b716e06"},{"identifier":"b4f17064-1529-3d0c-ba58-7144780778d7","instanceIdentifier":"d98f346b-7940-135d-a875-ed5b8574560f","name":"0-upsert_failure","comments":"","position":{"x":1040.0,"y":-344.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"d4cec804-548b-3e45-81c5-ede46b716e06"},{"identifier":"33432b3d-6e15-392c-832a-984baa913001","instanceIdentifier":"43b13717-a1f1-1c63-b479-429ed9765003","name":"1-upsert_success","comments":"","position":{"x":1448.0,"y":-344.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"d4cec804-548b-3e45-81c5-ede46b716e06"}],"outputPorts":[{"identifier":"5014d334-1779-39e7-bb97-b7820b72c544","instanceIdentifier":"75d93f09-d825-1aaf-b23b-6bbcfc4502d6","name":"log_op","position":{"x":1040.0,"y":560.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"d4cec804-548b-3e45-81c5-ede46b716e06"}],"connections":[{"identifier":"937b6a7e-e0f8-324b-b859-e8b593f34a09","instanceIdentifier":"2471741c-0196-1000-0000-00000a1f6beb","name":"","source":{"id":"21ce952f-5c42-3fcd-b36f-d51738310c08","type":"PROCESSOR","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"Merge score data","comments":"","instanceIdentifier":"d080391e-92fc-1ad6-9573-433531567c65"},"destination":{"id":"04b6bd7d-f84b-3afa-95ab-d7e16a2b8f4d","type":"PROCESSOR","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"ab7f3601-94f3-14c3-8233-243af7ff4154"},"labelIndex":1,"zIndex":0,"selectedRelationships":["merged"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d4cec804-548b-3e45-81c5-ede46b716e06"},{"identifier":"6db093ae-2342-3a40-8735-869a044fdf76","instanceIdentifier":"247252fc-0196-1000-0000-00006d8bdbbf","name":"","source":{"id":"048a9f50-5a4a-342d-aa46-f359420e56e7","type":"PROCESSOR","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"Merge score data","comments":"","instanceIdentifier":"5c0f3765-6df4-1392-aae1-4ebba53dcae0"},"destination":{"id":"ddb3846f-c05e-30cf-8b15-c3169d95031e","type":"PROCESSOR","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"b26138fd-8d34-1208-b3c1-bf52e246f1a1"},"labelIndex":1,"zIndex":0,"selectedRelationships":["merged"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d4cec804-548b-3e45-81c5-ede46b716e06"},{"identifier":"d6a81567-0342-3be2-8133-bb7db5e43c9a","instanceIdentifier":"69183031-cd71-136c-9ac1-968dbfd947cb","name":"","source":{"id":"ddb3846f-c05e-30cf-8b15-c3169d95031e","type":"PROCESSOR","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"b26138fd-8d34-1208-b3c1-bf52e246f1a1"},"destination":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"log_op","instanceIdentifier":"75d93f09-d825-1aaf-b23b-6bbcfc4502d6"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d4cec804-548b-3e45-81c5-ede46b716e06"},{"identifier":"73134e60-945e-3211-9aae-b55c1dafe6d9","instanceIdentifier":"afa739bc-08fe-1ce4-804d-443b4c5227e0","name":"","source":{"id":"63967e9a-8bcf-372b-a3ce-4e73a10070fb","type":"PROCESSOR","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"UpdateAttribute","comments":"","instanceIdentifier":"e99e3fee-a782-17b5-976d-c0193fa112f8"},"destination":{"id":"21ce952f-5c42-3fcd-b36f-d51738310c08","type":"PROCESSOR","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"Merge score data","comments":"","instanceIdentifier":"d080391e-92fc-1ad6-9573-433531567c65"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"SINGLE_NODE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d4cec804-548b-3e45-81c5-ede46b716e06"},{"identifier":"d6025bd5-b740-307a-ab49-a42f010bbbf3","instanceIdentifier":"38363724-28c3-18bf-913f-4e91ac62b4ee","name":"","source":{"id":"8d76ff0b-fe4e-3995-8378-120f16b7cd84","type":"PROCESSOR","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"UpdateAttribute","comments":"","instanceIdentifier":"c635349a-b53e-1cfb-8eb8-4833a9ce7ac4"},"destination":{"id":"048a9f50-5a4a-342d-aa46-f359420e56e7","type":"PROCESSOR","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"Merge score data","comments":"","instanceIdentifier":"5c0f3765-6df4-1392-aae1-4ebba53dcae0"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":80000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"SINGLE_NODE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d4cec804-548b-3e45-81c5-ede46b716e06"},{"identifier":"4e116dd8-c815-39e0-8cd8-5413f21c3033","instanceIdentifier":"b2813665-6453-1165-9cd3-a8129651524a","name":"","source":{"id":"04b6bd7d-f84b-3afa-95ab-d7e16a2b8f4d","type":"PROCESSOR","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"ab7f3601-94f3-14c3-8233-243af7ff4154"},"destination":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"log_op","instanceIdentifier":"75d93f09-d825-1aaf-b23b-6bbcfc4502d6"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d4cec804-548b-3e45-81c5-ede46b716e06"},{"identifier":"35f16d67-f4c7-3291-a688-48527f18f0df","instanceIdentifier":"24715487-0196-1000-0000-00001ce89169","name":"","source":{"id":"b4f17064-1529-3d0c-ba58-7144780778d7","type":"INPUT_PORT","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"0-upsert_failure","comments":"","instanceIdentifier":"d98f346b-7940-135d-a875-ed5b8574560f"},"destination":{"id":"63967e9a-8bcf-372b-a3ce-4e73a10070fb","type":"PROCESSOR","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"UpdateAttribute","comments":"","instanceIdentifier":"e99e3fee-a782-17b5-976d-c0193fa112f8"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d4cec804-548b-3e45-81c5-ede46b716e06"},{"identifier":"7534e3ab-0864-3e94-b4c3-c8795067c292","instanceIdentifier":"241c7020-0196-1000-ffff-ffffba6b5352","name":"","source":{"id":"e290c140-d9e3-3d5a-99d0-eb3f2b7ce584","type":"PROCESSOR","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"Merge score data","comments":"","instanceIdentifier":"3d463473-376c-136b-b5f8-8fc1f2edc560"},"destination":{"id":"a5d43049-0256-332f-813a-9c118fe81c7a","type":"PROCESSOR","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"DB_OPERATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"4e0531c5-323e-1b22-b452-793627d112a9"},"labelIndex":1,"zIndex":0,"selectedRelationships":["merged"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d4cec804-548b-3e45-81c5-ede46b716e06"},{"identifier":"29f4821d-8ea2-3ee3-8839-0cd10a0fe6e8","instanceIdentifier":"13073e2c-9e3b-1909-87ec-900109f0ebd8","name":"","source":{"id":"a5d43049-0256-332f-813a-9c118fe81c7a","type":"PROCESSOR","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"DB_OPERATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"4e0531c5-323e-1b22-b452-793627d112a9"},"destination":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"log_op","instanceIdentifier":"75d93f09-d825-1aaf-b23b-6bbcfc4502d6"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d4cec804-548b-3e45-81c5-ede46b716e06"},{"identifier":"32d3a8c2-ddee-3f4a-ba20-7c0434886c97","instanceIdentifier":"24720f3d-0196-1000-0000-0000759efb0a","name":"","source":{"id":"33432b3d-6e15-392c-832a-984baa913001","type":"INPUT_PORT","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"1-upsert_success","comments":"","instanceIdentifier":"43b13717-a1f1-1c63-b479-429ed9765003"},"destination":{"id":"8d76ff0b-fe4e-3995-8378-120f16b7cd84","type":"PROCESSOR","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"UpdateAttribute","comments":"","instanceIdentifier":"c635349a-b53e-1cfb-8eb8-4833a9ce7ac4"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d4cec804-548b-3e45-81c5-ede46b716e06"},{"identifier":"9f2c1f0f-c0c0-3962-baad-06b09b9995b1","instanceIdentifier":"241ce64b-0196-1000-0000-000038d1b747","name":"","source":{"id":"5454116a-3cd8-35e2-a3df-7d08adac256e","type":"INPUT_PORT","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"send_db_logs","comments":"","instanceIdentifier":"b3f33ef7-8eb5-1a7e-8b16-f2bd81837286"},"destination":{"id":"b3211623-1504-357b-a849-c64cd55950a8","type":"PROCESSOR","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"UpdateAttribute","comments":"","instanceIdentifier":"7a223fc7-3899-1253-82b5-986c5407dbcf"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d4cec804-548b-3e45-81c5-ede46b716e06"},{"identifier":"73902363-cf8f-35de-b627-0dda9bddc24f","instanceIdentifier":"551b32b6-ed4d-11f7-b1b4-ddbc9a526a4d","name":"","source":{"id":"b3211623-1504-357b-a849-c64cd55950a8","type":"PROCESSOR","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"UpdateAttribute","comments":"","instanceIdentifier":"7a223fc7-3899-1253-82b5-986c5407dbcf"},"destination":{"id":"e290c140-d9e3-3d5a-99d0-eb3f2b7ce584","type":"PROCESSOR","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"Merge score data","comments":"","instanceIdentifier":"3d463473-376c-136b-b5f8-8fc1f2edc560"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"SINGLE_NODE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d4cec804-548b-3e45-81c5-ede46b716e06"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"}],"remoteProcessGroups":[],"processors":[{"identifier":"bbf58568-c173-3dfe-9a1f-6674d358fe13","instanceIdentifier":"100a313c-0196-1000-0000-00000818b54a","name":"EvaluateJsonPath","comments":"","position":{"x":1704.0,"y":168.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"participantId":"$.participantId","Destination":"flowfile-attribute","kF360SurveyType":"$.kF360SurveyType","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","projectId":"$.projectId","assessmentId":"$.assessmentId","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"participantId":{"name":"participantId","displayName":"participantId","identifiesControllerService":false,"sensitive":false},"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"kF360SurveyType":{"name":"kF360SurveyType","displayName":"kF360SurveyType","identifiesControllerService":false,"sensitive":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"projectId":{"name":"projectId","displayName":"projectId","identifiesControllerService":false,"sensitive":false},"assessmentId":{"name":"assessmentId","displayName":"assessmentId","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"6b307d64-a54a-31f6-a4b8-be6fc3e162b3","instanceIdentifier":"1ade01e6-0196-1000-ffff-ffffb36a7756","name":"Upsert into score table","comments":"","position":{"x":1720.0,"y":928.0},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":"${upsert_query}","Transaction Timeout":null,"Batch Size":"100","Obtain Generated Keys":"true","JDBC Connection Pool":"4576f1d7-cb85-3dac-b69a-58b4942122f8","database-session-autocommit":"true","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"369a9ffb-682f-3474-8b4f-c9867f310341","instanceIdentifier":"1037f514-0196-1000-ffff-ffff8b6b3e5d","name":"Lookup for Rater Type Key","comments":"","position":{"x":1720.0,"y":664.0},"type":"org.apache.nifi.processors.standard.LookupAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"rater_type_key":"${raterType}","lookup-service":"60094418-3b67-364c-982b-323bf56b5084","include-empty-values":"true"},"propertyDescriptors":{"rater_type_key":{"name":"rater_type_key","displayName":"rater_type_key","identifiesControllerService":false,"sensitive":false},"lookup-service":{"name":"lookup-service","displayName":"Lookup Service","identifiesControllerService":true,"sensitive":false},"include-empty-values":{"name":"include-empty-values","displayName":"Include Empty Values","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"699f8850-05e5-3fdb-b788-afdeb2abca70","instanceIdentifier":"6d1f37f1-6aaa-1839-9d91-b8e72e2b4510","name":"Check for presence of primary keys","comments":"","position":{"x":1720.0,"y":1448.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Routing Strategy":"Route to Property name","is_upsert_success":"${generated_pkey:isEmpty():not()}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"is_upsert_success":{"name":"is_upsert_success","displayName":"is_upsert_success","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["ignore_stallers_stoppers_clusters"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"25992ecd-4dc6-31f1-8ec6-aae14d7bb832","instanceIdentifier":"1008af92-0196-1000-0000-00006fb933fd","name":"GenerateFlowFile","comments":"","position":{"x":1056.0,"y":-192.0},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"character-set":"UTF-8","File Size":"0B","mime-type":"application/json","generate-ff-custom-text":"{\n    \"assessmentId\": \"KF360\",\n    \"dateSaved\": \"2025-01-01T00:00:01.000Z\",\n    \"kF360SurveyType\": \"behaviors-bars\",\n    \"participantId\": \"PERW00000000001\",\n    \"projectId\": \"GROW00000000001\",\n    \"scoredData\": {\n        \"Model_name\": \"KFLA\",\n        \"Model_version\": \"v1.0.41\",\n        \"importanceRater\": 2,\n        \"importanceDistributionStatus\": 1,\n        \"behaviorImportanceRater\": 0,\n        \"behaviorImportanceDistributionStatus\": 0,\n        \"N_Responses_self\": 1,\n        \"N_Responses_totalOthers\": 0,\n        \"N_Responses_yourManager\": 1,\n        \"N_Responses_peopleYouLead\": 0,\n        \"N_Responses_peers\": 0,\n        \"N_Responses_customers\": 0,\n        \"N_Responses_otherRaters\": 0,\n        \"N_Responses_managersManager\": 0,\n        \"N_Responses_otherManager\": 0,\n        \"Competency5_Skill_self\": null,\n        \"Competency5_Skill_totalOthers\": null,\n        \"Competency5_Skill_yourManager\": null,\n        \"Competency5_Skill_peopleYouLead\": null,\n        \"Competency5_Skill_peers\": null,\n        \"Competency5_Skill_customers\": null,\n        \"Competency5_Skill_otherRaters\": null,\n        \"Competency5_Skill_managersManager\": null,\n        \"Competency5_Skill_otherManager\": null,\n        \"Competency11_Skill_self\": 3.25,\n        \"Competency11_Skill_totalOthers\": 4.25,\n        \"Competency11_Skill_yourManager\": 4.25,\n        \"Competency11_Skill_peopleYouLead\": null,\n        \"Competency11_Skill_peers\": null,\n        \"Competency11_Skill_customers\": null,\n        \"Competency11_Skill_otherRaters\": null,\n        \"Competency11_Skill_managersManager\": null,\n        \"Competency11_Skill_otherManager\": null,\n        \"Competency17_Skill_self\": null,\n        \"Competency17_Skill_totalOthers\": null,\n        \"Competency17_Skill_yourManager\": null,\n        \"Competency17_Skill_peopleYouLead\": null,\n        \"Competency17_Skill_peers\": null,\n        \"Competency17_Skill_customers\": null,\n        \"Competency17_Skill_otherRaters\": null,\n        \"Competency17_Skill_managersManager\": null,\n        \"Competency17_Skill_otherManager\": null,\n        \"Competency35_Skill_self\": null,\n        \"Competency35_Skill_totalOthers\": null,\n        \"Competency35_Skill_yourManager\": null,\n        \"Competency35_Skill_peopleYouLead\": null,\n        \"Competency35_Skill_peers\": null,\n        \"Competency35_Skill_customers\": null,\n        \"Competency35_Skill_otherRaters\": null,\n        \"Competency35_Skill_managersManager\": null,\n        \"Competency35_Skill_otherManager\": null,\n        \"Competency8_Skill_self\": null,\n        \"Competency8_Skill_totalOthers\": null,\n        \"Competency8_Skill_yourManager\": null,\n        \"Competency8_Skill_peopleYouLead\": null,\n        \"Competency8_Skill_peers\": null,\n        \"Competency8_Skill_customers\": null,\n        \"Competency8_Skill_otherRaters\": null,\n        \"Competency8_Skill_managersManager\": null,\n        \"Competency8_Skill_otherManager\": null,\n        \"Competency12_Skill_self\": null,\n        \"Competency12_Skill_totalOthers\": null,\n        \"Competency12_Skill_yourManager\": null,\n        \"Competency12_Skill_peopleYouLead\": null,\n        \"Competency12_Skill_peers\": null,\n        \"Competency12_Skill_customers\": null,\n        \"Competency12_Skill_otherRaters\": null,\n        \"Competency12_Skill_managersManager\": null,\n        \"Competency12_Skill_otherManager\": null,\n        \"Competency32_Skill_self\": null,\n        \"Competency32_Skill_totalOthers\": null,\n        \"Competency32_Skill_yourManager\": null,\n        \"Competency32_Skill_peopleYouLead\": null,\n        \"Competency32_Skill_peers\": null,\n        \"Competency32_Skill_customers\": null,\n        \"Competency32_Skill_otherRaters\": null,\n        \"Competency32_Skill_managersManager\": null,\n        \"Competency32_Skill_otherManager\": null,\n        \"Competency18_Skill_self\": null,\n        \"Competency18_Skill_totalOthers\": null,\n        \"Competency18_Skill_yourManager\": null,\n        \"Competency18_Skill_peopleYouLead\": null,\n        \"Competency18_Skill_peers\": null,\n        \"Competency18_Skill_customers\": null,\n        \"Competency18_Skill_otherRaters\": null,\n        \"Competency18_Skill_managersManager\": null,\n        \"Competency18_Skill_otherManager\": null,\n        \"Competency19_Skill_self\": 4,\n        \"Competency19_Skill_totalOthers\": 3.33333333333333,\n        \"Competency19_Skill_yourManager\": 3.33333333333333,\n        \"Competency19_Skill_peopleYouLead\": null,\n        \"Competency19_Skill_peers\": null,\n        \"Competency19_Skill_customers\": null,\n        \"Competency19_Skill_otherRaters\": null,\n        \"Competency19_Skill_managersManager\": null,\n        \"Competency19_Skill_otherManager\": null,\n        \"Competency33_Skill_self\": null,\n        \"Competency33_Skill_totalOthers\": null,\n        \"Competency33_Skill_yourManager\": null,\n        \"Competency33_Skill_peopleYouLead\": null,\n        \"Competency33_Skill_peers\": null,\n        \"Competency33_Skill_customers\": null,\n        \"Competency33_Skill_otherRaters\": null,\n        \"Competency33_Skill_managersManager\": null,\n        \"Competency33_Skill_otherManager\": null,\n        \"Competency2_Skill_self\": null,\n        \"Competency2_Skill_totalOthers\": null,\n        \"Competency2_Skill_yourManager\": null,\n        \"Competency2_Skill_peopleYouLead\": null,\n        \"Competency2_Skill_peers\": null,\n        \"Competency2_Skill_customers\": null,\n        \"Competency2_Skill_otherRaters\": null,\n        \"Competency2_Skill_managersManager\": null,\n        \"Competency2_Skill_otherManager\": null,\n        \"Competency27_Skill_self\": 3,\n        \"Competency27_Skill_totalOthers\": 3.66666666666667,\n        \"Competency27_Skill_yourManager\": 3.66666666666667,\n        \"Competency27_Skill_peopleYouLead\": null,\n        \"Competency27_Skill_peers\": null,\n        \"Competency27_Skill_customers\": null,\n        \"Competency27_Skill_otherRaters\": null,\n        \"Competency27_Skill_managersManager\": null,\n        \"Competency27_Skill_otherManager\": null,\n        \"Competency15_Skill_self\": 3.75,\n        \"Competency15_Skill_totalOthers\": 2,\n        \"Competency15_Skill_yourManager\": 2,\n        \"Competency15_Skill_peopleYouLead\": null,\n        \"Competency15_Skill_peers\": null,\n        \"Competency15_Skill_customers\": null,\n        \"Competency15_Skill_otherRaters\": null,\n        \"Competency15_Skill_managersManager\": null,\n        \"Competency15_Skill_otherManager\": null,\n        \"Competency25_Skill_self\": 3.75,\n        \"Competency25_Skill_totalOthers\": 4.66666666666667,\n        \"Competency25_Skill_yourManager\": 4.66666666666667,\n        \"Competency25_Skill_peopleYouLead\": null,\n        \"Competency25_Skill_peers\": null,\n        \"Competency25_Skill_customers\": null,\n        \"Competency25_Skill_otherRaters\": null,\n        \"Competency25_Skill_managersManager\": null,\n        \"Competency25_Skill_otherManager\": null,\n        \"Competency38_Skill_self\": 4,\n        \"Competency38_Skill_totalOthers\": 5,\n        \"Competency38_Skill_yourManager\": 5,\n        \"Competency38_Skill_peopleYouLead\": null,\n        \"Competency38_Skill_peers\": null,\n        \"Competency38_Skill_customers\": null,\n        \"Competency38_Skill_otherRaters\": null,\n        \"Competency38_Skill_managersManager\": null,\n        \"Competency38_Skill_otherManager\": null,\n        \"Competency1_Skill_self\": null,\n        \"Competency1_Skill_totalOthers\": null,\n        \"Competency1_Skill_yourManager\": null,\n        \"Competency1_Skill_peopleYouLead\": null,\n        \"Competency1_Skill_peers\": null,\n        \"Competency1_Skill_customers\": null,\n        \"Competency1_Skill_otherRaters\": null,\n        \"Competency1_Skill_managersManager\": null,\n        \"Competency1_Skill_otherManager\": null,\n        \"Competency28_Skill_self\": 3,\n        \"Competency28_Skill_totalOthers\": 4.5,\n        \"Competency28_Skill_yourManager\": 4.5,\n        \"Competency28_Skill_peopleYouLead\": null,\n        \"Competency28_Skill_peers\": null,\n        \"Competency28_Skill_customers\": null,\n        \"Competency28_Skill_otherRaters\": null,\n        \"Competency28_Skill_managersManager\": null,\n        \"Competency28_Skill_otherManager\": null,\n        \"Competency6_Skill_self\": null,\n        \"Competency6_Skill_totalOthers\": null,\n        \"Competency6_Skill_yourManager\": null,\n        \"Competency6_Skill_peopleYouLead\": null,\n        \"Competency6_Skill_peers\": null,\n        \"Competency6_Skill_customers\": null,\n        \"Competency6_Skill_otherRaters\": null,\n        \"Competency6_Skill_managersManager\": null,\n        \"Competency6_Skill_otherManager\": null,\n        \"Competency9_Skill_self\": 4.33333333333333,\n        \"Competency9_Skill_totalOthers\": 2.66666666666667,\n        \"Competency9_Skill_yourManager\": 2.66666666666667,\n        \"Competency9_Skill_peopleYouLead\": null,\n        \"Competency9_Skill_peers\": null,\n        \"Competency9_Skill_customers\": null,\n        \"Competency9_Skill_otherRaters\": null,\n        \"Competency9_Skill_managersManager\": null,\n        \"Competency9_Skill_otherManager\": null,\n        \"Competency20_Skill_self\": null,\n        \"Competency20_Skill_totalOthers\": null,\n        \"Competency20_Skill_yourManager\": null,\n        \"Competency20_Skill_peopleYouLead\": null,\n        \"Competency20_Skill_peers\": null,\n        \"Competency20_Skill_customers\": null,\n        \"Competency20_Skill_otherRaters\": null,\n        \"Competency20_Skill_managersManager\": null,\n        \"Competency20_Skill_otherManager\": null,\n        \"Competency21_Skill_self\": null,\n        \"Competency21_Skill_totalOthers\": null,\n        \"Competency21_Skill_yourManager\": null,\n        \"Competency21_Skill_peopleYouLead\": null,\n        \"Competency21_Skill_peers\": null,\n        \"Competency21_Skill_customers\": null,\n        \"Competency21_Skill_otherRaters\": null,\n        \"Competency21_Skill_managersManager\": null,\n        \"Competency21_Skill_otherManager\": null,\n        \"Competency4_Skill_self\": null,\n        \"Competency4_Skill_totalOthers\": null,\n        \"Competency4_Skill_yourManager\": null,\n        \"Competency4_Skill_peopleYouLead\": null,\n        \"Competency4_Skill_peers\": null,\n        \"Competency4_Skill_customers\": null,\n        \"Competency4_Skill_otherRaters\": null,\n        \"Competency4_Skill_managersManager\": null,\n        \"Competency4_Skill_otherManager\": null,\n        \"Competency13_Skill_self\": null,\n        \"Competency13_Skill_totalOthers\": null,\n        \"Competency13_Skill_yourManager\": null,\n        \"Competency13_Skill_peopleYouLead\": null,\n        \"Competency13_Skill_peers\": null,\n        \"Competency13_Skill_customers\": null,\n        \"Competency13_Skill_otherRaters\": null,\n        \"Competency13_Skill_managersManager\": null,\n        \"Competency13_Skill_otherManager\": null,\n        \"Competency14_Skill_self\": null,\n        \"Competency14_Skill_totalOthers\": null,\n        \"Competency14_Skill_yourManager\": null,\n        \"Competency14_Skill_peopleYouLead\": null,\n        \"Competency14_Skill_peers\": null,\n        \"Competency14_Skill_customers\": null,\n        \"Competency14_Skill_otherRaters\": null,\n        \"Competency14_Skill_managersManager\": null,\n        \"Competency14_Skill_otherManager\": null,\n        \"Competency34_Skill_self\": 3.75,\n        \"Competency34_Skill_totalOthers\": 3.66666666666667,\n        \"Competency34_Skill_yourManager\": 3.66666666666667,\n        \"Competency34_Skill_peopleYouLead\": null,\n        \"Competency34_Skill_peers\": null,\n        \"Competency34_Skill_customers\": null,\n        \"Competency34_Skill_otherRaters\": null,\n        \"Competency34_Skill_managersManager\": null,\n        \"Competency34_Skill_otherManager\": null,\n        \"Competency7_Skill_self\": null,\n        \"Competency7_Skill_totalOthers\": null,\n        \"Competency7_Skill_yourManager\": null,\n        \"Competency7_Skill_peopleYouLead\": null,\n        \"Competency7_Skill_peers\": null,\n        \"Competency7_Skill_customers\": null,\n        \"Competency7_Skill_otherRaters\": null,\n        \"Competency7_Skill_managersManager\": null,\n        \"Competency7_Skill_otherManager\": null,\n        \"Competency16_Skill_self\": null,\n        \"Competency16_Skill_totalOthers\": null,\n        \"Competency16_Skill_yourManager\": null,\n        \"Competency16_Skill_peopleYouLead\": null,\n        \"Competency16_Skill_peers\": null,\n        \"Competency16_Skill_customers\": null,\n        \"Competency16_Skill_otherRaters\": null,\n        \"Competency16_Skill_managersManager\": null,\n        \"Competency16_Skill_otherManager\": null\n    },\n    \"surveyId\": \"KF360_ABCDEFG\"\n}","Batch Size":"1","Unique FlowFiles":"false","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"10 min","schedulingStrategy":"TIMER_DRIVEN","executionNode":"PRIMARY","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"f8cc038e-7e54-3e06-bd5d-fcb1f5d302c9","instanceIdentifier":"100dd8b6-0196-1000-0000-00005eccbd94","name":"SplitJson","comments":"","position":{"x":1016.0,"y":440.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.records[*]"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"bd199e09-dd1b-3818-b525-b54b56dcce88","instanceIdentifier":"100e8e00-0196-1000-ffff-ffffc29dea33","name":"EvaluateJsonPath","comments":"","position":{"x":1720.0,"y":432.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Destination":"flowfile-attribute","scoreKey":"$.id","Max String Length":"20 MB","behaviorId":"$.behavior","Return Type":"auto-detect","scoreType":"$.scoreType","Null Value Representation":"the string 'null'","competencyId":"$.competency","raterType":"$.raterType","clusterId":"$.cluster","Path Not Found Behavior":"ignore","tableType":"$.type","score":"$.score","stage":"$.stage","stallersStoppersId":"$.ss"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"scoreKey":{"name":"scoreKey","displayName":"scoreKey","identifiesControllerService":false,"sensitive":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"behaviorId":{"name":"behaviorId","displayName":"behaviorId","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"scoreType":{"name":"scoreType","displayName":"scoreType","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"competencyId":{"name":"competencyId","displayName":"competencyId","identifiesControllerService":false,"sensitive":false},"raterType":{"name":"raterType","displayName":"raterType","identifiesControllerService":false,"sensitive":false},"clusterId":{"name":"clusterId","displayName":"clusterId","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false},"tableType":{"name":"tableType","displayName":"tableType","identifiesControllerService":false,"sensitive":false},"score":{"name":"score","displayName":"score","identifiesControllerService":false,"sensitive":false},"stage":{"name":"stage","displayName":"stage","identifiesControllerService":false,"sensitive":false},"stallersStoppersId":{"name":"stallersStoppersId","displayName":"stallersStoppersId","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"19938ac7-35fa-3281-8388-9175c34673e2","instanceIdentifier":"43503bef-0196-1000-ffff-ffffd5d998c8","name":"ReplaceText","comments":"","position":{"x":2384.0,"y":1088.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\"id\": \"Invalid assessment ID: ${assessmentId}, survey ID: ${kF360SurveyType}, participant ID: ${participantId}, project ID: ${projectId}, or invalid score data: ${scoreKey} found in the payload.\"}","Evaluation Mode":"Entire text","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Always Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"43f87bea-ff9c-30a7-9150-5495867cb122","instanceIdentifier":"59a43298-81b2-1c97-a90c-008b290567d2","name":"Capturing generated primary keys as attribute","comments":"","position":{"x":1720.0,"y":1216.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null,"generated_pkey":"${sql.generated.key}"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"generated_pkey":{"name":"generated_pkey","displayName":"generated_pkey","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"2bb24e68-93d7-314b-a6ca-8833cb9a5555","instanceIdentifier":"14319a64-0196-1000-ffff-ffffb218902e","name":"Lookup for Survey Type Key","comments":"","position":{"x":1000.0,"y":664.0},"type":"org.apache.nifi.processors.standard.LookupAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"lookup-service":"e502bf20-7ec5-38df-a5d4-a827be020ea7","survey_type_key":"${kF360SurveyType}","include-empty-values":"true"},"propertyDescriptors":{"lookup-service":{"name":"lookup-service","displayName":"Lookup Service","identifiesControllerService":true,"sensitive":false},"survey_type_key":{"name":"survey_type_key","displayName":"survey_type_key","identifiesControllerService":false,"sensitive":false},"include-empty-values":{"name":"include-empty-values","displayName":"Include Empty Values","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"e7ee10e1-cb52-3595-912f-eea7d419e609","instanceIdentifier":"1011a71a-0196-1000-ffff-ffff93857d98","name":"UpdateAttribute","comments":"","position":{"x":1000.0,"y":936.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"score":"${score:replace(\"^null$\", \"\")}","Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"score":{"name":"score","displayName":"score","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"annotationData":"<criteria>\n    <flowFilePolicy>USE_CLONE</flowFilePolicy>\n    <rules>\n        <actions>\n            <attribute>priority</attribute>\n            <id>924be089-1410-4fb1-acdb-f59afb8848f1</id>\n            <value>1</value>\n        </actions>\n        <actions>\n            <attribute>upsert_query</attribute>\n            <id>8721c356-e468-4845-8fe4-4911b5683ba5</id>\n            <value>WITH project_candidate_data AS (\n/* To get project_candidate_key using participantId &amp; projectID */\nSELECT pc.project_candidate_key   \nFROM ${idw_schema}.client_person cp \nJOIN ${idw_schema}.person_cross_reference pcr ON pcr.client_person_key = cp.client_person_key\nJOIN ${idw_schema}.project_candidate pc ON pc.candidate_key = cp.person_key \nJOIN ${idw_schema}.cohort_project cpr ON cpr.cohort_project_key = pc.cohort_project_key \nWHERE pcr.application_person_id = '${participantId}'\nAND cpr.source_project_id  = '${projectId}'),\nparticipant_assessment_data AS (\nSELECT apa.participant_assessment_key FROM ${idw_schema}.a360_participant_assessment apa \nWHERE apa.project_candidate_key IN (select project_candidate_key from project_candidate_data)\nAND apa.source_assessment_id = '${assessmentId}')\nINSERT INTO ${idw_schema}.a360_participant_summary (participant_assessment_key, survey_type_key, rater_type_key, scored_responses)\n SELECT \n  (SELECT participant_assessment_key FROM participant_assessment_data),\n  '${survey_type_key}',\n  '${rater_type_key}',\n  ${score}\n WHERE EXISTS (\n    SELECT 1 \n    FROM participant_assessment_data \n    WHERE participant_assessment_key IS NOT NULL)\n    AND (COALESCE('${survey_type_key}','null') &lt;&gt; 'null' AND '${survey_type_key}' &lt;&gt; '') \n    AND (COALESCE('${rater_type_key}','null') &lt;&gt; 'null' AND '${rater_type_key}' &lt;&gt; '')\nON CONFLICT (participant_assessment_key, survey_type_key, rater_type_key)\nDO UPDATE SET \n\tscored_responses = ${score}\nRETURNING participant_summary_key;</value>\n        </actions>\n        <comments>To route score data with Competency, Rater Type &amp; Score to a360_participant_summary table</comments>\n        <conditions>\n            <expression>${tableType:equals(\"participant_summary\")}</expression>\n            <id>9525f80a-ace7-47ec-8b25-eb2f30d0fffb</id>\n        </conditions>\n        <id>30e219e9-3313-4811-913f-b14f6965c587</id>\n        <name>participant_summary</name>\n    </rules>\n    <rules>\n        <actions>\n            <attribute>upsert_query</attribute>\n            <id>80f296e8-36ab-4f8d-b207-727261ec5816</id>\n            <value>WITH project_candidate_data AS (\n/* To get project_candidate_key using participantId &amp; projectID */\nSELECT pc.project_candidate_key   \nFROM ${idw_schema}.client_person cp \nJOIN ${idw_schema}.person_cross_reference pcr ON pcr.client_person_key = cp.client_person_key\nJOIN ${idw_schema}.project_candidate pc ON pc.candidate_key = cp.person_key \nJOIN ${idw_schema}.cohort_project cpr ON cpr.cohort_project_key = pc.cohort_project_key \nWHERE pcr.application_person_id = '${participantId}'\nAND cpr.source_project_id  = '${projectId}'),\nparticipant_assessment_data AS (\nSELECT apa.participant_assessment_key FROM ${idw_schema}.a360_participant_assessment apa \nWHERE apa.project_candidate_key IN (select project_candidate_key from project_candidate_data)\nAND apa.source_assessment_id = '${assessmentId}'),\ncompetency_data AS (\nSELECT competency_key FROM ${idw_schema}.a360_competency ac \nWHERE ac.source_competency_id ='${competencyId}') \nINSERT INTO ${idw_schema}.a360_participant_competency_profile (participant_assessment_key, survey_type_key, competency_key, level_blindspot_hiddenstrength, profile_rating)\n SELECT \n  (SELECT participant_assessment_key FROM participant_assessment_data),\n  '${survey_type_key}',\n  (SELECT competency_key FROM competency_data),\n  '${scoreType}',\n  ${score}\n WHERE EXISTS (\n    SELECT 1 \n    FROM participant_assessment_data \n    WHERE participant_assessment_key IS NOT NULL)\n    AND EXISTS (\n    SELECT 1 \n    FROM competency_data \n    WHERE competency_key IS NOT NULL)\n    AND (COALESCE('${survey_type_key}','null') &lt;&gt; 'null' AND '${survey_type_key}' &lt;&gt; '') \n    AND (COALESCE('${scoreType}','null') &lt;&gt; 'null' IS NOT NULL AND '${scoreType}' &lt;&gt; '')\nON CONFLICT (participant_assessment_key, survey_type_key, competency_key, level_blindspot_hiddenstrength)\nDO UPDATE SET \n\tprofile_rating = ${score}\nRETURNING participant_competency_profile_key;</value>\n        </actions>\n        <actions>\n            <attribute>priority</attribute>\n            <id>686be7d8-bdf4-4617-93c1-2dd61e6188cb</id>\n            <value>2</value>\n        </actions>\n        <comments>To route score data with Competency,  Score Type &amp; Score to a360_participant_competency_profile table</comments>\n        <conditions>\n            <expression>${tableType:equals(\"participant_competency_profile\")}</expression>\n            <id>1856d7cb-a1d4-4393-8c9a-a417ad8e732e</id>\n        </conditions>\n        <id>3d576c5b-0396-4382-be41-392dd84c17bb</id>\n        <name>participant_competency_profile</name>\n    </rules>\n    <rules>\n        <actions>\n            <attribute>priority</attribute>\n            <id>844aaec5-d7fb-4902-bad8-11f6b71ca199</id>\n            <value>3</value>\n        </actions>\n        <actions>\n            <attribute>upsert_query</attribute>\n            <id>f62a14be-b31d-4633-a23c-8c5b5dfc7db7</id>\n            <value>WITH project_candidate_data AS (\n/* To get project_candidate_key using participantId &amp; projectID */\nSELECT pc.project_candidate_key   \nFROM ${idw_schema}.client_person cp \nJOIN ${idw_schema}.person_cross_reference pcr ON pcr.client_person_key = cp.client_person_key\nJOIN ${idw_schema}.project_candidate pc ON pc.candidate_key = cp.person_key \nJOIN ${idw_schema}.cohort_project cpr ON cpr.cohort_project_key = pc.cohort_project_key \nWHERE pcr.application_person_id = '${participantId}'\nAND cpr.source_project_id  = '${projectId}'),\nparticipant_assessment_data AS (\nSELECT apa.participant_assessment_key FROM ${idw_schema}.a360_participant_assessment apa \nWHERE apa.project_candidate_key IN (select project_candidate_key from project_candidate_data)\nAND apa.source_assessment_id = '${assessmentId}'),\ncompetency_data AS (\nSELECT competency_key FROM ${idw_schema}.a360_competency ac \nWHERE ac.source_competency_id ='${competencyId}')\nINSERT INTO ${idw_schema}.a360_participant_competency_rating (participant_assessment_key, survey_type_key, rater_type_key, competency_key, score_type, rating)\n SELECT \n  (SELECT participant_assessment_key FROM participant_assessment_data),\n  '${survey_type_key}',\n  '${rater_type_key}',\n  (SELECT competency_key FROM competency_data),\n  '${scoreType}',\n  ${score} \n WHERE EXISTS (\n    SELECT 1 \n    FROM participant_assessment_data \n    WHERE participant_assessment_key IS NOT NULL)\n    AND EXISTS (\n    SELECT 1 \n    FROM competency_data \n    WHERE competency_key IS NOT NULL)\n    AND (COALESCE('${survey_type_key}','null') &lt;&gt; 'null' AND '${survey_type_key}' &lt;&gt; '') \n    AND (COALESCE('${rater_type_key}','null') &lt;&gt; 'null' AND '${rater_type_key}' &lt;&gt; '')\n    AND (COALESCE('${scoreType}','null') &lt;&gt; 'null' AND '${scoreType}' &lt;&gt; '')\nON CONFLICT (participant_assessment_key, survey_type_key, rater_type_key, competency_key, score_type)\nDO UPDATE SET\n\trating = ${score}\nRETURNING participant_competency_rating_key;</value>\n        </actions>\n        <comments>To route score data with Competency, Score Type, Rater Type &amp; Score to a360_participant_competency_rating table</comments>\n        <conditions>\n            <expression>${tableType:equals(\"participant_competency_rating\")}</expression>\n            <id>5eb559d3-bf3f-4528-a544-5db28d402e19</id>\n        </conditions>\n        <id>57feadd1-fadd-4cc2-84ca-6870822ffc99</id>\n        <name>participant_competency_rating</name>\n    </rules>\n    <rules>\n        <actions>\n            <attribute>upsert_query</attribute>\n            <id>abab4f9b-81e6-47d6-bd32-7d58a871c6e0</id>\n            <value>WITH project_candidate_data AS (\n/* To get project_candidate_key using participantId &amp; projectID */\nSELECT pc.project_candidate_key   \nFROM ${idw_schema}.client_person cp \nJOIN ${idw_schema}.person_cross_reference pcr ON pcr.client_person_key = cp.client_person_key\nJOIN ${idw_schema}.project_candidate pc ON pc.candidate_key = cp.person_key \nJOIN ${idw_schema}.cohort_project cpr ON cpr.cohort_project_key = pc.cohort_project_key \nWHERE pcr.application_person_id = '${participantId}'\nAND cpr.source_project_id  = '${projectId}'),\nparticipant_assessment_data AS (\nSELECT apa.participant_assessment_key FROM ${idw_schema}.a360_participant_assessment apa \nWHERE apa.project_candidate_key IN (select project_candidate_key from project_candidate_data)\nAND apa.source_assessment_id = '${assessmentId}'),\ncompetency_data AS (\nSELECT competency_key FROM ${idw_schema}.a360_competency ac \nWHERE ac.source_competency_id = '${competencyId}'),\nparticipant_competency_rating_data AS (\nSELECT participant_competency_rating_key FROM ${idw_schema}.a360_participant_competency_rating\nWHERE survey_type_key = '${survey_type_key}' AND rater_type_key = '${rater_type_key}'\nAND competency_key IN (SELECT competency_key FROM competency_data)\nAND score_type = '${scoreType}'\nAND participant_assessment_key IN (SELECT participant_assessment_key FROM participant_assessment_data)\n),\ncompetency_behavior_data AS (\nSELECT competency_behavior_key from ${idw_schema}.a360_competency_behavior\nWHERE competency_key IN (SELECT competency_key from competency_data) \nAND stage = '${stage}' AND source_behavior_id = '${behaviorId}') \nINSERT INTO ${idw_schema}.a360_participant_behavior_rating (participant_competency_rating_key, competency_behavior_key, score_type, rating)\n SELECT \n  (SELECT participant_competency_rating_key FROM participant_competency_rating_data),\n  (SELECT competency_behavior_key FROM competency_behavior_data),\n  '${scoreType}',\n  ${score}\n WHERE EXISTS (\n    SELECT 1 \n    FROM participant_competency_rating_data \n    WHERE participant_competency_rating_key IS NOT NULL)\n    AND EXISTS (\n    SELECT 1 \n    FROM competency_behavior_data \n    WHERE competency_behavior_key IS NOT NULL)\n    AND (COALESCE('${scoreType}','null') &lt;&gt; 'null' AND '${scoreType}' &lt;&gt; '')\nON CONFLICT (participant_competency_rating_key, competency_behavior_key, score_type)\nDO UPDATE SET\n\trating = ${score}\nRETURNING participant_behavior_rating_key;</value>\n        </actions>\n        <actions>\n            <attribute>priority</attribute>\n            <id>826037f0-268d-47ba-9010-329afb87f2df</id>\n            <value>4</value>\n        </actions>\n        <comments>To route score data with Competency, Stage, Behavior, Score Type, Rater Type &amp; Score to a360_participant_behavior_rating table</comments>\n        <conditions>\n            <expression>${tableType:equals(\"participant_behavior_rating\")}</expression>\n            <id>e50817a6-4069-4086-8762-2c3317b3baf7</id>\n        </conditions>\n        <id>9aca3f83-3a96-4378-b6a6-01a40695b604</id>\n        <name>participant_behavior_rating</name>\n    </rules>\n    <rules>\n        <actions>\n            <attribute>priority</attribute>\n            <id>25e436ac-dd48-4661-93bd-aec3ca9754a7</id>\n            <value>5</value>\n        </actions>\n        <actions>\n            <attribute>upsert_query</attribute>\n            <id>81d7b7b6-cef1-4886-a9d0-1c81fad7070f</id>\n            <value>WITH project_candidate_data AS (\n/* To get project_candidate_key using participantId &amp; projectID */\nSELECT pc.project_candidate_key   \nFROM ${idw_schema}.client_person cp \nJOIN ${idw_schema}.person_cross_reference pcr ON pcr.client_person_key = cp.client_person_key\nJOIN ${idw_schema}.project_candidate pc ON pc.candidate_key = cp.person_key \nJOIN ${idw_schema}.cohort_project cpr ON cpr.cohort_project_key = pc.cohort_project_key \nWHERE pcr.application_person_id = '${participantId}'\nAND cpr.source_project_id  = '${projectId}'),\nparticipant_assessment_data AS (\nSELECT apa.participant_assessment_key FROM ${idw_schema}.a360_participant_assessment apa \nWHERE apa.project_candidate_key IN (select project_candidate_key from project_candidate_data)\nAND apa.source_assessment_id = '${assessmentId}'),\ncluster_data AS (\nSELECT cluster_key FROM ${idw_schema}.a360_cluster ac \nWHERE ac.source_cluster_id ='${clusterId}')\nINSERT INTO ${idw_schema}.a360_participant_cluster_rating (participant_assessment_key, survey_type_key, rater_type_key, cluster_key, score_type, rating)\n SELECT \n  (SELECT participant_assessment_key FROM participant_assessment_data),\n  '${survey_type_key}',\n  '${rater_type_key}',\n  (SELECT cluster_key FROM cluster_data),\n  '${scoreType}',\n  ${score}\n WHERE EXISTS (\n    SELECT 1 \n    FROM participant_assessment_data \n    WHERE participant_assessment_key IS NOT NULL)\n    AND EXISTS (\n    SELECT 1 \n    FROM cluster_data \n    WHERE cluster_key IS NOT NULL)\n    AND (COALESCE('${survey_type_key}','null') &lt;&gt; 'null' AND '${survey_type_key}' &lt;&gt; '') \n    AND (COALESCE('${rater_type_key}','null') &lt;&gt; 'null' AND '${rater_type_key}' &lt;&gt; '')\n    AND (COALESCE('${scoreType}','null') IS NOT NULL AND '${scoreType}' &lt;&gt; '')\nON CONFLICT (participant_assessment_key, survey_type_key, rater_type_key, cluster_key, score_type)\nDO UPDATE SET\n\trating = ${score}\nRETURNING participant_cluster_rating_key;</value>\n        </actions>\n        <comments>To route score data with Cluster, Score Type, Rater Type &amp; Score to a360_participant_cluster_rating table</comments>\n        <conditions>\n            <expression>${tableType:equals(\"participant_cluster_rating\")}</expression>\n            <id>cd30a719-e504-4127-a37a-f1a402e3c7f9</id>\n        </conditions>\n        <id>b4f3d936-0f1f-4dba-925d-62a5e1dabfca</id>\n        <name>participant_cluster_rating</name>\n    </rules>\n    <rules>\n        <actions>\n            <attribute>priority</attribute>\n            <id>c9281d74-2f9b-40f5-aef7-05a332590134</id>\n            <value>6</value>\n        </actions>\n        <actions>\n            <attribute>upsert_query</attribute>\n            <id>8f35854e-eed4-4cbc-b0ec-7aa8e2db22a7</id>\n            <value>WITH project_candidate_data AS (\n/* To get project_candidate_key using participantId &amp; projectID */\nSELECT pc.project_candidate_key   \nFROM ${idw_schema}.client_person cp \nJOIN ${idw_schema}.person_cross_reference pcr ON pcr.client_person_key = cp.client_person_key\nJOIN ${idw_schema}.project_candidate pc ON pc.candidate_key = cp.person_key \nJOIN ${idw_schema}.cohort_project cpr ON cpr.cohort_project_key = pc.cohort_project_key \nWHERE pcr.application_person_id = '${participantId}'\nAND cpr.source_project_id  = '${projectId}'),\nparticipant_assessment_data AS (\nSELECT apa.participant_assessment_key FROM ${idw_schema}.a360_participant_assessment apa \nWHERE apa.project_candidate_key IN (select project_candidate_key from project_candidate_data)\nAND apa.source_assessment_id = '${assessmentId}'),\nss_type_data AS (\nSELECT ss_type_key FROM idw.a360_ss_type ast  \nWHERE ast.ss_source_id ='${stallersStoppersId}')\nINSERT INTO ${idw_schema}.a360_staller_stopper_profile (participant_assessment_key, survey_type_key, blindspot_problem, ss_type_key, profile_rating)\n SELECT \n  (SELECT participant_assessment_key FROM participant_assessment_data),\n  '${survey_type_key}',\n  '${scoreType}',\n  (SELECT ss_type_key FROM ss_type_data),\n  ${score}\n WHERE EXISTS (\n    SELECT 1 \n    FROM participant_assessment_data \n    WHERE participant_assessment_key IS NOT NULL)\n    AND EXISTS (\n    SELECT 1 \n    FROM ss_type_data \n    WHERE ss_type_key IS NOT NULL)\n    AND (COALESCE('${survey_type_key}','null') &lt;&gt; 'null' AND '${survey_type_key}' &lt;&gt; '')\n    AND (COALESCE('${scoreType}','null') &lt;&gt; 'null' AND '${scoreType}' &lt;&gt; '')\nON CONFLICT (participant_assessment_key, survey_type_key, blindspot_problem, ss_type_key)\nDO UPDATE SET\n\tprofile_rating = ${score}\nRETURNING staller_stopper_profile_key;</value>\n        </actions>\n        <comments>To route score data with Stallers &amp; Stoppers, Score Type &amp; Score to a360_staller_stopper_profile table</comments>\n        <conditions>\n            <expression>${tableType:equals(\"staller_stopper_profile\")}</expression>\n            <id>52f7b9c3-3eb8-4757-b86f-9a5b37a6bc41</id>\n        </conditions>\n        <id>6e9eee21-64df-44cb-9582-e4fa62d9ef57</id>\n        <name>staller_stopper_profile</name>\n    </rules>\n    <rules>\n        <actions>\n            <attribute>priority</attribute>\n            <id>92a35f17-51c0-4277-8a82-f110829f8085</id>\n            <value>7</value>\n        </actions>\n        <actions>\n            <attribute>upsert_query</attribute>\n            <id>2fbb4c2f-3717-4868-b766-d5c804573aa3</id>\n            <value>WITH project_candidate_data AS (\n/* To get project_candidate_key using participantId &amp; projectID */\nSELECT pc.project_candidate_key   \nFROM ${idw_schema}.client_person cp \nJOIN ${idw_schema}.person_cross_reference pcr ON pcr.client_person_key = cp.client_person_key\nJOIN ${idw_schema}.project_candidate pc ON pc.candidate_key = cp.person_key \nJOIN ${idw_schema}.cohort_project cpr ON cpr.cohort_project_key = pc.cohort_project_key \nWHERE pcr.application_person_id = '${participantId}'\nAND cpr.source_project_id  = '${projectId}'),\nparticipant_assessment_data AS (\nSELECT apa.participant_assessment_key FROM ${idw_schema}.a360_participant_assessment apa \nWHERE apa.project_candidate_key IN (select project_candidate_key from project_candidate_data)\nAND apa.source_assessment_id = '${assessmentId}'),\nss_type_data AS (\nSELECT ss_type_key FROM ${idw_schema}.a360_ss_type ast  \nWHERE ast.ss_source_id ='${stallersStoppersId}')\nINSERT INTO ${idw_schema}.a360_staller_stopper_rating (participant_assessment_key, survey_type_key, rater_type_key, score_type, ss_type_key, rating)\n SELECT \n  (SELECT participant_assessment_key FROM participant_assessment_data),\n  '${survey_type_key}',\n  '${rater_type_key}',\n  '${scoreType}',\n  (SELECT ss_type_key FROM ss_type_data),\n  ${score} \n WHERE EXISTS (\n    SELECT 1 \n    FROM participant_assessment_data \n    WHERE participant_assessment_key IS NOT NULL)\n    AND EXISTS (\n    SELECT 1 \n    FROM ss_type_data \n    WHERE ss_type_key IS NOT NULL)\n    AND (COALESCE('${survey_type_key}','null') &lt;&gt; 'null' AND '${survey_type_key}' &lt;&gt; '') \n    AND (COALESCE('${rater_type_key}','null') &lt;&gt; 'null' AND '${rater_type_key}' &lt;&gt; '') \n    AND (COALESCE('${scoreType}','null') &lt;&gt; 'null' AND '${scoreType}' &lt;&gt; '')\nON CONFLICT (participant_assessment_key, survey_type_key, rater_type_key, score_type, ss_type_key)\nDO UPDATE SET\n\trating = ${score}\nRETURNING staller_stopper_rating_key;</value>\n        </actions>\n        <comments>To route score data with Stallers &amp; Stoppers, Score Type, Rater Type &amp; Score to a360_staller_stopper_rating table</comments>\n        <conditions>\n            <expression>${tableType:equals(\"staller_stopper_rating\")}</expression>\n            <id>9f67d636-1966-4207-b15f-3fea05faed87</id>\n        </conditions>\n        <id>f70bc34b-5beb-44e1-8ff3-f0aee99bb31d</id>\n        <name>staller_stopper_rating</name>\n    </rules>\n    <rules>\n        <actions>\n            <attribute>priority</attribute>\n            <id>a959381f-fcac-4a6f-8fce-f6261794a181</id>\n            <value>8</value>\n        </actions>\n        <comments>Records that do not conform to the expected structure or contain invalid data are categorized as 'rejected_records' during JSON construction in the ExecuteGroovyScript processor.</comments>\n        <conditions>\n            <expression>${tableType:equals(\"rejected_records\")}</expression>\n            <id>daa98d20-e044-4685-9234-2dc73ba8d9e9</id>\n        </conditions>\n        <id>aab55fd5-dbe9-4d76-ab7d-84bb5b065a9f</id>\n        <name>rejected_records</name>\n    </rules>\n</criteria>","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"5df7e336-9f58-35bf-bd3a-8e8dd7e5a938","instanceIdentifier":"8b7b44e5-fe0c-1369-ffff-ffffb36fd96c","name":"RetryFlowFile","comments":"","position":{"x":1000.0,"y":1240.0},"type":"org.apache.nifi.processors.standard.RetryFlowFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"name":"penalize-retries","displayName":"Penalize Retries","identifiesControllerService":false,"sensitive":false},"maximum-retries":{"name":"maximum-retries","displayName":"Maximum Retries","identifiesControllerService":false,"sensitive":false},"Fail on Non-numerical Overwrite":{"name":"Fail on Non-numerical Overwrite","displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"sensitive":false},"reuse-mode":{"name":"reuse-mode","displayName":"Reuse Mode","identifiesControllerService":false,"sensitive":false},"retry-attribute":{"name":"retry-attribute","displayName":"Retry Attribute","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"ddf777d0-918c-3cfb-9ea4-ce42a88d6cd0","instanceIdentifier":"100cc3bd-0196-1000-ffff-ffff9f0bab7b","name":"ExecuteGroovyScript","comments":"","position":{"x":1016.0,"y":168.0},"type":"org.apache.nifi.processors.groovyx.ExecuteGroovyScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-groovyx-nar","version":"1.27.0"},"properties":{"groovyx-script-body":"import groovy.json.JsonOutput\nimport groovy.json.JsonSlurper\nimport org.apache.nifi.processor.io.StreamCallback\nimport java.nio.charset.StandardCharsets\n\n// Function to generate dynamic output\ndef generateDynamicOutput(inputData) {\n    def metadata = [\n        \"assessmentId\": inputData.assessmentId,\n        \"dateSaved\": inputData.dateSaved,\n        \"SurveyType\": inputData.kF360SurveyType,\n        \"participantId\": inputData.participantId,\n        \"projectId\": inputData.projectId,\n        \"model_name\": inputData.scoredData?.Model_name,\n        \"model_version\": inputData.scoredData?.Model_version\n    ]\n\n    def records = []\n\n    // Define possible values for each category\n    def ratingScoreTypes = [\"Skill\", \"Importance\", \"Agreement\", \"Harmfulness\"]\n    def profileScoreTypes = [\"Skill_Level\", \"Importance_Level\", \"HiddenStrength\", \"BlindSpot\", \"PotentialOveruse\", \"Problem\"]\n    def stageTypes = [\"Stage1\", \"Stage2\", \"Stage3\", \"Stage4\"]\n    def raterTypes = [\"self\", \"yourManager\", \"peopleYouLead\", \"peers\", \"otherRaters\", \"otherManager\", \"managersManager\", \"customers\", \"totalOthers\"]\n\n    // Add the new condition for \"stallers & stoppers, clusters\"\n    def clustersPrefixes = [\"AntiCluster\", \"Cluster\"]\n    def stallersStoppersPrefixes = [\"SS\"]\n    def keywordsToSkip = [\"_PRC\", \"Model_name\", \"Model_version\"]\n    \n    inputData.scoredData.each { key, value ->\n        // Skip unwanted keys\n        if (keywordsToSkip.any { key.contains(it) }) {\n            return\n        }\n\n        def parts = key.tokenize(\"_\")\n\n        // Identify competency (everything before \"StageX\" or ScoreType)\n        def competencyIndex = parts.findIndexOf { it.startsWith(\"Stage\") || it in (ratingScoreTypes + profileScoreTypes) }\n        def competency = competencyIndex > 0 ? parts[0..(competencyIndex - 1)].join(\"_\") : null\n\n        // Identify stage\n        def stageIndex = parts.findIndexOf { it.startsWith(\"Stage\") }\n        def stage = stageIndex >= 0 ? parts[stageIndex] : null\n\n        // Identify score type\n        def scoreTypeIndex = parts.findIndexOf { it in (ratingScoreTypes + profileScoreTypes) }\n        def scoreType = null\n        if (scoreTypeIndex >= 0) {\n            if (parts.size() > scoreTypeIndex + 1 && (parts[scoreTypeIndex + 1] == \"Level\")) {\n                scoreType = parts[scoreTypeIndex] + \"_\" + parts[scoreTypeIndex + 1]\n            } else {\n                scoreType = parts[scoreTypeIndex]\n            }\n        }\n\n        // Identify rater type\n        def raterTypeIndex = parts.findIndexOf { it in raterTypes }\n        def raterType = raterTypeIndex >= 0 ? parts[raterTypeIndex] : null\n\n        // Identify behavior (everything between Stage and ScoreType)\n        def behavior = (stageIndex >= 0 && scoreTypeIndex > stageIndex + 1) ? parts[(stageIndex + 1)..(scoreTypeIndex - 1)].join(\"_\") : null\n\n        // Determine record type \n        def recordType = null\n        def hasProfileScoreType = profileScoreTypes.any { key.contains(it) }\n        def hasRatingScoreType = ratingScoreTypes.any { key.contains(it) }\n        def hasRaterType = raterTypes.any { key.contains(it) }\n        \n        if (key.startsWith(\"SS\") && hasProfileScoreType) {\n    recordType = \"staller_stopper_profile\"\n        } else if (key.startsWith(\"SS\") && hasRatingScoreType && hasRaterType) {\n    recordType = \"staller_stopper_rating\"\n        } else if (clustersPrefixes.any { key.startsWith(it) }) {\n    recordType = \"participant_cluster_rating\"\n        } else if (hasProfileScoreType) {\n    recordType = \"participant_competency_profile\"\n        } else if (key.startsWith(\"N_Responses\") && hasRaterType && !hasProfileScoreType && !hasRatingScoreType) {\n    recordType = \"participant_summary\"\n        } else if (hasRaterType && hasRatingScoreType && !hasProfileScoreType) {\n    if (stage && behavior) {\n        recordType = \"participant_behavior_rating\"\n    } else {\n        recordType = \"participant_competency_rating\"\n    }\n}\n\n        // Convert boolean \"True\" and \"False\" to 1 and 0\n        def score = value\n        if (score == \"True\" || score == \"Yes\") {\n            score = 1\n        } else if (score == \"False\" || score == \"No\") {\n            score = 0\n        }\n\n        def record = [\"id\": key]\n        if (recordType) {\n            record[\"type\"] = recordType\n            if (competency) {\n    if (competency.toLowerCase().contains(\"cluster\")) {\n        record[\"cluster\"] = competency\n    } else if (competency.toUpperCase().startsWith(\"SS\")) {\n        record[\"ss\"] = competency\n    } else {\n        record[\"competency\"] = competency\n    }\n}\n            if (stage) record[\"stage\"] = stage\n            if (behavior) record[\"behavior\"] = behavior\n            if (scoreType) record[\"scoreType\"] = scoreType\n            if (raterType) record[\"raterType\"] = raterType\n            record[\"score\"] = score\n        } else {\n            record[\"type\"] = \"rejected_records\"\n            record[\"value\"] = value\n        }\n\n        records << record\n    }\n\n    return [\"metadata\": metadata, \"records\": records]\n}\n\n// Fetch metadata attributes\ndef flowFile = session.get()\nif (!flowFile) return\n\ndef assessmentId = flowFile.getAttribute('assessmentId')\ndef dateSaved = flowFile.getAttribute('dateSaved')\ndef SurveyType = flowFile.getAttribute('SurveyType')\ndef participantId = flowFile.getAttribute('participantId')\ndef projectId = flowFile.getAttribute('projectId')\n\ndef scoredData = [:]\n\n// Read content (JSON) and extract 'scoredData'\nflowFile = session.write(flowFile, { inputStream, outputStream ->\n    def jsonText = inputStream.getText(StandardCharsets.UTF_8.name())\n    def parsed = new JsonSlurper().parseText(jsonText)\n    scoredData = parsed.scoredData ?: [:]\n    \n    // If needed, you can replace or write something to outputStream\n    outputStream.write(jsonText.getBytes(StandardCharsets.UTF_8)) // preserve original\n} as StreamCallback)\n\ndef inputData = [\n    assessmentId: assessmentId,\n    dateSaved: dateSaved,\n    SurveyType: SurveyType,\n    participantId: participantId,\n    projectId: projectId,\n    scoredData: scoredData\n]\n\ndef output = generateDynamicOutput(inputData)\ndef outputJson = JsonOutput.prettyPrint(JsonOutput.toJson(output))\n\n// Write new output as content\nflowFile = session.write(flowFile, { out ->\n    out.write(outputJson.getBytes(StandardCharsets.UTF_8))\n} as OutputStreamCallback)\n\nsession.transfer(flowFile, REL_SUCCESS)","groovyx-failure-strategy":"rollback","groovyx-additional-classpath":null,"groovyx-script-file":null},"propertyDescriptors":{"groovyx-script-body":{"name":"groovyx-script-body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false},"groovyx-failure-strategy":{"name":"groovyx-failure-strategy","displayName":"Failure strategy","identifiesControllerService":false,"sensitive":false},"groovyx-additional-classpath":{"name":"groovyx-additional-classpath","displayName":"Additional classpath","identifiesControllerService":false,"sensitive":false},"groovyx-script-file":{"name":"groovyx-script-file","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"}],"inputPorts":[{"identifier":"ce503de7-3462-3c00-a7e8-23840f504a3b","instanceIdentifier":"c3113a4c-6430-1e1d-0000-0000688ceb16","name":"input","position":{"x":1760.0,"y":-80.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"}],"outputPorts":[{"identifier":"e2c60f0d-8650-37e2-82f8-7ce5af16586b","instanceIdentifier":"c3113a55-6430-1e1d-0000-0000419f8557","name":"log_out","position":{"x":3128.0,"y":1712.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"}],"connections":[{"identifier":"43acaeaa-ce6b-3211-b636-8c6826627f6b","instanceIdentifier":"34cbadb2-0196-1000-ffff-ffffe236a4fc","name":"","source":{"id":"f8cc038e-7e54-3e06-bd5d-fcb1f5d302c9","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"SplitJson","comments":"","instanceIdentifier":"100dd8b6-0196-1000-0000-00005eccbd94"},"destination":{"id":"bd199e09-dd1b-3818-b525-b54b56dcce88","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"100e8e00-0196-1000-ffff-ffffc29dea33"},"labelIndex":1,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":50000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"ROUND_ROBIN","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"08bfa905-c23c-3f88-b662-4c01a9777f6e","instanceIdentifier":"e46b3e4d-3d1a-1413-ffff-fffff92e86e8","name":"","source":{"id":"e7ee10e1-cb52-3595-912f-eea7d419e609","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"UpdateAttribute","comments":"","instanceIdentifier":"1011a71a-0196-1000-ffff-ffff93857d98"},"destination":{"id":"6b307d64-a54a-31f6-a4b8-be6fc3e162b3","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"Upsert into score table","comments":"","instanceIdentifier":"1ade01e6-0196-1000-ffff-ffffb36a7756"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":["org.apache.nifi.prioritizer.PriorityAttributePrioritizer"],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"28433c13-a427-364f-bb96-04724af05085","instanceIdentifier":"100a8645-0196-1000-0000-0000497f346b","name":"","source":{"id":"25992ecd-4dc6-31f1-8ec6-aae14d7bb832","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"GenerateFlowFile","comments":"","instanceIdentifier":"1008af92-0196-1000-0000-00006fb933fd"},"destination":{"id":"bbf58568-c173-3dfe-9a1f-6674d358fe13","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"100a313c-0196-1000-0000-00000818b54a"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"fa8da71b-d10e-33be-ab5d-4a240d90f5f3","instanceIdentifier":"1011c5a3-0196-1000-0000-00007c873569","name":"","source":{"id":"bd199e09-dd1b-3818-b525-b54b56dcce88","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"100e8e00-0196-1000-ffff-ffffc29dea33"},"destination":{"id":"369a9ffb-682f-3474-8b4f-c9867f310341","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"Lookup for Rater Type Key","comments":"","instanceIdentifier":"1037f514-0196-1000-ffff-ffff8b6b3e5d"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":30000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"651b531d-549a-3cc0-a304-f7f9c74de638","instanceIdentifier":"8b7b4552-fe0c-1369-ffff-ffffbf29aa73","name":"","source":{"id":"5df7e336-9f58-35bf-bd3a-8e8dd7e5a938","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"RetryFlowFile","comments":"","instanceIdentifier":"8b7b44e5-fe0c-1369-ffff-ffffb36fd96c"},"destination":{"id":"b4f17064-1529-3d0c-ba58-7144780778d7","type":"INPUT_PORT","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"0-upsert_failure","comments":"","instanceIdentifier":"d98f346b-7940-135d-a875-ed5b8574560f"},"labelIndex":0,"zIndex":0,"selectedRelationships":["retries_exceeded","failure"],"backPressureObjectThreshold":50000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1176.0,"y":1736.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"adb78900-4cea-31cc-835f-7cfbf3abba45","instanceIdentifier":"e46b3c87-3d1a-1413-ffff-ffff8062c451","name":"","source":{"id":"6b307d64-a54a-31f6-a4b8-be6fc3e162b3","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"Upsert into score table","comments":"","instanceIdentifier":"1ade01e6-0196-1000-ffff-ffffb36a7756"},"destination":{"id":"43f87bea-ff9c-30a7-9150-5495867cb122","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"Capturing generated primary keys as attribute","comments":"","instanceIdentifier":"59a43298-81b2-1c97-a90c-008b290567d2"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"b0d2aae1-0b02-336b-afba-2f6aa4c2c6af","instanceIdentifier":"143284d3-0196-1000-0000-00005dddee59","name":"","source":{"id":"369a9ffb-682f-3474-8b4f-c9867f310341","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"Lookup for Rater Type Key","comments":"","instanceIdentifier":"1037f514-0196-1000-ffff-ffff8b6b3e5d"},"destination":{"id":"2bb24e68-93d7-314b-a6ca-8833cb9a5555","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"Lookup for Survey Type Key","comments":"","instanceIdentifier":"14319a64-0196-1000-ffff-ffffb218902e"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"2d6bdb80-87f7-3659-bba3-87d0f4e2bd4e","instanceIdentifier":"db363dca-80a6-106c-af0b-4f0acd0e9b1a","name":"","source":{"id":"43f87bea-ff9c-30a7-9150-5495867cb122","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"Capturing generated primary keys as attribute","comments":"","instanceIdentifier":"59a43298-81b2-1c97-a90c-008b290567d2"},"destination":{"id":"699f8850-05e5-3fdb-b788-afdeb2abca70","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"Check for presence of primary keys","comments":"","instanceIdentifier":"6d1f37f1-6aaa-1839-9d91-b8e72e2b4510"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"cd17eaa1-b8da-314f-b2dc-5a2a53b52f7e","instanceIdentifier":"8b7b40e9-fe0c-1369-ffff-ffffa45a70e0","name":"","source":{"id":"699f8850-05e5-3fdb-b788-afdeb2abca70","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"Check for presence of primary keys","comments":"","instanceIdentifier":"6d1f37f1-6aaa-1839-9d91-b8e72e2b4510"},"destination":{"id":"5df7e336-9f58-35bf-bd3a-8e8dd7e5a938","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"RetryFlowFile","comments":"","instanceIdentifier":"8b7b44e5-fe0c-1369-ffff-ffffb36fd96c"},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":50000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1448.0,"y":1512.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"98b6f6ac-db76-3e4c-8e4f-147b78b1b716","instanceIdentifier":"1a723bd4-37f7-18ca-0000-000006ec715e","name":"","source":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"log_op","instanceIdentifier":"75d93f09-d825-1aaf-b23b-6bbcfc4502d6"},"destination":{"id":"e2c60f0d-8650-37e2-82f8-7ce5af16586b","type":"OUTPUT_PORT","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"log_out","instanceIdentifier":"c3113a55-6430-1e1d-0000-0000419f8557"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"6e278790-ccd1-3ec4-866e-5132916a81c4","instanceIdentifier":"7c834b96-012a-1061-0000-00001528e6f1","name":"","source":{"id":"ddf777d0-918c-3cfb-9ea4-ce42a88d6cd0","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"ExecuteGroovyScript","comments":"","instanceIdentifier":"100cc3bd-0196-1000-ffff-ffff9f0bab7b"},"destination":{"id":"f8cc038e-7e54-3e06-bd5d-fcb1f5d302c9","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"SplitJson","comments":"","instanceIdentifier":"100dd8b6-0196-1000-0000-00005eccbd94"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":50000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"c6b40553-0bd1-3d56-88d5-55d3275bbea3","instanceIdentifier":"435e5e38-0196-1000-0000-00001ea73fa8","name":"","source":{"id":"19938ac7-35fa-3281-8388-9175c34673e2","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"ReplaceText","comments":"","instanceIdentifier":"43503bef-0196-1000-ffff-ffffd5d998c8"},"destination":{"id":"5454116a-3cd8-35e2-a3df-7d08adac256e","type":"INPUT_PORT","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"send_db_logs","comments":"","instanceIdentifier":"b3f33ef7-8eb5-1a7e-8b16-f2bd81837286"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":50000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"abdb99dd-009a-3cd7-b6c6-a2ae50056f54","instanceIdentifier":"100cea8f-0196-1000-ffff-ffffb68f28db","name":"","source":{"id":"bbf58568-c173-3dfe-9a1f-6674d358fe13","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"100a313c-0196-1000-0000-00000818b54a"},"destination":{"id":"ddf777d0-918c-3cfb-9ea4-ce42a88d6cd0","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"ExecuteGroovyScript","comments":"","instanceIdentifier":"100cc3bd-0196-1000-ffff-ffff9f0bab7b"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"42b32172-199c-32a4-908a-05b48687f74c","instanceIdentifier":"234acebb-0196-1000-0000-00003e3578eb","name":"","source":{"id":"ce503de7-3462-3c00-a7e8-23840f504a3b","type":"INPUT_PORT","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"input","instanceIdentifier":"c3113a4c-6430-1e1d-0000-0000688ceb16"},"destination":{"id":"bbf58568-c173-3dfe-9a1f-6674d358fe13","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"100a313c-0196-1000-0000-00000818b54a"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"6d9a2042-1251-3c19-8cdd-cedf65dd6b09","instanceIdentifier":"1982f94a-0196-1000-ffff-ffffe41efbc7","name":"","source":{"id":"2bb24e68-93d7-314b-a6ca-8833cb9a5555","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"Lookup for Survey Type Key","comments":"","instanceIdentifier":"14319a64-0196-1000-ffff-ffffb218902e"},"destination":{"id":"e7ee10e1-cb52-3595-912f-eea7d419e609","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"UpdateAttribute","comments":"","instanceIdentifier":"1011a71a-0196-1000-ffff-ffff93857d98"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"5cc7bb81-b624-3e60-ad41-b5cdd2349635","instanceIdentifier":"8b7b44f5-fe0c-1369-ffff-ffff87f3c4ee","name":"","source":{"id":"5df7e336-9f58-35bf-bd3a-8e8dd7e5a938","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"RetryFlowFile","comments":"","instanceIdentifier":"8b7b44e5-fe0c-1369-ffff-ffffb36fd96c"},"destination":{"id":"6b307d64-a54a-31f6-a4b8-be6fc3e162b3","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"Upsert into score table","comments":"","instanceIdentifier":"1ade01e6-0196-1000-ffff-ffffb36a7756"},"labelIndex":0,"zIndex":0,"selectedRelationships":["retry"],"backPressureObjectThreshold":50000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1528.0,"y":1144.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"31fc8f4e-2d4d-31fc-a896-d11a97aa61bf","instanceIdentifier":"1a7238ad-37f7-18ca-ffff-ffffce3d3b65","name":"","source":{"id":"6b307d64-a54a-31f6-a4b8-be6fc3e162b3","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"Upsert into score table","comments":"","instanceIdentifier":"1ade01e6-0196-1000-ffff-ffffb36a7756"},"destination":{"id":"19938ac7-35fa-3281-8388-9175c34673e2","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"ReplaceText","comments":"","instanceIdentifier":"43503bef-0196-1000-ffff-ffffd5d998c8"},"labelIndex":0,"zIndex":0,"selectedRelationships":["failure","retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2560.0,"y":992.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"489d8379-d8bd-39d2-924f-47c561957407","instanceIdentifier":"1a723952-37f7-18ca-ffff-ffffe703262a","name":"","source":{"id":"699f8850-05e5-3fdb-b788-afdeb2abca70","type":"PROCESSOR","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"Check for presence of primary keys","comments":"","instanceIdentifier":"6d1f37f1-6aaa-1839-9d91-b8e72e2b4510"},"destination":{"id":"33432b3d-6e15-392c-832a-984baa913001","type":"INPUT_PORT","groupId":"d4cec804-548b-3e45-81c5-ede46b716e06","name":"1-upsert_success","comments":"","instanceIdentifier":"43b13717-a1f1-1c63-b479-429ed9765003"},"labelIndex":1,"zIndex":0,"selectedRelationships":["is_upsert_success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"}],"labels":[],"funnels":[],"controllerServices":[{"identifier":"e502bf20-7ec5-38df-a5d4-a827be020ea7","instanceIdentifier":"1432f224-0196-1000-0000-000074a2c366","name":"SimpleDatabaseLookupService - Survey Type","comments":"","type":"org.apache.nifi.lookup.db.SimpleDatabaseLookupService","bundle":{"group":"org.apache.nifi","artifact":"nifi-lookup-services-nar","version":"1.27.0"},"properties":{"dbrecord-lookup-dbcp-service":"4576f1d7-cb85-3dac-b69a-58b4942122f8","dbrecord-lookup-clear-cache-on-enabled":"true","lookup-value-column":"survey_type_key","dbrecord-lookup-cache-size":"10","dbrecord-lookup-key-column":"survey_type_name","Cache Expiration":"30 days","dbrecord-lookup-table-name":"${idw_schema}.a360_survey_type"},"propertyDescriptors":{"dbrecord-lookup-dbcp-service":{"name":"dbrecord-lookup-dbcp-service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false},"dbrecord-lookup-clear-cache-on-enabled":{"name":"dbrecord-lookup-clear-cache-on-enabled","displayName":"Clear Cache on Enabled","identifiesControllerService":false,"sensitive":false},"lookup-value-column":{"name":"lookup-value-column","displayName":"Lookup Value Column","identifiesControllerService":false,"sensitive":false},"dbrecord-lookup-cache-size":{"name":"dbrecord-lookup-cache-size","displayName":"Cache Size","identifiesControllerService":false,"sensitive":false},"dbrecord-lookup-key-column":{"name":"dbrecord-lookup-key-column","displayName":"Lookup Key Column","identifiesControllerService":false,"sensitive":false},"Cache Expiration":{"name":"Cache Expiration","displayName":"Cache Expiration","identifiesControllerService":false,"sensitive":false},"dbrecord-lookup-table-name":{"name":"dbrecord-lookup-table-name","displayName":"Table Name","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.lookup.StringLookupService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.27.0"}},{"type":"org.apache.nifi.lookup.LookupService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.27.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"a111eb36-12b2-3908-8cdf-d6b0e1e77a18","instanceIdentifier":"344e866f-0196-1000-ffff-ffffe5bf59c7","name":"JsonRecordSetWriter","comments":"","type":"org.apache.nifi.json.JsonRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.27.0"},"properties":{"schema-branch":null,"Allow Scientific Notation":"false","compression-level":"1","schema-cache":null,"Timestamp Format":null,"Date Format":null,"Pretty Print JSON":"false","compression-format":"none","Schema Write Strategy":"no-schema","suppress-nulls":"never-suppress","output-grouping":"output-array","schema-name":"${schema.name}","schema-registry":null,"Time Format":null,"schema-access-strategy":"inherit-record-schema","schema-protocol-version":"1","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"Allow Scientific Notation":{"name":"Allow Scientific Notation","displayName":"Allow Scientific Notation","identifiesControllerService":false,"sensitive":false},"compression-level":{"name":"compression-level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"Pretty Print JSON":{"name":"Pretty Print JSON","displayName":"Pretty Print JSON","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false},"suppress-nulls":{"name":"suppress-nulls","displayName":"Suppress Null Values","identifiesControllerService":false,"sensitive":false},"output-grouping":{"name":"output-grouping","displayName":"Output Grouping","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-protocol-version":{"name":"schema-protocol-version","displayName":"Schema Protocol Version","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.27.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"60094418-3b67-364c-982b-323bf56b5084","instanceIdentifier":"117aa7aa-0196-1000-ffff-ffff85df31c0","name":"SimpleDatabaseLookupService - Rater Type","comments":"","type":"org.apache.nifi.lookup.db.SimpleDatabaseLookupService","bundle":{"group":"org.apache.nifi","artifact":"nifi-lookup-services-nar","version":"1.27.0"},"properties":{"dbrecord-lookup-dbcp-service":"4576f1d7-cb85-3dac-b69a-58b4942122f8","dbrecord-lookup-clear-cache-on-enabled":"true","lookup-value-column":"rater_type_key","dbrecord-lookup-cache-size":"100","dbrecord-lookup-key-column":"rater_type","Cache Expiration":"30 days","dbrecord-lookup-table-name":"${idw_schema}.a360_rater_type"},"propertyDescriptors":{"dbrecord-lookup-dbcp-service":{"name":"dbrecord-lookup-dbcp-service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false},"dbrecord-lookup-clear-cache-on-enabled":{"name":"dbrecord-lookup-clear-cache-on-enabled","displayName":"Clear Cache on Enabled","identifiesControllerService":false,"sensitive":false},"lookup-value-column":{"name":"lookup-value-column","displayName":"Lookup Value Column","identifiesControllerService":false,"sensitive":false},"dbrecord-lookup-cache-size":{"name":"dbrecord-lookup-cache-size","displayName":"Cache Size","identifiesControllerService":false,"sensitive":false},"dbrecord-lookup-key-column":{"name":"dbrecord-lookup-key-column","displayName":"Lookup Key Column","identifiesControllerService":false,"sensitive":false},"Cache Expiration":{"name":"Cache Expiration","displayName":"Cache Expiration","identifiesControllerService":false,"sensitive":false},"dbrecord-lookup-table-name":{"name":"dbrecord-lookup-table-name","displayName":"Table Name","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.lookup.StringLookupService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.27.0"}},{"type":"org.apache.nifi.lookup.LookupService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.27.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"5ecd9d76-0f52-3475-a49f-1cdc9390e7fc","instanceIdentifier":"34234821-0196-1000-ffff-fffffaf4a4d1","name":"JsonTreeReader","comments":"","type":"org.apache.nifi.json.JsonTreeReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.27.0"},"properties":{"schema-branch":null,"Max String Length":"20 MB","schema-application-strategy":"SELECTED_PART","Timestamp Format":null,"schema-inference-cache":null,"Date Format":null,"schema-name":"${schema.name}","starting-field-strategy":"ROOT_NODE","schema-registry":null,"starting-field-name":null,"Time Format":null,"schema-access-strategy":"infer-schema","schema-version":null,"schema-text":"${avro.schema}","Allow Comments":"false"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"schema-application-strategy":{"name":"schema-application-strategy","displayName":"Schema Application Strategy","identifiesControllerService":false,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"schema-inference-cache":{"name":"schema-inference-cache","displayName":"Schema Inference Cache","identifiesControllerService":true,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"starting-field-strategy":{"name":"starting-field-strategy","displayName":"Starting Field Strategy","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"starting-field-name":{"name":"starting-field-name","displayName":"Starting Field Name","identifiesControllerService":false,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false},"Allow Comments":{"name":"Allow Comments","displayName":"Allow Comments","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.27.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"},{"identifier":"4576f1d7-cb85-3dac-b69a-58b4942122f8","instanceIdentifier":"117f50f2-0196-1000-ffff-ffff9506dfcf","name":"DBCPConnectionPool","comments":"","type":"org.apache.nifi.dbcp.DBCPConnectionPool","bundle":{"group":"org.apache.nifi","artifact":"nifi-dbcp-service-nar","version":"1.27.0"},"properties":{"dbcp-min-idle-conns":"0","Max Wait Time":"500 millis","Database Driver Class Name":"org.postgresql.Driver","dbcp-min-evictable-idle-time":"30 mins","kerberos-principal":null,"Max Total Connections":"8","kerberos-credentials-service":null,"dbcp-max-conn-lifetime":"-1","Validation-query":null,"Database Connection URL":"jdbc:postgresql://#{host}:5432/insights_dw","dbcp-time-between-eviction-runs":"-1","Database User":"#{username}","kerberos-user-service":null,"dbcp-soft-min-evictable-idle-time":"-1","database-driver-locations":"/stackable/userdata/nifi-user-volume/postgresql-42.2.23.jar","dbcp-max-idle-conns":"8","Password":"#{password}"},"propertyDescriptors":{"kerberos-password":{"name":"kerberos-password","displayName":"Kerberos Password","identifiesControllerService":false,"sensitive":true},"dbcp-min-idle-conns":{"name":"dbcp-min-idle-conns","displayName":"Minimum Idle Connections","identifiesControllerService":false,"sensitive":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Driver Class Name":{"name":"Database Driver Class Name","displayName":"Database Driver Class Name","identifiesControllerService":false,"sensitive":false},"dbcp-min-evictable-idle-time":{"name":"dbcp-min-evictable-idle-time","displayName":"Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false},"kerberos-principal":{"name":"kerberos-principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"Max Total Connections":{"name":"Max Total Connections","displayName":"Max Total Connections","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"dbcp-max-conn-lifetime":{"name":"dbcp-max-conn-lifetime","displayName":"Max Connection Lifetime","identifiesControllerService":false,"sensitive":false},"Validation-query":{"name":"Validation-query","displayName":"Validation query","identifiesControllerService":false,"sensitive":false},"Database Connection URL":{"name":"Database Connection URL","displayName":"Database Connection URL","identifiesControllerService":false,"sensitive":false},"dbcp-time-between-eviction-runs":{"name":"dbcp-time-between-eviction-runs","displayName":"Time Between Eviction Runs","identifiesControllerService":false,"sensitive":false},"Database User":{"name":"Database User","displayName":"Database User","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"dbcp-soft-min-evictable-idle-time":{"name":"dbcp-soft-min-evictable-idle-time","displayName":"Soft Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false},"database-driver-locations":{"name":"database-driver-locations","displayName":"Database Driver Location(s)","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["URL","DIRECTORY","FILE"]}},"dbcp-max-idle-conns":{"name":"dbcp-max-idle-conns","displayName":"Max Idle Connections","identifiesControllerService":false,"sensitive":false},"Password":{"name":"Password","displayName":"Password","identifiesControllerService":false,"sensitive":true}},"controllerServiceApis":[{"type":"org.apache.nifi.dbcp.DBCPService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.27.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763"}],"variables":{"idw_schema":"idw","flow_name":"ScoreData"},"parameterContextName":"idw_db_secrets","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":50000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"ebb2785d-4922-38f6-8742-b6a4e3e95c41"},{"identifier":"3897610e-6def-3170-822d-16c2a5d45c0b","instanceIdentifier":"fbd03fb8-af70-1eed-b9ef-1a896a51170b","name":"Validate And Route","comments":"","position":{"x":-144.0,"y":-112.0},"processGroups":[{"identifier":"a3b34db9-bd9b-31c2-8d55-72aefbc81069","instanceIdentifier":"a9d8901e-0196-1000-0000-000064030faa","name":"ValidateCMSAPIReq","comments":"","position":{"x":152.0,"y":-296.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"2cb63604-3488-3ba7-b9a3-a319370a7876","instanceIdentifier":"c58d3d7e-f47e-1513-8f31-5e874b868c7a","name":"UpdateAttribute","comments":"","position":{"x":112.0,"y":528.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","mime.type":"application/json","Stateful Variables Initial Value":null,"message":"Invalid Query Parameters. 'modelId' or 'version' missing or empty.","statusCode":"400"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"mime.type":{"name":"mime.type","displayName":"mime.type","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"message":{"name":"message","displayName":"message","identifiesControllerService":false,"sensitive":false},"statusCode":{"name":"statusCode","displayName":"statusCode","identifiesControllerService":false,"sensitive":false}},"style":{},"annotationData":"<criteria>\n    <flowFilePolicy>USE_CLONE</flowFilePolicy>\n</criteria>","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a3b34db9-bd9b-31c2-8d55-72aefbc81069"},{"identifier":"998556b9-b616-3c67-ac52-3dc1315a2e89","instanceIdentifier":"92803acc-3f98-1a51-b8d6-ebfc29e29e70","name":"RouteOnAttribute","comments":"","position":{"x":752.0,"y":568.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Routing Strategy":"Route to Property name","validParams":"${http.query.param.modelid:isEmpty():not():and(${http.query.param.version:isEmpty():not()})}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"validParams":{"name":"validParams","displayName":"validParams","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a3b34db9-bd9b-31c2-8d55-72aefbc81069"},{"identifier":"fc375528-bff6-39f8-bf0e-0e856154319d","instanceIdentifier":"b74237ad-e748-17c7-9567-68b39e565c81","name":"RouteOnAttribute","comments":"","position":{"x":752.0,"y":144.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Routing Strategy":"Route to Property name","ValidAPI":"${http.method:equals('GET')}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"ValidAPI":{"name":"ValidAPI","displayName":"ValidAPI","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a3b34db9-bd9b-31c2-8d55-72aefbc81069"},{"identifier":"49fab1cb-98a4-38c3-8cc8-8a2e64d4d5c5","instanceIdentifier":"3bf4381e-0adc-1d92-8aad-332f0c7a1089","name":"ReplaceText","comments":"","position":{"x":-384.0,"y":336.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n  \"statusCode\": ${statusCode},\n  \"message\": \"${message}\",\n  \"path\": \"${http.request.uri}\",\n  \"uuid\": \"${uuid}\",\n  \"timestamp\": \"${now():toNumber():formatInstant(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\", \"GMT\")}\"\n}","Evaluation Mode":"Entire text","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a3b34db9-bd9b-31c2-8d55-72aefbc81069"},{"identifier":"54e641e0-63e5-337d-b25f-f8dc8e948b8f","instanceIdentifier":"ebf33846-3b47-1c6e-8c57-70eabd202da2","name":"UpdateAttribute","comments":"","position":{"x":112.0,"y":144.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","mime.type":"application/json","Stateful Variables Initial Value":null,"message":"Method not allowed for ${http.request.uri} endpoint","statusCode":"405"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"mime.type":{"name":"mime.type","displayName":"mime.type","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"message":{"name":"message","displayName":"message","identifiesControllerService":false,"sensitive":false},"statusCode":{"name":"statusCode","displayName":"statusCode","identifiesControllerService":false,"sensitive":false}},"style":{},"annotationData":"<criteria>\n    <flowFilePolicy>USE_CLONE</flowFilePolicy>\n</criteria>","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a3b34db9-bd9b-31c2-8d55-72aefbc81069"},{"identifier":"a3e2f8dd-056b-3f0b-bc28-96d05346f8c1","instanceIdentifier":"0ee735e3-133f-1b76-9b8e-7413b380c44f","name":"ExecuteGroovyScript","comments":"","position":{"x":752.0,"y":352.0},"type":"org.apache.nifi.processors.groovyx.ExecuteGroovyScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-groovyx-nar","version":"1.27.0"},"properties":{"groovyx-script-body":"import org.apache.commons.codec.binary.Base64\nimport groovy.json.JsonOutput\n\ndef flowFile = session.get()\nif (!flowFile) return\n\nnewAttributes = [:]\nflowFile.getAttributes().each { key, value ->\n    if (key.startsWith(\"http.query.param.\")) {\n        def paramName = key.substring(\"http.query.param.\".length())\n        newAttributes[\"http.query.param.\" + paramName.toLowerCase()] = value\n        // Optionally remove the original case-sensitive attribute\n        //newAttributes.remove(key)\n    }\n}\nflowFile = session.putAllAttributes(flowFile, newAttributes)\nsession.transfer(flowFile, REL_SUCCESS)","groovyx-failure-strategy":"rollback","groovyx-additional-classpath":null,"groovyx-script-file":null},"propertyDescriptors":{"groovyx-script-body":{"name":"groovyx-script-body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false},"groovyx-failure-strategy":{"name":"groovyx-failure-strategy","displayName":"Failure strategy","identifiesControllerService":false,"sensitive":false},"groovyx-additional-classpath":{"name":"groovyx-additional-classpath","displayName":"Additional classpath","identifiesControllerService":false,"sensitive":false},"groovyx-script-file":{"name":"groovyx-script-file","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a3b34db9-bd9b-31c2-8d55-72aefbc81069"}],"inputPorts":[{"identifier":"946ec9b3-1a2d-3d98-b0d5-58ce171b0fed","instanceIdentifier":"e8bb329a-5462-100c-90b3-a7b71c5992f1","name":"input","position":{"x":808.0,"y":-16.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"a3b34db9-bd9b-31c2-8d55-72aefbc81069"}],"outputPorts":[{"identifier":"ec55e753-dad3-3e4f-b185-bb968dd2c676","instanceIdentifier":"6c3e3c4e-5f87-1a33-87d7-e7f98dfdefc0","name":"output","position":{"x":-328.0,"y":592.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"a3b34db9-bd9b-31c2-8d55-72aefbc81069"},{"identifier":"84478b67-dc11-37de-9f6e-73382de656a4","instanceIdentifier":"a9dc67c3-0196-1000-ffff-ffff8be9ecb6","name":"to_trigger","position":{"x":808.0,"y":824.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"a3b34db9-bd9b-31c2-8d55-72aefbc81069"}],"connections":[{"identifier":"dd3594c3-598d-3fc3-8c2a-063f7b216a4e","instanceIdentifier":"a9e5ca3d-0196-1000-ffff-ffffa9ce3573","name":"","source":{"id":"2cb63604-3488-3ba7-b9a3-a319370a7876","type":"PROCESSOR","groupId":"a3b34db9-bd9b-31c2-8d55-72aefbc81069","name":"UpdateAttribute","comments":"","instanceIdentifier":"c58d3d7e-f47e-1513-8f31-5e874b868c7a"},"destination":{"id":"49fab1cb-98a4-38c3-8cc8-8a2e64d4d5c5","type":"PROCESSOR","groupId":"a3b34db9-bd9b-31c2-8d55-72aefbc81069","name":"ReplaceText","comments":"","instanceIdentifier":"3bf4381e-0adc-1d92-8aad-332f0c7a1089"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a3b34db9-bd9b-31c2-8d55-72aefbc81069"},{"identifier":"5d7ebd6e-d7ea-35c5-98af-256693d07f38","instanceIdentifier":"a9e3bc2f-0196-1000-0000-00003750bb0d","name":"","source":{"id":"998556b9-b616-3c67-ac52-3dc1315a2e89","type":"PROCESSOR","groupId":"a3b34db9-bd9b-31c2-8d55-72aefbc81069","name":"RouteOnAttribute","comments":"","instanceIdentifier":"92803acc-3f98-1a51-b8d6-ebfc29e29e70"},"destination":{"id":"2cb63604-3488-3ba7-b9a3-a319370a7876","type":"PROCESSOR","groupId":"a3b34db9-bd9b-31c2-8d55-72aefbc81069","name":"UpdateAttribute","comments":"","instanceIdentifier":"c58d3d7e-f47e-1513-8f31-5e874b868c7a"},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a3b34db9-bd9b-31c2-8d55-72aefbc81069"},{"identifier":"999a9f98-bec5-3fd7-aaf9-da9117fcca34","instanceIdentifier":"8de93c87-e8c2-1371-8356-9bb2df795c74","name":"","source":{"id":"946ec9b3-1a2d-3d98-b0d5-58ce171b0fed","type":"INPUT_PORT","groupId":"a3b34db9-bd9b-31c2-8d55-72aefbc81069","name":"input","instanceIdentifier":"e8bb329a-5462-100c-90b3-a7b71c5992f1"},"destination":{"id":"fc375528-bff6-39f8-bf0e-0e856154319d","type":"PROCESSOR","groupId":"a3b34db9-bd9b-31c2-8d55-72aefbc81069","name":"RouteOnAttribute","comments":"","instanceIdentifier":"b74237ad-e748-17c7-9567-68b39e565c81"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a3b34db9-bd9b-31c2-8d55-72aefbc81069"},{"identifier":"4a073a82-537b-309c-8085-1776706a25ab","instanceIdentifier":"a9dc7b51-0196-1000-ffff-ffffb48165b7","name":"","source":{"id":"fc375528-bff6-39f8-bf0e-0e856154319d","type":"PROCESSOR","groupId":"a3b34db9-bd9b-31c2-8d55-72aefbc81069","name":"RouteOnAttribute","comments":"","instanceIdentifier":"b74237ad-e748-17c7-9567-68b39e565c81"},"destination":{"id":"a3e2f8dd-056b-3f0b-bc28-96d05346f8c1","type":"PROCESSOR","groupId":"a3b34db9-bd9b-31c2-8d55-72aefbc81069","name":"ExecuteGroovyScript","comments":"","instanceIdentifier":"0ee735e3-133f-1b76-9b8e-7413b380c44f"},"labelIndex":1,"zIndex":0,"selectedRelationships":["ValidAPI"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a3b34db9-bd9b-31c2-8d55-72aefbc81069"},{"identifier":"e27b2337-9133-329a-9887-572d231fb2e1","instanceIdentifier":"ccce342d-cfb7-1759-a38f-cf9103d8f84a","name":"","source":{"id":"fc375528-bff6-39f8-bf0e-0e856154319d","type":"PROCESSOR","groupId":"a3b34db9-bd9b-31c2-8d55-72aefbc81069","name":"RouteOnAttribute","comments":"","instanceIdentifier":"b74237ad-e748-17c7-9567-68b39e565c81"},"destination":{"id":"54e641e0-63e5-337d-b25f-f8dc8e948b8f","type":"PROCESSOR","groupId":"a3b34db9-bd9b-31c2-8d55-72aefbc81069","name":"UpdateAttribute","comments":"","instanceIdentifier":"ebf33846-3b47-1c6e-8c57-70eabd202da2"},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a3b34db9-bd9b-31c2-8d55-72aefbc81069"},{"identifier":"102792b8-33e3-3d60-9b59-5e5763167b4b","instanceIdentifier":"380e3246-cb61-199a-9d1a-1bdec95e1fda","name":"","source":{"id":"54e641e0-63e5-337d-b25f-f8dc8e948b8f","type":"PROCESSOR","groupId":"a3b34db9-bd9b-31c2-8d55-72aefbc81069","name":"UpdateAttribute","comments":"","instanceIdentifier":"ebf33846-3b47-1c6e-8c57-70eabd202da2"},"destination":{"id":"49fab1cb-98a4-38c3-8cc8-8a2e64d4d5c5","type":"PROCESSOR","groupId":"a3b34db9-bd9b-31c2-8d55-72aefbc81069","name":"ReplaceText","comments":"","instanceIdentifier":"3bf4381e-0adc-1d92-8aad-332f0c7a1089"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a3b34db9-bd9b-31c2-8d55-72aefbc81069"},{"identifier":"527be45e-c709-3b65-9430-68777cb09d7f","instanceIdentifier":"c4de3903-cc9d-1dd1-aac7-117a47c4522f","name":"","source":{"id":"49fab1cb-98a4-38c3-8cc8-8a2e64d4d5c5","type":"PROCESSOR","groupId":"a3b34db9-bd9b-31c2-8d55-72aefbc81069","name":"ReplaceText","comments":"","instanceIdentifier":"3bf4381e-0adc-1d92-8aad-332f0c7a1089"},"destination":{"id":"ec55e753-dad3-3e4f-b185-bb968dd2c676","type":"OUTPUT_PORT","groupId":"a3b34db9-bd9b-31c2-8d55-72aefbc81069","name":"output","instanceIdentifier":"6c3e3c4e-5f87-1a33-87d7-e7f98dfdefc0"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a3b34db9-bd9b-31c2-8d55-72aefbc81069"},{"identifier":"ae830b88-b3fa-3cec-80e1-be74998c98ef","instanceIdentifier":"92803bb1-3f98-1a51-ffff-ffff87b93c3d","name":"","source":{"id":"998556b9-b616-3c67-ac52-3dc1315a2e89","type":"PROCESSOR","groupId":"a3b34db9-bd9b-31c2-8d55-72aefbc81069","name":"RouteOnAttribute","comments":"","instanceIdentifier":"92803acc-3f98-1a51-b8d6-ebfc29e29e70"},"destination":{"id":"84478b67-dc11-37de-9f6e-73382de656a4","type":"OUTPUT_PORT","groupId":"a3b34db9-bd9b-31c2-8d55-72aefbc81069","name":"to_trigger","instanceIdentifier":"a9dc67c3-0196-1000-ffff-ffff8be9ecb6"},"labelIndex":1,"zIndex":0,"selectedRelationships":["validParams"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a3b34db9-bd9b-31c2-8d55-72aefbc81069"},{"identifier":"a2847ad1-a64f-3c71-9170-2f9875b4b57d","instanceIdentifier":"a9ed1bf2-0196-1000-ffff-ffff9cc086fd","name":"","source":{"id":"a3e2f8dd-056b-3f0b-bc28-96d05346f8c1","type":"PROCESSOR","groupId":"a3b34db9-bd9b-31c2-8d55-72aefbc81069","name":"ExecuteGroovyScript","comments":"","instanceIdentifier":"0ee735e3-133f-1b76-9b8e-7413b380c44f"},"destination":{"id":"998556b9-b616-3c67-ac52-3dc1315a2e89","type":"PROCESSOR","groupId":"a3b34db9-bd9b-31c2-8d55-72aefbc81069","name":"RouteOnAttribute","comments":"","instanceIdentifier":"92803acc-3f98-1a51-b8d6-ebfc29e29e70"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a3b34db9-bd9b-31c2-8d55-72aefbc81069"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"a9fb947a-d106-385e-8d52-60179741684b","instanceIdentifier":"ad037203-0195-1000-0000-000027b638a3","name":"healthCheck","comments":"","position":{"x":152.0,"y":-48.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"213041d7-1ffb-32a8-b920-f142132f4a39","instanceIdentifier":"a9a7f09f-0195-1000-0000-00001e83a47b","name":"ExecuteSQL","comments":"","position":{"x":-1200.0,"y":-264.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","Database Connection Pooling Service":"73dadf94-fb8b-3844-88c4-d2a75d30ad62","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","SQL select query":"select 1 as dummy","dbf-normalize":"false"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false},"SQL select query":{"name":"SQL select query","displayName":"SQL select query","identifiesControllerService":false,"sensitive":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"1 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a9fb947a-d106-385e-8d52-60179741684b"},{"identifier":"78ffbe8b-3e39-3259-a9e5-cc76f466a296","instanceIdentifier":"a9bd4d69-0195-1000-ffff-ffffc5d6af6d","name":"ExecuteGroovyScript","comments":"","position":{"x":-1200.0,"y":-8.0},"type":"org.apache.nifi.processors.groovyx.ExecuteGroovyScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-groovyx-nar","version":"1.27.0"},"properties":{"groovyx-script-body":"import org.apache.commons.codec.binary.Base64\nimport groovy.json.JsonOutput\n\ndef flowFile = session.get()\n\ntry{\n\ndef errorMessage = flowFile.getAttribute(\"executesql.error.message\")\ndef databaseMessage = 'Database connection is OK'\ndef databaseErrorMessage = 'Database connection failed'\ndef json = [:]\ndef statusCode = '200'\ndef message = ''\nif (errorMessage) \n{\n\tjson.status = \"error\"\n\tjson.info = [database: [status: \"down\"]]\n\tjson.error = [database: [message: databaseErrorMessage]]\n\tjson.details = [database: [details: [message: errorMessage]]]\n\tstatusCode = '503'\n\tmessage = errorMessage\n\n} else \n{\n\tjson.status = \"ok\"\n\tjson.info = [database: [status: \"up\"]]\n\tjson.error = [:]\n\tjson.details = [database: [details: [message: databaseMessage]]]\n    flowFile = session.putAttribute(flowFile, 'message', databaseMessage)\n    message = databaseMessage\n}\n\ndef jsonString = JsonOutput.toJson(json)\n\nflowFile = session.write(flowFile, { outputStream ->\n            outputStream.write(jsonString.getBytes(\"UTF-8\"))\n        } as OutputStreamCallback)\nflowFile = session.putAttribute(flowFile, 'statusCode', statusCode)\nflowFile = session.putAttribute(flowFile, 'message', message)\n\nsession.transfer(flowFile, REL_SUCCESS)\n} catch (Exception e) {\n\tflowFile = session.putAttribute(flowFile, 'error.message', e)\n    session.transfer(flowFile, REL_FAILURE)\n}","groovyx-failure-strategy":"rollback","groovyx-additional-classpath":null,"groovyx-script-file":null},"propertyDescriptors":{"groovyx-script-body":{"name":"groovyx-script-body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false},"groovyx-failure-strategy":{"name":"groovyx-failure-strategy","displayName":"Failure strategy","identifiesControllerService":false,"sensitive":false},"groovyx-additional-classpath":{"name":"groovyx-additional-classpath","displayName":"Additional classpath","identifiesControllerService":false,"sensitive":false},"groovyx-script-file":{"name":"groovyx-script-file","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a9fb947a-d106-385e-8d52-60179741684b"}],"inputPorts":[{"identifier":"3d6ed97c-ddbf-385b-aac8-78f6e859b266","instanceIdentifier":"ad038cd5-0195-1000-ffff-ffffefb40ca6","name":"input","position":{"x":-1144.0,"y":-400.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"a9fb947a-d106-385e-8d52-60179741684b"}],"outputPorts":[{"identifier":"c4e6feaf-89ce-3151-bdba-6d517e92055f","instanceIdentifier":"ad039c0c-0195-1000-ffff-ffffd95eb52d","name":"output","position":{"x":-1144.0,"y":256.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"a9fb947a-d106-385e-8d52-60179741684b"}],"connections":[{"identifier":"3f5eeba5-ead0-3ddd-be46-f49cc15ef7fe","instanceIdentifier":"a9c69bea-0195-1000-ffff-ffffbf12b298","name":"","source":{"id":"213041d7-1ffb-32a8-b920-f142132f4a39","type":"PROCESSOR","groupId":"a9fb947a-d106-385e-8d52-60179741684b","name":"ExecuteSQL","comments":"","instanceIdentifier":"a9a7f09f-0195-1000-0000-00001e83a47b"},"destination":{"id":"78ffbe8b-3e39-3259-a9e5-cc76f466a296","type":"PROCESSOR","groupId":"a9fb947a-d106-385e-8d52-60179741684b","name":"ExecuteGroovyScript","comments":"","instanceIdentifier":"a9bd4d69-0195-1000-ffff-ffffc5d6af6d"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success","failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a9fb947a-d106-385e-8d52-60179741684b"},{"identifier":"06e2856a-bae0-35ef-818d-4aa48cc9d2ba","instanceIdentifier":"ad051599-0195-1000-ffff-ffff9d0bf13d","name":"","source":{"id":"78ffbe8b-3e39-3259-a9e5-cc76f466a296","type":"PROCESSOR","groupId":"a9fb947a-d106-385e-8d52-60179741684b","name":"ExecuteGroovyScript","comments":"","instanceIdentifier":"a9bd4d69-0195-1000-ffff-ffffc5d6af6d"},"destination":{"id":"c4e6feaf-89ce-3151-bdba-6d517e92055f","type":"OUTPUT_PORT","groupId":"a9fb947a-d106-385e-8d52-60179741684b","name":"output","instanceIdentifier":"ad039c0c-0195-1000-ffff-ffffd95eb52d"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success","failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a9fb947a-d106-385e-8d52-60179741684b"},{"identifier":"649ed20c-ef56-361c-aa4f-bf4e300fe303","instanceIdentifier":"ad04aedf-0195-1000-ffff-ffffc0eecd17","name":"","source":{"id":"3d6ed97c-ddbf-385b-aac8-78f6e859b266","type":"INPUT_PORT","groupId":"a9fb947a-d106-385e-8d52-60179741684b","name":"input","instanceIdentifier":"ad038cd5-0195-1000-ffff-ffffefb40ca6"},"destination":{"id":"213041d7-1ffb-32a8-b920-f142132f4a39","type":"PROCESSOR","groupId":"a9fb947a-d106-385e-8d52-60179741684b","name":"ExecuteSQL","comments":"","instanceIdentifier":"a9a7f09f-0195-1000-0000-00001e83a47b"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a9fb947a-d106-385e-8d52-60179741684b"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"idw_db_secrets","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"82e3bded-f189-3b83-8a48-37c3cede06ca","instanceIdentifier":"da2e3472-0bc2-1bad-a0b3-88f9cb518850","name":"FRAME LOGS","comments":"","position":{"x":160.0,"y":440.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"08f5534c-142a-3eb7-9ea0-27e3d25ddca6","instanceIdentifier":"ccb19790-0195-1000-ffff-ffffe2770c98","name":"RouteOnAttribute","comments":"","position":{"x":760.0,"y":32.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Routing Strategy":"Route to Property name","statusCodeValid":"${statusCode:in('200','201')}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"statusCodeValid":{"name":"statusCodeValid","displayName":"statusCodeValid","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"82e3bded-f189-3b83-8a48-37c3cede06ca"},{"identifier":"a5d43049-0256-332f-813a-9c118fe81c7a","instanceIdentifier":"7b8c393d-7291-18ae-b47e-238962396d7a","name":"API Fail Attributes","comments":"","position":{"x":568.0,"y":248.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"KF 360-Validate And Route","extras":"path : ${http.request.uri}","flow_name":"KF 360","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}","log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"filename":"${app_uuid}","event_type":"${#{log_config}:jsonPath('$.event_type.api_request')}","error.message":"${message}","manual_error":"true","error.code":"${statusCode}"},"propertyDescriptors":{"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"extras":{"name":"extras","displayName":"extras","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false},"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"filename":{"name":"filename","displayName":"filename","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"error.message":{"name":"error.message","displayName":"error.message","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"error.code":{"name":"error.code","displayName":"error.code","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"82e3bded-f189-3b83-8a48-37c3cede06ca"},{"identifier":"9f47b99e-af11-3048-8d68-b106ee9f7bf4","instanceIdentifier":"fe1531d6-a229-1dce-83d6-f8abbf56892c","name":"API Success Attributes","comments":"","position":{"x":1048.0,"y":248.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"KF 360-Validate And Route","extras":"path : ${http.request.uri}, schema: ${schema}","flow_name":"KF 360","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}","log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"filename":"${app_uuid}","event_type":"${#{log_config}:jsonPath('$.event_type.api_request')}","manual_error":"false"},"propertyDescriptors":{"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"extras":{"name":"extras","displayName":"extras","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false},"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"filename":{"name":"filename","displayName":"filename","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"82e3bded-f189-3b83-8a48-37c3cede06ca"}],"inputPorts":[{"identifier":"5454116a-3cd8-35e2-a3df-7d08adac256e","instanceIdentifier":"a0b838f3-04a4-157d-befa-096b6a114782","name":"api_log","comments":"","position":{"x":808.0,"y":-112.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"82e3bded-f189-3b83-8a48-37c3cede06ca"}],"outputPorts":[{"identifier":"5014d334-1779-39e7-bb97-b7820b72c544","instanceIdentifier":"6c4138ca-8799-106a-8d07-cba175085422","name":"log_op","position":{"x":872.0,"y":512.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"82e3bded-f189-3b83-8a48-37c3cede06ca"}],"connections":[{"identifier":"29f4821d-8ea2-3ee3-8839-0cd10a0fe6e8","instanceIdentifier":"e6e83106-abac-1299-9970-6cba8c1d0cb1","name":"","source":{"id":"a5d43049-0256-332f-813a-9c118fe81c7a","type":"PROCESSOR","groupId":"82e3bded-f189-3b83-8a48-37c3cede06ca","name":"API Fail Attributes","comments":"","instanceIdentifier":"7b8c393d-7291-18ae-b47e-238962396d7a"},"destination":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"82e3bded-f189-3b83-8a48-37c3cede06ca","name":"log_op","instanceIdentifier":"6c4138ca-8799-106a-8d07-cba175085422"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"82e3bded-f189-3b83-8a48-37c3cede06ca"},{"identifier":"a5569090-0125-3ca0-aeb5-7179d98e5e62","instanceIdentifier":"ccb29a56-0195-1000-0000-00003b70374e","name":"","source":{"id":"08f5534c-142a-3eb7-9ea0-27e3d25ddca6","type":"PROCESSOR","groupId":"82e3bded-f189-3b83-8a48-37c3cede06ca","name":"RouteOnAttribute","comments":"","instanceIdentifier":"ccb19790-0195-1000-ffff-ffffe2770c98"},"destination":{"id":"a5d43049-0256-332f-813a-9c118fe81c7a","type":"PROCESSOR","groupId":"82e3bded-f189-3b83-8a48-37c3cede06ca","name":"API Fail Attributes","comments":"","instanceIdentifier":"7b8c393d-7291-18ae-b47e-238962396d7a"},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"82e3bded-f189-3b83-8a48-37c3cede06ca"},{"identifier":"9f7b5fc3-f968-3912-96b3-7d9ca7097cca","instanceIdentifier":"ccaf123e-0195-1000-ffff-ffff84ef6900","name":"","source":{"id":"9f47b99e-af11-3048-8d68-b106ee9f7bf4","type":"PROCESSOR","groupId":"82e3bded-f189-3b83-8a48-37c3cede06ca","name":"API Success Attributes","comments":"","instanceIdentifier":"fe1531d6-a229-1dce-83d6-f8abbf56892c"},"destination":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"82e3bded-f189-3b83-8a48-37c3cede06ca","name":"log_op","instanceIdentifier":"6c4138ca-8799-106a-8d07-cba175085422"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"82e3bded-f189-3b83-8a48-37c3cede06ca"},{"identifier":"a3c27f77-4881-306f-a420-29ec9f2ae60e","instanceIdentifier":"a7dc3331-f886-19b9-a903-9ff9317563a4","name":"","source":{"id":"5454116a-3cd8-35e2-a3df-7d08adac256e","type":"INPUT_PORT","groupId":"82e3bded-f189-3b83-8a48-37c3cede06ca","name":"api_log","comments":"","instanceIdentifier":"a0b838f3-04a4-157d-befa-096b6a114782"},"destination":{"id":"08f5534c-142a-3eb7-9ea0-27e3d25ddca6","type":"PROCESSOR","groupId":"82e3bded-f189-3b83-8a48-37c3cede06ca","name":"RouteOnAttribute","comments":"","instanceIdentifier":"ccb19790-0195-1000-ffff-ffffe2770c98"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"82e3bded-f189-3b83-8a48-37c3cede06ca"},{"identifier":"b02a7045-31b2-3945-86b5-db4ea5b91f52","instanceIdentifier":"ccb26b80-0195-1000-ffff-ffff91af304e","name":"","source":{"id":"08f5534c-142a-3eb7-9ea0-27e3d25ddca6","type":"PROCESSOR","groupId":"82e3bded-f189-3b83-8a48-37c3cede06ca","name":"RouteOnAttribute","comments":"","instanceIdentifier":"ccb19790-0195-1000-ffff-ffffe2770c98"},"destination":{"id":"9f47b99e-af11-3048-8d68-b106ee9f7bf4","type":"PROCESSOR","groupId":"82e3bded-f189-3b83-8a48-37c3cede06ca","name":"API Success Attributes","comments":"","instanceIdentifier":"fe1531d6-a229-1dce-83d6-f8abbf56892c"},"labelIndex":1,"zIndex":0,"selectedRelationships":["statusCodeValid"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"82e3bded-f189-3b83-8a48-37c3cede06ca"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"b8a36105-b835-3cc4-894d-144569f58d92","instanceIdentifier":"ef822800-0195-1000-0000-00004da0b11f","name":"ingestData","comments":"","position":{"x":-552.0,"y":184.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"91764d9b-db87-3cf2-af08-9ac7ccb22674","instanceIdentifier":"7c833ff1-012a-1061-aab8-f7c4eebded10","name":"EvaluateJsonPath","comments":"","position":{"x":-520.0,"y":784.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Destination":"flowfile-content","data":"$.data","Max String Length":"20 MB","Return Type":"json","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"data":{"name":"data","displayName":"data","identifiesControllerService":false,"sensitive":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"1 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"},{"identifier":"a4947ac1-482d-39f6-b90e-4f95550bf5fc","instanceIdentifier":"34e83533-3f81-101a-bb65-33c33ef4a1b2","name":"UpdateAttribute","comments":"","position":{"x":-1192.0,"y":568.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","mime.type":"application/json","Stateful Variables Initial Value":null,"message":"${json.validation.errors:isEmpty():ifElse('Schema ${schema} with version ${schema_version} is invalid.',${json.validation.errors})}","statusCode":"400"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"mime.type":{"name":"mime.type","displayName":"mime.type","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"message":{"name":"message","displayName":"message","identifiesControllerService":false,"sensitive":false},"statusCode":{"name":"statusCode","displayName":"statusCode","identifiesControllerService":false,"sensitive":false}},"style":{},"annotationData":"<criteria>\n    <flowFilePolicy>USE_CLONE</flowFilePolicy>\n</criteria>","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"},{"identifier":"a5780412-439c-3c42-a06e-c3994a7d82ba","instanceIdentifier":"a8853f0c-bd55-1694-a81e-baecd3d0a86e","name":"UpdateAttribute","comments":"","position":{"x":-1192.0,"y":784.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Mime Type":"application/json","Stateful Variables Initial Value":null,"message":"Payload accepted successfully","Content-Type":"application/json","statusCode":"201"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"Mime Type":{"name":"Mime Type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"message":{"name":"message","displayName":"message","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Content-Type","identifiesControllerService":false,"sensitive":false},"statusCode":{"name":"statusCode","displayName":"statusCode","identifiesControllerService":false,"sensitive":false}},"style":{},"annotationData":"<criteria>\n    <flowFilePolicy>USE_CLONE</flowFilePolicy>\n</criteria>","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"},{"identifier":"1d19969a-6795-3a3f-a8fd-815010b09e14","instanceIdentifier":"8103370d-2e79-1852-baba-c8c7f972800f","name":"ReplaceText","comments":"","position":{"x":-1832.0,"y":368.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n  \"statusCode\": ${statusCode},\n  \"message\": \"${message}\",\n  \"path\": \"${http.request.uri}\",\n  \"uuid\": \"${uuid}\",\n  \"timestamp\": \"${now():toNumber():formatInstant(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\", \"GMT\")}\"\n}","Evaluation Mode":"Entire text","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"},{"identifier":"a398a9a6-0509-3c77-a5f9-6a29561aae4f","instanceIdentifier":"d7f83999-e129-143e-83ff-6ea6dadaabd9","name":"ValidateJson","comments":"","position":{"x":-536.0,"y":576.0},"type":"org.apache.nifi.processors.standard.ValidateJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"JSON Schema Version":"DRAFT_2020_12","JSON Schema":"{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"product_name\": {\n      \"type\": \"string\"\n    },\n    \"schema_version\": {\n      \"type\": \"string\"\n    },\n    \"schema\": {\n      \"type\": \"string\"\n    },\n    \"data\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"clientId\": {\n          \"type\": \"integer\",\n  \t\t  \"maximum\": 10000\n        },\n        \"uamClientId\": {\n          \"type\": \"string\"\n        },\n        \"clientName\": {\n          \"type\": \"string\"\n        },\n        \"userGroupId\": {\n          \"type\": \"null\"\n        },\n        \"userGroupName\": {\n          \"type\": \"null\"\n        },\n        \"projectId\": {\n          \"type\": \"integer\"\n        },\n        \"name\": {\n          \"type\": \"string\"\n        },\n        \"createdByEmail\": {\n          \"type\": \"string\",\n\t\t  \"format\": \"email\"\n        },\n        \"createdDate\": {\n          \"type\": \"string\"\n        },\n        \"endDate\": {\n          \"type\": \"null\"\n        },\n        \"productType\": {\n          \"type\": \"string\"\n        },\n        \"projectType\": {\n          \"type\": \"string\"\n        },\n        \"customProjectTypeId\": {\n          \"type\": \"null\"\n        },\n        \"customProjectTypeName\": {\n          \"type\": \"null\"\n        },\n        \"serviceLevel\": {\n          \"type\": \"string\"\n        },\n        \"costCenterEngagementCode\": {\n          \"type\": \"string\"\n        },\n        \"systemPlatform\": {\n          \"type\": \"null\"\n        },\n        \"isIntegration\": {\n          \"type\": \"boolean\"\n        },\n        \"locationCountryCode\": {\n          \"type\": \"string\",\n\t\t  \"pattern\": \"^([A-Z]{2}|[A-Z]{3}|GLOBAL)$\"\n        },\n        \"isNonBillable\": {\n          \"type\": \"boolean\"\n        },\n        \"assessmentReuse\": {\n          \"type\": \"boolean\"\n        },\n        \"potentialAddOn\": {\n          \"type\": \"boolean\"\n        },\n        \"learningAgilityAddOn\": {\n          \"type\": \"boolean\"\n        },\n        \"includeDerailers\": {\n          \"type\": \"boolean\"\n        },\n        \"potential\": {\n          \"type\": \"null\"\n        },\n        \"successProfile\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"id\": {\n              \"type\": \"integer\"\n            },\n            \"name\": {\n              \"type\": \"string\"\n            },\n            \"customized\": {\n              \"type\": \"boolean\"\n            },\n            \"norm\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"normId\": {\n                  \"type\": \"integer\"\n                },\n                \"normVersion\": {\n                  \"type\": \"string\"\n                },\n                \"normCountry\": {\n                  \"type\": \"string\"\n                }\n              },\n              \"required\": [\n                \"normId\",\n                \"normVersion\",\n                \"normCountry\"\n              ]\n            },\n            \"scoringNorm\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"versionNum\": {\n                  \"type\": \"integer\"\n                },\n                \"versionDescription\": {\n                  \"type\": \"string\"\n                },\n                \"regionNum\": {\n                  \"type\": \"integer\"\n                },\n                \"regionDescription\": {\n                  \"type\": \"string\"\n                },\n                \"managementLevelNum\": {\n                  \"type\": \"integer\"\n                },\n                \"levelNormDescription\": {\n                  \"type\": \"string\"\n                },\n                \"industryNormDescription\": {\n                  \"type\": \"string\"\n                },\n                \"functionNormDescription\": {\n                  \"type\": \"string\"\n                }\n              },\n              \"required\": [\n                \"versionNum\",\n                \"versionDescription\",\n                \"regionNum\",\n                \"regionDescription\",\n                \"managementLevelNum\",\n                \"levelNormDescription\",\n                \"industryNormDescription\",\n                \"functionNormDescription\"\n              ]\n            },\n            \"scores\": {\n              \"type\": \"array\",\n              \"items\": [\n                {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"scoreGroup\": {\n                      \"type\": \"string\"\n                    },\n                    \"scoreType\": {\n                      \"type\": \"string\"\n                    },\n                    \"zScore\": {\n                      \"type\": \"number\"\n                    },\n                    \"stenScore\": {\n                      \"type\": \"number\"\n                    }\n                  },\n                  \"required\": [\n                    \"scoreGroup\",\n                    \"scoreType\",\n                    \"zScore\",\n                    \"stenScore\"\n                  ]\n                },\n                {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"scoreGroup\": {\n                      \"type\": \"string\"\n                    },\n                    \"scoreType\": {\n                      \"type\": \"string\"\n                    },\n                    \"zScore\": {\n                      \"type\": \"number\"\n                    },\n                    \"stenScore\": {\n                      \"type\": \"number\"\n                    }\n                  },\n                  \"required\": [\n                    \"scoreGroup\",\n                    \"scoreType\",\n                    \"zScore\",\n                    \"stenScore\"\n                  ]\n                },\n                {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"scoreGroup\": {\n                      \"type\": \"string\"\n                    },\n                    \"scoreType\": {\n                      \"type\": \"string\"\n                    },\n                    \"zScore\": {\n                      \"type\": \"number\"\n                    },\n                    \"stenScore\": {\n                      \"type\": \"number\"\n                    }\n                  },\n                  \"required\": [\n                    \"scoreGroup\",\n                    \"scoreType\",\n                    \"zScore\",\n                    \"stenScore\"\n                  ]\n                },\n                {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"scoreGroup\": {\n                      \"type\": \"string\"\n                    },\n                    \"scoreType\": {\n                      \"type\": \"string\"\n                    },\n                    \"zScore\": {\n                      \"type\": \"number\"\n                    },\n                    \"stenScore\": {\n                      \"type\": \"number\"\n                    }\n                  },\n                  \"required\": [\n                    \"scoreGroup\",\n                    \"scoreType\",\n                    \"zScore\",\n                    \"stenScore\"\n                  ]\n                },\n                {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"scoreGroup\": {\n                      \"type\": \"string\"\n                    },\n                    \"scoreType\": {\n                      \"type\": \"string\"\n                    },\n                    \"zScore\": {\n                      \"type\": \"number\"\n                    },\n                    \"stenScore\": {\n                      \"type\": \"number\"\n                    }\n                  },\n                  \"required\": [\n                    \"scoreGroup\",\n                    \"scoreType\",\n                    \"zScore\",\n                    \"stenScore\"\n                  ]\n                },\n                {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"scoreGroup\": {\n                      \"type\": \"string\"\n                    },\n                    \"scoreType\": {\n                      \"type\": \"string\"\n                    },\n                    \"zScore\": {\n                      \"type\": \"number\"\n                    },\n                    \"stenScore\": {\n                      \"type\": \"number\"\n                    }\n                  },\n                  \"required\": [\n                    \"scoreGroup\",\n                    \"scoreType\",\n                    \"zScore\",\n                    \"stenScore\"\n                  ]\n                },\n                {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"scoreGroup\": {\n                      \"type\": \"string\"\n                    },\n                    \"scoreType\": {\n                      \"type\": \"string\"\n                    },\n                    \"zScore\": {\n                      \"type\": \"number\"\n                    },\n                    \"stenScore\": {\n                      \"type\": \"number\"\n                    }\n                  },\n                  \"required\": [\n                    \"scoreGroup\",\n                    \"scoreType\",\n                    \"zScore\",\n                    \"stenScore\"\n                  ]\n                },\n                {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"scoreGroup\": {\n                      \"type\": \"string\"\n                    },\n                    \"scoreType\": {\n                      \"type\": \"string\"\n                    },\n                    \"zScore\": {\n                      \"type\": \"number\"\n                    },\n                    \"stenScore\": {\n                      \"type\": \"number\"\n                    }\n                  },\n                  \"required\": [\n                    \"scoreGroup\",\n                    \"scoreType\",\n                    \"zScore\",\n                    \"stenScore\"\n                  ]\n                },\n                {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"scoreGroup\": {\n                      \"type\": \"string\"\n                    },\n                    \"scoreType\": {\n                      \"type\": \"string\"\n                    },\n                    \"zScore\": {\n                      \"type\": \"number\"\n                    },\n                    \"stenScore\": {\n                      \"type\": \"number\"\n                    }\n                  },\n                  \"required\": [\n                    \"scoreGroup\",\n                    \"scoreType\",\n                    \"zScore\",\n                    \"stenScore\"\n                  ]\n                },\n                {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"scoreGroup\": {\n                      \"type\": \"string\"\n                    },\n                    \"scoreType\": {\n                      \"type\": \"string\"\n                    },\n                    \"zScore\": {\n                      \"type\": \"number\"\n                    },\n                    \"stenScore\": {\n                      \"type\": \"number\"\n                    }\n                  },\n                  \"required\": [\n                    \"scoreGroup\",\n                    \"scoreType\",\n                    \"zScore\",\n                    \"stenScore\"\n                  ]\n                },\n                {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"scoreGroup\": {\n                      \"type\": \"string\"\n                    },\n                    \"scoreType\": {\n                      \"type\": \"string\"\n                    },\n                    \"zScore\": {\n                      \"type\": \"number\"\n                    },\n                    \"stenScore\": {\n                      \"type\": \"number\"\n                    }\n                  },\n                  \"required\": [\n                    \"scoreGroup\",\n                    \"scoreType\",\n                    \"zScore\",\n                    \"stenScore\"\n                  ]\n                },\n                {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"scoreGroup\": {\n                      \"type\": \"string\"\n                    },\n                    \"scoreType\": {\n                      \"type\": \"string\"\n                    },\n                    \"zScore\": {\n                      \"type\": \"number\"\n                    },\n                    \"stenScore\": {\n                      \"type\": \"number\"\n                    }\n                  },\n                  \"required\": [\n                    \"scoreGroup\",\n                    \"scoreType\",\n                    \"zScore\",\n                    \"stenScore\"\n                  ]\n                },\n                {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"scoreGroup\": {\n                      \"type\": \"string\"\n                    },\n                    \"scoreType\": {\n                      \"type\": \"string\"\n                    },\n                    \"zScore\": {\n                      \"type\": \"number\"\n                    },\n                    \"stenScore\": {\n                      \"type\": \"number\"\n                    }\n                  },\n                  \"required\": [\n                    \"scoreGroup\",\n                    \"scoreType\",\n                    \"zScore\",\n                    \"stenScore\"\n                  ]\n                },\n                {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"scoreGroup\": {\n                      \"type\": \"string\"\n                    },\n                    \"scoreType\": {\n                      \"type\": \"string\"\n                    },\n                    \"zScore\": {\n                      \"type\": \"number\"\n                    },\n                    \"stenScore\": {\n                      \"type\": \"number\"\n                    }\n                  },\n                  \"required\": [\n                    \"scoreGroup\",\n                    \"scoreType\",\n                    \"zScore\",\n                    \"stenScore\"\n                  ]\n                },\n                {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"scoreGroup\": {\n                      \"type\": \"string\"\n                    },\n                    \"scoreType\": {\n                      \"type\": \"string\"\n                    },\n                    \"zScore\": {\n                      \"type\": \"number\"\n                    },\n                    \"stenScore\": {\n                      \"type\": \"number\"\n                    }\n                  },\n                  \"required\": [\n                    \"scoreGroup\",\n                    \"scoreType\",\n                    \"zScore\",\n                    \"stenScore\"\n                  ]\n                },\n                {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"scoreGroup\": {\n                      \"type\": \"string\"\n                    },\n                    \"scoreType\": {\n                      \"type\": \"string\"\n                    },\n                    \"zScore\": {\n                      \"type\": \"number\"\n                    },\n                    \"stenScore\": {\n                      \"type\": \"number\"\n                    }\n                  },\n                  \"required\": [\n                    \"scoreGroup\",\n                    \"scoreType\",\n                    \"zScore\",\n                    \"stenScore\"\n                  ]\n                },\n                {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"scoreGroup\": {\n                      \"type\": \"string\"\n                    },\n                    \"scoreType\": {\n                      \"type\": \"string\"\n                    },\n                    \"zScore\": {\n                      \"type\": \"number\"\n                    },\n                    \"stenScore\": {\n                      \"type\": \"number\"\n                    }\n                  },\n                  \"required\": [\n                    \"scoreGroup\",\n                    \"scoreType\",\n                    \"zScore\",\n                    \"stenScore\"\n                  ]\n                },\n                {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"scoreGroup\": {\n                      \"type\": \"string\"\n                    },\n                    \"scoreType\": {\n                      \"type\": \"string\"\n                    },\n                    \"zScore\": {\n                      \"type\": \"number\"\n                    },\n                    \"stenScore\": {\n                      \"type\": \"number\"\n                    }\n                  },\n                  \"required\": [\n                    \"scoreGroup\",\n                    \"scoreType\",\n                    \"zScore\",\n                    \"stenScore\"\n                  ]\n                },\n                {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"scoreGroup\": {\n                      \"type\": \"string\"\n                    },\n                    \"scoreType\": {\n                      \"type\": \"string\"\n                    },\n                    \"zScore\": {\n                      \"type\": \"number\"\n                    },\n                    \"stenScore\": {\n                      \"type\": \"number\"\n                    }\n                  },\n                  \"required\": [\n                    \"scoreGroup\",\n                    \"scoreType\",\n                    \"zScore\",\n                    \"stenScore\"\n                  ]\n                },\n                {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"scoreGroup\": {\n                      \"type\": \"string\"\n                    },\n                    \"scoreType\": {\n                      \"type\": \"string\"\n                    },\n                    \"zScore\": {\n                      \"type\": \"number\"\n                    },\n                    \"stenScore\": {\n                      \"type\": \"number\"\n                    }\n                  },\n                  \"required\": [\n                    \"scoreGroup\",\n                    \"scoreType\",\n                    \"zScore\",\n                    \"stenScore\"\n                  ]\n                }\n              ]\n            },\n            \"fitScoreTargets\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"competencies\": {\n                  \"type\": \"integer\"\n                },\n                \"drivers\": {\n                  \"type\": \"integer\"\n                },\n                \"traits\": {\n                  \"type\": \"integer\"\n                },\n                \"ability\": {\n                  \"type\": \"integer\"\n                }\n              },\n              \"required\": [\n                \"competencies\",\n                \"drivers\",\n                \"traits\",\n                \"ability\"\n              ]\n            },\n            \"companyCulture\": {\n              \"type\": \"array\",\n              \"items\": [\n                {\n                  \"type\": \"string\"\n                },\n                {\n                  \"type\": \"string\"\n                },\n                {\n                  \"type\": \"string\"\n                },\n                {\n                  \"type\": \"string\"\n                }\n              ]\n            },\n            \"jobCharacteristics\": {\n              \"type\": \"array\",\n              \"items\": [\n                {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"item\": {\n                      \"type\": \"string\"\n                    },\n                    \"score\": {\n                      \"type\": \"number\"\n                    }\n                  },\n                  \"required\": [\n                    \"item\",\n                    \"score\"\n                  ]\n                },\n                {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"item\": {\n                      \"type\": \"string\"\n                    },\n                    \"score\": {\n                      \"type\": \"number\"\n                    }\n                  },\n                  \"required\": [\n                    \"item\",\n                    \"score\"\n                  ]\n                },\n                {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"item\": {\n                      \"type\": \"string\"\n                    },\n                    \"score\": {\n                      \"type\": \"number\"\n                    }\n                  },\n                  \"required\": [\n                    \"item\",\n                    \"score\"\n                  ]\n                },\n                {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"item\": {\n                      \"type\": \"string\"\n                    },\n                    \"score\": {\n                      \"type\": \"number\"\n                    }\n                  },\n                  \"required\": [\n                    \"item\",\n                    \"score\"\n                  ]\n                }\n              ]\n            }\n          },\n          \"required\": [\n            \"id\",\n            \"name\",\n            \"customized\",\n            \"norm\",\n            \"scoringNorm\",\n            \"scores\",\n            \"fitScoreTargets\",\n            \"companyCulture\",\n            \"jobCharacteristics\"\n          ]\n        },\n        \"projectFeatures\": {\n          \"type\": \"array\",\n          \"items\": [\n            {\n              \"type\": \"object\",\n              \"properties\": {\n                \"name\": {\n                  \"type\": \"string\"\n                },\n                \"enabled\": {\n                  \"type\": \"boolean\"\n                }\n              },\n              \"required\": [\n                \"name\",\n                \"enabled\"\n              ]\n            }\n          ]\n        },\n        \"candidates\": {\n          \"type\": \"array\",\n          \"items\": [\n            {\n              \"type\": \"object\",\n              \"properties\": {\n                \"id\": {\n                  \"type\": \"integer\"\n                },\n                \"name\": {\n                  \"type\": \"string\"\n                },\n                \"status\": {\n                  \"type\": \"string\"\n                },\n                \"submittedDate\": {\n                  \"type\": \"string\"\n                },\n                \"assessmentResults\": {\n                  \"type\": \"array\",\n                  \"items\": [\n                    {\n                      \"type\": \"object\",\n                      \"properties\": {\n                        \"testName\": {\n                          \"type\": \"string\"\n                        },\n                        \"testScore\": {\n                          \"type\": \"integer\"\n                        }\n                      },\n                      \"required\": [\n                        \"testName\",\n                        \"testScore\"\n                      ]\n                    }\n                  ]\n                }\n              },\n              \"required\": [\n                \"id\",\n                \"name\",\n                \"status\",\n                \"submittedDate\",\n                \"assessmentResults\"\n              ]\n            },\n            {\n              \"type\": \"object\",\n              \"properties\": {\n                \"id\": {\n                  \"type\": \"integer\"\n                },\n                \"name\": {\n                  \"type\": \"string\"\n                },\n                \"status\": {\n                  \"type\": \"string\"\n                },\n                \"submittedDate\": {\n                  \"type\": \"null\"\n                },\n                \"assessmentResults\": {\n                  \"type\": \"array\",\n                  \"items\": {}\n                }\n              },\n              \"required\": [\n                \"id\",\n                \"name\",\n                \"status\",\n                \"submittedDate\",\n                \"assessmentResults\"\n              ]\n            }\n          ]\n        }\n      },\n      \"required\": [\n        \"clientId\",\n        \"uamClientId\",\n        \"userGroupId\",\n        \"userGroupName\",\n        \"projectId\",\n        \"name\",\n        \"createdByEmail\",\n        \"createdDate\",\n        \"endDate\",\n        \"productType\",\n        \"projectType\",\n        \"customProjectTypeId\",\n        \"customProjectTypeName\",\n        \"serviceLevel\",\n        \"costCenterEngagementCode\",\n        \"systemPlatform\",\n        \"isIntegration\",\n        \"locationCountryCode\",\n        \"isNonBillable\",\n        \"assessmentReuse\",\n        \"potentialAddOn\",\n        \"learningAgilityAddOn\",\n        \"includeDerailers\",\n        \"potential\",\n        \"successProfile\",\n        \"projectFeatures\",\n        \"candidates\"\n      ]\n    }\n  },\n  \"required\": [\n    \"product_name\",\n    \"schema_version\",\n    \"schema\",\n    \"data\"\n  ]\n}","JSON Schema Registry":"76382406-24b9-3ae2-8e03-3bd9de963dfc","Schema Access Strategy":"SCHEMA_NAME_PROPERTY","Schema Name":"${schema}-${schema_version}"},"propertyDescriptors":{"JSON Schema Version":{"name":"JSON Schema Version","displayName":"JSON Schema Version","identifiesControllerService":false,"sensitive":false},"JSON Schema":{"name":"JSON Schema","displayName":"JSON Schema","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["URL","TEXT","FILE"]}},"JSON Schema Registry":{"name":"JSON Schema Registry","displayName":"JSON Schema Registry","identifiesControllerService":true,"sensitive":false},"Schema Access Strategy":{"name":"Schema Access Strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"Schema Name":{"name":"Schema Name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"},{"identifier":"daea61e8-a28d-3300-8f85-14d4f67659de","instanceIdentifier":"4a6b3e4b-b0f9-1ce0-9db6-531805807362","name":"UpdateAttribute","comments":"","position":{"x":-1200.0,"y":184.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","mime.type":"application/json","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"mime.type":{"name":"mime.type","displayName":"mime.type","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"annotationData":"<criteria>\n    <flowFilePolicy>USE_CLONE</flowFilePolicy>\n    <rules>\n        <actions>\n            <attribute>message</attribute>\n            <id>87b0c1b8-e4cb-4e44-a9e8-0c7368031b64</id>\n            <value>Payload cannot be empty</value>\n        </actions>\n        <actions>\n            <attribute>statusCode</attribute>\n            <id>05f1740c-1000-4878-88fa-679f240fe95f</id>\n            <value>400</value>\n        </actions>\n        <comments></comments>\n        <conditions>\n            <expression>${fileSize:gt(0):not():and(${http.method:equals('POST')})}</expression>\n            <id>3bb60235-4e0b-4fbc-bc20-2d12ebc067e6</id>\n        </conditions>\n        <id>44b593fc-a50a-4eb2-8e6e-a92be1b6e50d</id>\n        <name>invalidFileSize</name>\n    </rules>\n    <rules>\n        <actions>\n            <attribute>message</attribute>\n            <id>87b0c1b8-e4cb-4e44-a9e8-0c7368031b64</id>\n            <value>Method not allowed for ${http.request.uri} endpoint</value>\n        </actions>\n        <actions>\n            <attribute>statusCode</attribute>\n            <id>05f1740c-1000-4878-88fa-679f240fe95f</id>\n            <value>405</value>\n        </actions>\n        <comments></comments>\n        <conditions>\n            <expression>${http.method:equals('POST'):not()}</expression>\n            <id>3bb60235-4e0b-4fbc-bc20-2d12ebc067e6</id>\n        </conditions>\n        <id>91127848-fcf5-48de-a7c0-2522ea84b6c1</id>\n        <name>invalidMethodAndFile</name>\n    </rules>\n</criteria>","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"},{"identifier":"71bb940f-8082-38eb-830a-3c9ff1920bee","instanceIdentifier":"a49a35bc-94f8-18b6-a6c5-f48b45678420","name":"EvaluateJsonPath","comments":"","position":{"x":-536.0,"y":360.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"schema":"$.schema","schema_version":"$.schema_version","Destination":"flowfile-attribute","Max String Length":"20 MB","Return Type":"json","Null Value Representation":"empty string","product_name":"$.product_name","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"schema":{"name":"schema","displayName":"schema","identifiesControllerService":false,"sensitive":false},"schema_version":{"name":"schema_version","displayName":"schema_version","identifiesControllerService":false,"sensitive":false},"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"product_name":{"name":"product_name","displayName":"product_name","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"1 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"},{"identifier":"cb053a3f-ff1e-3595-94be-12e0915b245b","instanceIdentifier":"f4ae379d-0021-1002-a8cb-564a83ef0159","name":"RouteOnAttribute","comments":"","position":{"x":-536.0,"y":168.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Routing Strategy":"Route to Property name","ValidAPI":"${http.method:equals('POST'):and(${fileSize:gt(0)})}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"ValidAPI":{"name":"ValidAPI","displayName":"ValidAPI","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"},{"identifier":"cbfba54d-331c-300f-9456-32b913ad975b","instanceIdentifier":"96c631e1-70f2-1c5c-9856-7febe0e781a6","name":"UpdateAttribute","comments":"","position":{"x":-1192.0,"y":376.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","mime.type":"application/json","Stateful Variables Initial Value":null,"message":"Invalid JSON Format","statusCode":"400"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"mime.type":{"name":"mime.type","displayName":"mime.type","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"message":{"name":"message","displayName":"message","identifiesControllerService":false,"sensitive":false},"statusCode":{"name":"statusCode","displayName":"statusCode","identifiesControllerService":false,"sensitive":false}},"style":{},"annotationData":"<criteria>\n    <flowFilePolicy>USE_CLONE</flowFilePolicy>\n</criteria>","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"},{"identifier":"40657104-7b2b-35ae-8376-17c5540eec60","instanceIdentifier":"4e0e366a-eabb-1dbf-bc14-1eb08d5c22e2","name":"ReplaceText","comments":"","position":{"x":-1832.0,"y":784.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n  \"message\": \"${message}\",\n  \"uuid\": \"${uuid}\",\n  \"timestamp\": \"${now():toNumber():formatInstant(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\", \"GMT\")}\"\n\n}","Evaluation Mode":"Entire text","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"10 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"}],"inputPorts":[{"identifier":"603bc3a6-fa45-32ad-80e1-ab6d5478f9c8","instanceIdentifier":"ef829e6d-0195-1000-0000-000010976ccb","name":"input","position":{"x":-480.0,"y":40.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"}],"outputPorts":[{"identifier":"967cdcf9-767a-3ce9-8c64-a66e2a91392a","instanceIdentifier":"ef82f44a-0195-1000-0000-000021695f36","name":"output","position":{"x":-1776.0,"y":624.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"},{"identifier":"a23a81dc-4de6-3286-8509-74c2c4cf8e6e","instanceIdentifier":"7c834013-012a-1061-ffff-ffffc370c774","name":"to_route","position":{"x":-464.0,"y":1032.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"}],"connections":[{"identifier":"29b1e11e-ccd9-3a45-a535-109d977ecc79","instanceIdentifier":"e50d3c87-2c73-181a-86ee-2b7e923999b4","name":"","source":{"id":"a5780412-439c-3c42-a06e-c3994a7d82ba","type":"PROCESSOR","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"UpdateAttribute","comments":"","instanceIdentifier":"a8853f0c-bd55-1694-a81e-baecd3d0a86e"},"destination":{"id":"40657104-7b2b-35ae-8376-17c5540eec60","type":"PROCESSOR","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"ReplaceText","comments":"","instanceIdentifier":"4e0e366a-eabb-1dbf-bc14-1eb08d5c22e2"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"},{"identifier":"44bb9898-5aa5-3ea0-9526-98be254e913e","instanceIdentifier":"7c833ff9-012a-1061-0000-00006589cd04","name":"","source":{"id":"a5780412-439c-3c42-a06e-c3994a7d82ba","type":"PROCESSOR","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"UpdateAttribute","comments":"","instanceIdentifier":"a8853f0c-bd55-1694-a81e-baecd3d0a86e"},"destination":{"id":"91764d9b-db87-3cf2-af08-9ac7ccb22674","type":"PROCESSOR","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"7c833ff1-012a-1061-aab8-f7c4eebded10"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"},{"identifier":"9f65898e-5d94-39b7-bdec-35df4a24fe49","instanceIdentifier":"ef838c1c-0195-1000-ffff-ffffb6570cd5","name":"","source":{"id":"1d19969a-6795-3a3f-a8fd-815010b09e14","type":"PROCESSOR","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"ReplaceText","comments":"","instanceIdentifier":"8103370d-2e79-1852-baba-c8c7f972800f"},"destination":{"id":"967cdcf9-767a-3ce9-8c64-a66e2a91392a","type":"OUTPUT_PORT","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"output","instanceIdentifier":"ef82f44a-0195-1000-0000-000021695f36"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"},{"identifier":"c2f6abe0-e757-34a4-8d15-59c80966cece","instanceIdentifier":"09b3334b-79e7-15f1-963d-653fc28a5fcb","name":"","source":{"id":"71bb940f-8082-38eb-830a-3c9ff1920bee","type":"PROCESSOR","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"a49a35bc-94f8-18b6-a6c5-f48b45678420"},"destination":{"id":"a398a9a6-0509-3c77-a5f9-6a29561aae4f","type":"PROCESSOR","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"ValidateJson","comments":"","instanceIdentifier":"d7f83999-e129-143e-83ff-6ea6dadaabd9"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"},{"identifier":"dc94609b-0bf1-3ebe-a7de-d7d1106daf89","instanceIdentifier":"69d83591-9ef0-1d56-9e5f-c899ab7b5927","name":"","source":{"id":"cb053a3f-ff1e-3595-94be-12e0915b245b","type":"PROCESSOR","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"RouteOnAttribute","comments":"","instanceIdentifier":"f4ae379d-0021-1002-a8cb-564a83ef0159"},"destination":{"id":"71bb940f-8082-38eb-830a-3c9ff1920bee","type":"PROCESSOR","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"a49a35bc-94f8-18b6-a6c5-f48b45678420"},"labelIndex":1,"zIndex":0,"selectedRelationships":["ValidAPI"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"},{"identifier":"0a14ae47-035e-39c9-bec0-9d04fff0fc8a","instanceIdentifier":"131733f0-c56f-1715-97f0-d7b5e0a10476","name":"","source":{"id":"daea61e8-a28d-3300-8f85-14d4f67659de","type":"PROCESSOR","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"UpdateAttribute","comments":"","instanceIdentifier":"4a6b3e4b-b0f9-1ce0-9db6-531805807362"},"destination":{"id":"1d19969a-6795-3a3f-a8fd-815010b09e14","type":"PROCESSOR","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"ReplaceText","comments":"","instanceIdentifier":"8103370d-2e79-1852-baba-c8c7f972800f"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"},{"identifier":"3fece8f6-386a-3536-92d2-ffb8a0de50d8","instanceIdentifier":"ef831967-0195-1000-ffff-ffffed78e285","name":"","source":{"id":"40657104-7b2b-35ae-8376-17c5540eec60","type":"PROCESSOR","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"ReplaceText","comments":"","instanceIdentifier":"4e0e366a-eabb-1dbf-bc14-1eb08d5c22e2"},"destination":{"id":"967cdcf9-767a-3ce9-8c64-a66e2a91392a","type":"OUTPUT_PORT","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"output","instanceIdentifier":"ef82f44a-0195-1000-0000-000021695f36"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"},{"identifier":"d3bd5d85-63c2-31e5-b5f4-ba55ae84d0d7","instanceIdentifier":"ef82b5dd-0195-1000-0000-000063208e70","name":"","source":{"id":"603bc3a6-fa45-32ad-80e1-ab6d5478f9c8","type":"INPUT_PORT","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"input","instanceIdentifier":"ef829e6d-0195-1000-0000-000010976ccb"},"destination":{"id":"cb053a3f-ff1e-3595-94be-12e0915b245b","type":"PROCESSOR","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"RouteOnAttribute","comments":"","instanceIdentifier":"f4ae379d-0021-1002-a8cb-564a83ef0159"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"},{"identifier":"9fd9215e-fe94-333c-86e6-527a37b5b92f","instanceIdentifier":"7c83402f-012a-1061-0000-0000048a36ce","name":"","source":{"id":"91764d9b-db87-3cf2-af08-9ac7ccb22674","type":"PROCESSOR","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"7c833ff1-012a-1061-aab8-f7c4eebded10"},"destination":{"id":"a23a81dc-4de6-3286-8509-74c2c4cf8e6e","type":"OUTPUT_PORT","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"to_route","instanceIdentifier":"7c834013-012a-1061-ffff-ffffc370c774"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"},{"identifier":"05bc03c0-685d-36bb-8861-c01919aa18d4","instanceIdentifier":"d3ee3bc1-bb55-1f6e-bdf8-7009e5d1e153","name":"","source":{"id":"cb053a3f-ff1e-3595-94be-12e0915b245b","type":"PROCESSOR","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"RouteOnAttribute","comments":"","instanceIdentifier":"f4ae379d-0021-1002-a8cb-564a83ef0159"},"destination":{"id":"daea61e8-a28d-3300-8f85-14d4f67659de","type":"PROCESSOR","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"UpdateAttribute","comments":"","instanceIdentifier":"4a6b3e4b-b0f9-1ce0-9db6-531805807362"},"labelIndex":0,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"},{"identifier":"35a87c1a-a955-3c35-8309-7156faa3cd1b","instanceIdentifier":"bf6b3f1a-b51b-1417-8777-ad16c62c2a2e","name":"","source":{"id":"a398a9a6-0509-3c77-a5f9-6a29561aae4f","type":"PROCESSOR","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"ValidateJson","comments":"","instanceIdentifier":"d7f83999-e129-143e-83ff-6ea6dadaabd9"},"destination":{"id":"a4947ac1-482d-39f6-b90e-4f95550bf5fc","type":"PROCESSOR","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"UpdateAttribute","comments":"","instanceIdentifier":"34e83533-3f81-101a-bb65-33c33ef4a1b2"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure","invalid"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"},{"identifier":"46d560d2-3b24-3b8c-954f-52e032037fab","instanceIdentifier":"53ad3f2a-ec40-19cd-bdf4-180a33d4015d","name":"","source":{"id":"71bb940f-8082-38eb-830a-3c9ff1920bee","type":"PROCESSOR","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"a49a35bc-94f8-18b6-a6c5-f48b45678420"},"destination":{"id":"cbfba54d-331c-300f-9456-32b913ad975b","type":"PROCESSOR","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"UpdateAttribute","comments":"","instanceIdentifier":"96c631e1-70f2-1c5c-9856-7febe0e781a6"},"labelIndex":0,"zIndex":0,"selectedRelationships":["failure","unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"},{"identifier":"8c44bd22-a9e1-3d1e-a47f-c653af0ddd9c","instanceIdentifier":"f51c3cef-5eb1-1b33-bdf5-332798393b4e","name":"","source":{"id":"cbfba54d-331c-300f-9456-32b913ad975b","type":"PROCESSOR","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"UpdateAttribute","comments":"","instanceIdentifier":"96c631e1-70f2-1c5c-9856-7febe0e781a6"},"destination":{"id":"1d19969a-6795-3a3f-a8fd-815010b09e14","type":"PROCESSOR","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"ReplaceText","comments":"","instanceIdentifier":"8103370d-2e79-1852-baba-c8c7f972800f"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"},{"identifier":"6f3e87a4-b64d-3387-b5ab-ca9f24e65f15","instanceIdentifier":"1cf13d97-fdd1-1a00-b8e8-390a0af1bf62","name":"","source":{"id":"a4947ac1-482d-39f6-b90e-4f95550bf5fc","type":"PROCESSOR","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"UpdateAttribute","comments":"","instanceIdentifier":"34e83533-3f81-101a-bb65-33c33ef4a1b2"},"destination":{"id":"1d19969a-6795-3a3f-a8fd-815010b09e14","type":"PROCESSOR","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"ReplaceText","comments":"","instanceIdentifier":"8103370d-2e79-1852-baba-c8c7f972800f"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"},{"identifier":"878208e9-78f6-3ba0-b23f-ec00b1fe1124","instanceIdentifier":"6cda3d16-c182-1e22-b711-369f534e9cbc","name":"","source":{"id":"a398a9a6-0509-3c77-a5f9-6a29561aae4f","type":"PROCESSOR","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"ValidateJson","comments":"","instanceIdentifier":"d7f83999-e129-143e-83ff-6ea6dadaabd9"},"destination":{"id":"a5780412-439c-3c42-a06e-c3994a7d82ba","type":"PROCESSOR","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"UpdateAttribute","comments":"","instanceIdentifier":"a8853f0c-bd55-1694-a81e-baecd3d0a86e"},"labelIndex":1,"zIndex":0,"selectedRelationships":["valid"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b8a36105-b835-3cc4-894d-144569f58d92"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"}],"remoteProcessGroups":[],"processors":[{"identifier":"67e4b7bb-5a5e-31aa-9b7e-cf08ffe46e3e","instanceIdentifier":"666239d8-556e-19a1-873e-3fde87cfe901","name":"RouteOnAttribute","comments":"","position":{"x":-536.0,"y":-24.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"CMS_API":"${http.request.uri:equalsIgnoreCase('/fetch-model')}","Routing Strategy":"Route to Property name","healthCheck":"${http.request.uri:equalsIgnoreCase('/v1/healthcheck/database')}","IngestData":"${http.request.uri:equalsIgnoreCase('/v1/ingest-data')}"},"propertyDescriptors":{"CMS_API":{"name":"CMS_API","displayName":"CMS_API","identifiesControllerService":false,"sensitive":false},"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"healthCheck":{"name":"healthCheck","displayName":"healthCheck","identifiesControllerService":false,"sensitive":false},"IngestData":{"name":"IngestData","displayName":"IngestData","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"b202b079-0f14-30da-a89b-3822c855e4e3","instanceIdentifier":"e70d33b9-07b0-127d-a3cd-acacefcc9242","name":"RouteOnAttribute","comments":"","position":{"x":-544.0,"y":456.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"processScoreData":"${schema:equals('kf_360_score')}","Routing Strategy":"Route to Property name","processRole":"${schema:equals('kf_360_role')}","processParticipant":"${schema:equals('kf_360_participant')}","processProject":"${schema:equals('kf_360_project')}"},"propertyDescriptors":{"processScoreData":{"name":"processScoreData","displayName":"processScoreData","identifiesControllerService":false,"sensitive":false},"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"processRole":{"name":"processRole","displayName":"processRole","identifiesControllerService":false,"sensitive":false},"processParticipant":{"name":"processParticipant","displayName":"processParticipant","identifiesControllerService":false,"sensitive":false},"processProject":{"name":"processProject","displayName":"processProject","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"c5cf9b19-4038-3dcf-b737-d0b5ca5cf13a","instanceIdentifier":"f4d93c14-b99f-136c-92da-144c87072d79","name":"HandleHttpResponse","comments":"","position":{"x":168.0,"y":208.0},"type":"org.apache.nifi.processors.standard.HandleHttpResponse","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"HTTP Context Map":"4fa59f61-4b0b-326a-ac65-0dbc4ed6c1bb","Attributes to add to the HTTP Response (Regex)":null,"HTTP Status Code":"${statusCode}","Content-Type":"application/json"},"propertyDescriptors":{"HTTP Context Map":{"name":"HTTP Context Map","displayName":"HTTP Context Map","identifiesControllerService":true,"sensitive":false},"Attributes to add to the HTTP Response (Regex)":{"name":"Attributes to add to the HTTP Response (Regex)","displayName":"Attributes to add to the HTTP Response (Regex)","identifiesControllerService":false,"sensitive":false},"HTTP Status Code":{"name":"HTTP Status Code","displayName":"HTTP Status Code","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Content-Type","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"8065cd04-20d3-3ee0-84cf-c5bf90252570","instanceIdentifier":"c0ac3c4e-f0a5-12e5-0000-00000ca81923","name":"UpdateAttribute","comments":"","position":{"x":-536.0,"y":-224.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","app_uuid":"${uuid}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"app_uuid":{"name":"app_uuid","displayName":"app_uuid","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"}],"inputPorts":[{"identifier":"20c5ea65-01b3-3340-bf5c-df178f2ce02a","instanceIdentifier":"3d5a32c4-e0bf-1ead-92ad-5877bd12d5f8","name":"input","position":{"x":-480.0,"y":-360.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"}],"outputPorts":[{"identifier":"31bcd449-7bfb-3097-9ddf-8fe94dd3e838","instanceIdentifier":"0e7f3a27-6c9d-1757-9ec7-f1710db69101","name":"scoreData","comments":"","position":{"x":-1016.0,"y":968.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"7d74d4e1-8302-3e8c-9d40-337db0074f24","instanceIdentifier":"8a5b34a7-526c-10c3-8116-1de4b386208f","name":"role","comments":"Routing to Role flow","position":{"x":-272.0,"y":968.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"0fa43b56-1268-3a52-9841-ac3afc46317b","instanceIdentifier":"391b3e34-e907-1d4d-a2f1-820b78de31bc","name":"project","comments":"","position":{"x":-680.0,"y":968.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"b4f109bc-13fe-3ac2-bc4e-08d4736c233e","instanceIdentifier":"cca1f968-0195-1000-ffff-ffffadea68ac","name":"output","position":{"x":240.0,"y":712.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"c61bd0e5-ae3c-3121-bd40-a228cc3a3725","instanceIdentifier":"e5263907-1c09-1717-a8b7-36c79cb389e1","name":"participant","comments":"","position":{"x":56.0,"y":968.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"57d1bf0e-ff2a-38b8-9dbb-c789347a2d6b","instanceIdentifier":"a9ceb85e-0196-1000-0000-000079635bbd","name":"cms","position":{"x":840.0,"y":-232.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"}],"connections":[{"identifier":"aca5e38e-7aa7-3c93-8ae2-b4e308fc64df","instanceIdentifier":"ef86b224-0195-1000-0000-000039057ee1","name":"","source":{"id":"967cdcf9-767a-3ce9-8c64-a66e2a91392a","type":"OUTPUT_PORT","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"output","instanceIdentifier":"ef82f44a-0195-1000-0000-000021695f36"},"destination":{"id":"c5cf9b19-4038-3dcf-b737-d0b5ca5cf13a","type":"PROCESSOR","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"HandleHttpResponse","comments":"","instanceIdentifier":"f4d93c14-b99f-136c-92da-144c87072d79"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"40eb0576-fe48-3100-9cff-fd9f5551d89f","instanceIdentifier":"f4bca90d-0195-1000-ffff-fffff4706954","name":"","source":{"id":"b202b079-0f14-30da-a89b-3822c855e4e3","type":"PROCESSOR","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"RouteOnAttribute","comments":"","instanceIdentifier":"e70d33b9-07b0-127d-a3cd-acacefcc9242"},"destination":{"id":"c61bd0e5-ae3c-3121-bd40-a228cc3a3725","type":"OUTPUT_PORT","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"participant","comments":"","instanceIdentifier":"e5263907-1c09-1717-a8b7-36c79cb389e1"},"labelIndex":0,"zIndex":0,"selectedRelationships":["processParticipant"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":174.00909423828125,"y":789.22900390625}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"3a90feb5-e43b-35db-8b3f-ff12449274dc","instanceIdentifier":"a9a9d628-0195-1000-ffff-ffffd9c46952","name":"","source":{"id":"67e4b7bb-5a5e-31aa-9b7e-cf08ffe46e3e","type":"PROCESSOR","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"RouteOnAttribute","comments":"","instanceIdentifier":"666239d8-556e-19a1-873e-3fde87cfe901"},"destination":{"id":"3d6ed97c-ddbf-385b-aac8-78f6e859b266","type":"INPUT_PORT","groupId":"a9fb947a-d106-385e-8d52-60179741684b","name":"input","instanceIdentifier":"ad038cd5-0195-1000-ffff-ffffefb40ca6"},"labelIndex":0,"zIndex":0,"selectedRelationships":["healthCheck"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"098bc98b-97fb-3050-8a35-898721381eef","instanceIdentifier":"ad0408a5-0195-1000-ffff-ffff976e6b18","name":"","source":{"id":"c4e6feaf-89ce-3151-bdba-6d517e92055f","type":"OUTPUT_PORT","groupId":"a9fb947a-d106-385e-8d52-60179741684b","name":"output","instanceIdentifier":"ad039c0c-0195-1000-ffff-ffffd95eb52d"},"destination":{"id":"c5cf9b19-4038-3dcf-b737-d0b5ca5cf13a","type":"PROCESSOR","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"HandleHttpResponse","comments":"","instanceIdentifier":"f4d93c14-b99f-136c-92da-144c87072d79"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"30bf7348-aadf-32b3-b113-ce6f4d923d9a","instanceIdentifier":"7c8340c4-012a-1061-0000-0000216b4432","name":"","source":{"id":"a23a81dc-4de6-3286-8509-74c2c4cf8e6e","type":"OUTPUT_PORT","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"to_route","instanceIdentifier":"7c834013-012a-1061-ffff-ffffc370c774"},"destination":{"id":"b202b079-0f14-30da-a89b-3822c855e4e3","type":"PROCESSOR","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"RouteOnAttribute","comments":"","instanceIdentifier":"e70d33b9-07b0-127d-a3cd-acacefcc9242"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"3b3b1c4d-8c93-3407-8e14-81acbfbe1cfc","instanceIdentifier":"cca21c12-0195-1000-0000-000002748ea8","name":"","source":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"82e3bded-f189-3b83-8a48-37c3cede06ca","name":"log_op","instanceIdentifier":"6c4138ca-8799-106a-8d07-cba175085422"},"destination":{"id":"b4f109bc-13fe-3ac2-bc4e-08d4736c233e","type":"OUTPUT_PORT","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"output","instanceIdentifier":"cca1f968-0195-1000-ffff-ffffadea68ac"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"c3cf6164-5829-3012-bedb-1fd97f7043dd","instanceIdentifier":"a7f22b6b-0195-1000-ffff-ffffa8ea4c7b","name":"","source":{"id":"b202b079-0f14-30da-a89b-3822c855e4e3","type":"PROCESSOR","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"RouteOnAttribute","comments":"","instanceIdentifier":"e70d33b9-07b0-127d-a3cd-acacefcc9242"},"destination":{"id":"0fa43b56-1268-3a52-9841-ac3afc46317b","type":"OUTPUT_PORT","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"project","comments":"","instanceIdentifier":"391b3e34-e907-1d4d-a2f1-820b78de31bc"},"labelIndex":1,"zIndex":0,"selectedRelationships":["processProject"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"8d3cffd9-7ac8-30dc-8a45-cdfcbd0b50a9","instanceIdentifier":"a9ced34c-0196-1000-0000-00007a4825b1","name":"","source":{"id":"67e4b7bb-5a5e-31aa-9b7e-cf08ffe46e3e","type":"PROCESSOR","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"RouteOnAttribute","comments":"","instanceIdentifier":"666239d8-556e-19a1-873e-3fde87cfe901"},"destination":{"id":"946ec9b3-1a2d-3d98-b0d5-58ce171b0fed","type":"INPUT_PORT","groupId":"a3b34db9-bd9b-31c2-8d55-72aefbc81069","name":"input","instanceIdentifier":"e8bb329a-5462-100c-90b3-a7b71c5992f1"},"labelIndex":1,"zIndex":0,"selectedRelationships":["CMS_API"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"3fa614fa-f8a7-3aec-94e4-02920bab780a","instanceIdentifier":"8a5b34c4-526c-10c3-ffff-ffffbc9b9762","name":"","source":{"id":"b202b079-0f14-30da-a89b-3822c855e4e3","type":"PROCESSOR","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"RouteOnAttribute","comments":"","instanceIdentifier":"e70d33b9-07b0-127d-a3cd-acacefcc9242"},"destination":{"id":"7d74d4e1-8302-3e8c-9d40-337db0074f24","type":"OUTPUT_PORT","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"role","comments":"Routing to Role flow","instanceIdentifier":"8a5b34a7-526c-10c3-8116-1de4b386208f"},"labelIndex":1,"zIndex":0,"selectedRelationships":["processRole"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"2c3f28f7-280c-3cf7-8955-2cdf0c62b56e","instanceIdentifier":"efc93356-c395-1cc4-0000-00006354f166","name":"","source":{"id":"20c5ea65-01b3-3340-bf5c-df178f2ce02a","type":"INPUT_PORT","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"input","instanceIdentifier":"3d5a32c4-e0bf-1ead-92ad-5877bd12d5f8"},"destination":{"id":"8065cd04-20d3-3ee0-84cf-c5bf90252570","type":"PROCESSOR","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"UpdateAttribute","comments":"","instanceIdentifier":"c0ac3c4e-f0a5-12e5-0000-00000ca81923"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"5ef4095a-4518-363b-8ecc-a4963af0eeff","instanceIdentifier":"cca0dcc2-0195-1000-0000-00007649ba6c","name":"","source":{"id":"c5cf9b19-4038-3dcf-b737-d0b5ca5cf13a","type":"PROCESSOR","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"HandleHttpResponse","comments":"","instanceIdentifier":"f4d93c14-b99f-136c-92da-144c87072d79"},"destination":{"id":"5454116a-3cd8-35e2-a3df-7d08adac256e","type":"INPUT_PORT","groupId":"82e3bded-f189-3b83-8a48-37c3cede06ca","name":"api_log","comments":"","instanceIdentifier":"a0b838f3-04a4-157d-befa-096b6a114782"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success","failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"85811aa0-3344-3aec-8341-98cfa8e2e974","instanceIdentifier":"a9dd0a03-0196-1000-ffff-fffffe0126f9","name":"","source":{"id":"84478b67-dc11-37de-9f6e-73382de656a4","type":"OUTPUT_PORT","groupId":"a3b34db9-bd9b-31c2-8d55-72aefbc81069","name":"to_trigger","instanceIdentifier":"a9dc67c3-0196-1000-ffff-ffff8be9ecb6"},"destination":{"id":"57d1bf0e-ff2a-38b8-9dbb-c789347a2d6b","type":"OUTPUT_PORT","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"cms","instanceIdentifier":"a9ceb85e-0196-1000-0000-000079635bbd"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"ea2a19e4-6d77-378d-a062-a870676ce416","instanceIdentifier":"0e7f3a67-6c9d-1757-0000-00001bc8218b","name":"","source":{"id":"b202b079-0f14-30da-a89b-3822c855e4e3","type":"PROCESSOR","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"RouteOnAttribute","comments":"","instanceIdentifier":"e70d33b9-07b0-127d-a3cd-acacefcc9242"},"destination":{"id":"31bcd449-7bfb-3097-9ddf-8fe94dd3e838","type":"OUTPUT_PORT","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"scoreData","comments":"","instanceIdentifier":"0e7f3a27-6c9d-1757-9ec7-f1710db69101"},"labelIndex":0,"zIndex":0,"selectedRelationships":["processScoreData"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":-897.9909057617188,"y":789.22900390625}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"566d64d6-28de-3dcb-b2d8-b919ae379092","instanceIdentifier":"a9dd2410-0196-1000-0000-00007130e738","name":"","source":{"id":"ec55e753-dad3-3e4f-b185-bb968dd2c676","type":"OUTPUT_PORT","groupId":"a3b34db9-bd9b-31c2-8d55-72aefbc81069","name":"output","instanceIdentifier":"6c3e3c4e-5f87-1a33-87d7-e7f98dfdefc0"},"destination":{"id":"c5cf9b19-4038-3dcf-b737-d0b5ca5cf13a","type":"PROCESSOR","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"HandleHttpResponse","comments":"","instanceIdentifier":"f4d93c14-b99f-136c-92da-144c87072d79"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":672.0,"y":-112.0},{"x":672.0,"y":272.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"f69a5dc0-a402-328b-baa1-e2d4ba7d82ed","instanceIdentifier":"efc9335a-c395-1cc4-0000-00007654d419","name":"","source":{"id":"8065cd04-20d3-3ee0-84cf-c5bf90252570","type":"PROCESSOR","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"UpdateAttribute","comments":"","instanceIdentifier":"c0ac3c4e-f0a5-12e5-0000-00000ca81923"},"destination":{"id":"67e4b7bb-5a5e-31aa-9b7e-cf08ffe46e3e","type":"PROCESSOR","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"RouteOnAttribute","comments":"","instanceIdentifier":"666239d8-556e-19a1-873e-3fde87cfe901"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"8a966cf9-c643-397e-8ea7-298620e3eb30","instanceIdentifier":"ef833386-0195-1000-0000-00003f0cb8e5","name":"","source":{"id":"67e4b7bb-5a5e-31aa-9b7e-cf08ffe46e3e","type":"PROCESSOR","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"RouteOnAttribute","comments":"","instanceIdentifier":"666239d8-556e-19a1-873e-3fde87cfe901"},"destination":{"id":"603bc3a6-fa45-32ad-80e1-ab6d5478f9c8","type":"INPUT_PORT","groupId":"b8a36105-b835-3cc4-894d-144569f58d92","name":"input","instanceIdentifier":"ef829e6d-0195-1000-0000-000010976ccb"},"labelIndex":1,"zIndex":0,"selectedRelationships":["IngestData"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"}],"labels":[],"funnels":[],"controllerServices":[{"identifier":"73dadf94-fb8b-3844-88c4-d2a75d30ad62","instanceIdentifier":"a9a3cb6f-0195-1000-0000-00001433191a","name":"DBCPConnectionPool_IDW","comments":"","type":"org.apache.nifi.dbcp.DBCPConnectionPool","bundle":{"group":"org.apache.nifi","artifact":"nifi-dbcp-service-nar","version":"1.27.0"},"properties":{"dbcp-min-idle-conns":"0","Max Wait Time":"500 millis","Database Driver Class Name":"org.postgresql.Driver","dbcp-min-evictable-idle-time":"30 mins","kerberos-principal":null,"Max Total Connections":"8","kerberos-credentials-service":null,"dbcp-max-conn-lifetime":"-1","Validation-query":null,"Database Connection URL":"jdbc:postgresql://#{host}:5432/insights_dw","dbcp-time-between-eviction-runs":"-1","Database User":"#{username}","kerberos-user-service":null,"dbcp-soft-min-evictable-idle-time":"-1","database-driver-locations":"/stackable/userdata/nifi-user-volume/postgresql-42.2.23.jar","dbcp-max-idle-conns":"8","Password":"#{password}"},"propertyDescriptors":{"kerberos-password":{"name":"kerberos-password","displayName":"Kerberos Password","identifiesControllerService":false,"sensitive":true},"dbcp-min-idle-conns":{"name":"dbcp-min-idle-conns","displayName":"Minimum Idle Connections","identifiesControllerService":false,"sensitive":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Driver Class Name":{"name":"Database Driver Class Name","displayName":"Database Driver Class Name","identifiesControllerService":false,"sensitive":false},"dbcp-min-evictable-idle-time":{"name":"dbcp-min-evictable-idle-time","displayName":"Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false},"kerberos-principal":{"name":"kerberos-principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"Max Total Connections":{"name":"Max Total Connections","displayName":"Max Total Connections","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"dbcp-max-conn-lifetime":{"name":"dbcp-max-conn-lifetime","displayName":"Max Connection Lifetime","identifiesControllerService":false,"sensitive":false},"Validation-query":{"name":"Validation-query","displayName":"Validation query","identifiesControllerService":false,"sensitive":false},"Database Connection URL":{"name":"Database Connection URL","displayName":"Database Connection URL","identifiesControllerService":false,"sensitive":false},"dbcp-time-between-eviction-runs":{"name":"dbcp-time-between-eviction-runs","displayName":"Time Between Eviction Runs","identifiesControllerService":false,"sensitive":false},"Database User":{"name":"Database User","displayName":"Database User","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"dbcp-soft-min-evictable-idle-time":{"name":"dbcp-soft-min-evictable-idle-time","displayName":"Soft Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false},"database-driver-locations":{"name":"database-driver-locations","displayName":"Database Driver Location(s)","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["URL","DIRECTORY","FILE"]}},"dbcp-max-idle-conns":{"name":"dbcp-max-idle-conns","displayName":"Max Idle Connections","identifiesControllerService":false,"sensitive":false},"Password":{"name":"Password","displayName":"Password","identifiesControllerService":false,"sensitive":true}},"controllerServiceApis":[{"type":"org.apache.nifi.dbcp.DBCPService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.27.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"},{"identifier":"76382406-24b9-3ae2-8e03-3bd9de963dfc","instanceIdentifier":"54fb3930-ae7e-171b-b5e6-959f9dffd48d","name":"StandardJsonSchemaRegistry","comments":"","type":"org.apache.nifi.schemaregistry.services.StandardJsonSchemaRegistry","bundle":{"group":"org.apache.nifi","artifact":"nifi-registry-nar","version":"1.27.0"},"properties":{"kf_360_project-1.0":"{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"title\": \"Project schema\",\n  \"properties\": {\n    \"product_name\": {\n      \"type\": \"string\",\n\t  \"minLength\": 1\n    },\n    \"schema_version\": {\n      \"type\": \"string\",\n\t  \"minLength\": 1\n    },\n    \"schema\": {\n      \"type\": \"string\",\n\t  \"minLength\": 1\n    },\n    \"data\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"adminGroups\": {\n          \"type\": [\n            \"object\",\n            \"null\"\n          ],\n          \"properties\": {\n            \"additional\": {\n              \"type\": \"array\",\n              \"items\": {\n                \"type\": \"string\"\n              }\n            },\n            \"owner\": {\n              \"type\": [\"string\",\"null\"],\n              \"minLength\": 1,\n              \"maxLength\": 15\n            }\n          },\"required\": [\n        \"additional\",\n        \"owner\"]\n        },\n        \"assessments\": {\n          \"type\": \"array\",\n\t\t\t\"minItems\": 1,\n          \"items\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"id\": {\n                \"type\": \"string\",\n                \"minLength\": 1,\n                \"maxLength\": 15\n              },\n              \"surveyId\": {\n                \"type\": [\"string\",\"null\"]\n              },\n              \"raterCategories\": {\n                \"type\": \"array\",\n                \"items\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"id\": {\n                      \"type\": \"string\",\n                      \"enum\": [\n                        \"01\",\n                        \"02\",\n                        \"03\",\n                        \"04\",\n                        \"05\",\n                        \"06\",\n                        \"07\",\n                        \"08\",\n\t\t\t\t\t\t\"00\"\n                      ]\n                    },\n                    \"kf360Code\": {\n                      \"type\": \"string\"\n                    },\n                    \"minimumRequired\": {\n                      \"type\": \"number\",\n                      \"minimum\":0\n                    },\n                    \"minimumRequiredForReport\": {\n                      \"type\": \"number\",\n                      \"minimum\":0\n                    },\n                    \"name\": {\n                      \"type\": \"string\",\n\t\t\t\"minLength\": 1\n                    },\n                    \"required\": {\n                      \"type\": \"boolean\"\n                    }\n                  },\n                  \"required\": [\n                    \"id\",\n                    \"minimumRequired\",\n                    \"minimumRequiredForReport\",\n                    \"name\",\n                    \"required\"\n                  ]\n                }\n              },\n              \"type\": {\n                \"type\": \"string\",\n                \"minLength\": 1,\n                \"maxLength\": 15\n              },\n              \"kF360\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"roleType\": {\n                    \"type\": \"string\",\n\t\t\t\"minLength\": 1\n                  },\n                  \"surveySetup\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"id\": {\n                        \"type\": \"number\",\n                      \"minimum\":0\n                      },\n                      \"model\": {\n                        \"type\": \"object\",\n                        \"properties\": {\n                          \"id\": {\n                            \"type\": \"string\",\n\t\t\t\"minLength\": 1\n                          },\n                          \"version\": {\n                            \"type\": \"string\",\n\t\t\t\"minLength\": 1\n                          }\n                        },\n                        \"required\": [\n                          \"id\",\n                          \"version\"\n                        ]\n                      },\n                      \"surveyType\": {\n                        \"type\": \"string\",\n\t\t\t\"minLength\": 1\n                      }\n                    },\n                    \"required\": [\n                      \"id\",\n                      \"model\",\n                      \"surveyType\"\n                    ]\n                  }\n                },\n                \"required\": [\n                  \"roleType\",\n                  \"surveySetup\"\n                ]\n              }\n            },\n            \"required\": [\n              \"id\",\n              \"raterCategories\",\n\t\t\t\"surveyId\",\n              \"type\"\n            ]\n          }\n        },\n        \"dates\": {\n          \"type\": [\n            \"object\",\n            \"null\"\n          ],\n          \"properties\": {\n            \"created\": {\n              \"type\": [\"string\",\"null\"],\n              \"format\": \"date-time\"\n            },\n            \"projectDeadline\": {\n              \"type\": [\"string\",\"null\"],\n              \"format\": \"date-time\"\n            }\n          },\n\t\t\"required\": [\n        \"created\",\n        \"projectDeadline\"]\n        },\n        \"id\": {\n          \"type\": \"string\",\n          \"minLength\": 15,\n          \"maxLength\": 15\n        },\n        \"name\": {\n          \"type\": \"string\",\n\t\t\t\"minLength\": 1\n        },\n        \"sapClientId\": {\n          \"type\": \"string\",\n\t\t\t\"minLength\": 1\n        },\n        \"type\": {\n          \"type\": \"string\",\n          \"maxLength\": 1,\n\t\t\t\"enum\": [\n                        \"C\",\n                        \"P\",\n                        \"T\"\n                      ]\n        }\n      },\n      \"required\": [\n        \"adminGroups\",\n        \"assessments\",\n        \"dates\",\n        \"id\",\n        \"name\",\n        \"sapClientId\",\n        \"type\"\n      ]\n    }\n  },\n  \"required\": [\n    \"product_name\",\n    \"schema_version\",\n    \"schema\",\n    \"data\"\n  ]\n}","JSON Schema Version":"DRAFT_2020_12","kf_360_score-1.0":"{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"title\": \"Schema for Score Data\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"product_name\": {\n      \"type\": \"string\"\n    },\n    \"schema_version\": {\n      \"type\": \"string\"\n    },\n    \"schema\": {\n      \"type\": \"string\"\n    },\n    \"data\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"assessmentId\": {\n          \"type\": \"string\",\n            \"minLength\":1,\n             \"maxLength\":15\n        },\n        \"dateSaved\": {\n          \"type\": \"string\",\n              \"format\": \"date-time\"\n        },\n        \"kF360SurveyType\": {\n          \"type\": \"string\",\n          \"minLength\":1,\n          \"enum\": [\n            \"competencies\",\n            \"behaviors-bars\",\n            \"behaviors-effectiveness\"\n          ]\n        },\n        \"participantId\": {\n          \"type\": \"string\",\n            \"minLength\":15,\n             \"maxLength\":15\n        },\n        \"projectId\": {\n          \"type\": \"string\",\n            \"minLength\":15,\n             \"maxLength\":15\n        },\n        \"scoredData\": {\n          \"type\": \"object\",\n            \"minProperties\": 1,\n          \"properties\": {},\n          \"required\": []\n        },\n        \"surveyId\": {\n          \"type\": [\"string\",\"null\"],\n            \"minLength\":1,\n             \"maxLength\":15\n        }\n      },\n      \"required\": [\n        \"assessmentId\",\n        \"dateSaved\",\n        \"participantId\",\n        \"projectId\",\n        \"scoredData\",\n        \"surveyId\"\n      ]\n    }\n  },\n  \"required\": [\n    \"product_name\",\n    \"schema_version\",\n    \"schema\",\n    \"data\"\n  ]\n}","kf_360_participant-1.0":"{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"title\": \"Generated schema for Participant\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"product_name\": {\n      \"type\": \"string\",\n      \"minLength\": 1\n    },\n    \"schema_version\": {\n      \"type\": \"string\",\n      \"minLength\": 1\n    },\n    \"schema\": {\n      \"type\": \"string\",\n      \"minLength\": 1\n    },\n    \"data\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"assessments\": {\n          \"type\": \"array\",\n          \"minItems\": 1,\n          \"items\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"dates\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"assessmentSaved\": {\n                    \"type\": [\n                      \"string\",\n                      \"null\"\n                    ]\n                  },\n                  \"assessmentSubmitted\": {\n                    \"type\": [\n                      \"string\",\n                      \"null\"\n                    ]\n                  }\n                },\n                \"required\": [\n                  \"assessmentSaved\",\n                  \"assessmentSubmitted\"\n                ]\n              },\n              \"id\": {\n                \"type\": \"string\",\n                \"minLength\": 1,\n                \"maxLength\": 15\n              },\n              \"kF360RoleId\": {\n                \"type\": [\n                  \"number\",\n                  \"null\"\n                ],\n                \"minimum\": 0\n              },\n              \"raterCategories\": {\n                \"type\": \"array\",\n                \"minItems\": 1,\n                \"items\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"id\": {\n                      \"type\": \"string\",\n                      \"enum\": [\n                        \"01\",\n                        \"02\",\n                        \"03\",\n                        \"04\",\n                        \"05\",\n                        \"06\",\n                        \"07\",\n                        \"08\",\n                        \"00\"\n                      ]\n                    },\n                    \"name\": {\n                      \"type\": \"string\",\n                      \"minLength\": 1\n                    },\n                    \"surveysCompleted\": {\n                      \"type\": \"number\",\n                      \"minimum\": 0\n                    },\n                    \"surveysDistributed\": {\n                      \"type\": \"number\",\n                      \"minimum\": 0\n                    },\n                    \"surveysWithValidData\": {\n                      \"type\": \"number\",\n                      \"minimum\": 0\n                    }\n                  },\n                  \"required\": [\n                    \"id\",\n                    \"name\",\n                    \"surveysCompleted\",\n                    \"surveysDistributed\",\n                    \"surveysWithValidData\"\n                  ]\n                }\n              },\n              \"reports\": {\n                \"type\": \"array\",\n                \"items\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"reportDownloadId\": {\n                      \"type\": \"number\"\n                    },\n                    \"createdDate\": {\n                      \"type\": \"string\",\n                      \"format\": \"date-time\"\n                    }\n                  },\n                  \"required\": [\n                    \"reportDownloadId\",\n                    \"createdDate\"\n                  ]\n                }\n              },\n              \"status\": {\n                \"type\": \"string\",\n                \"enum\": [\n                  \"No Surveys Complete\",\n                  \"No Raters Registered\",\n                  \"Insufficient Data\",\n                  \"Sufficient Data\",\n                  \"All Surveys Complete\",\n                  \"Results Viewed\",\n                  \"Email Not Yet Sent\",\n                  \"Rater email not contacted\",\n                  \"PSE needs to be scored manually after submission\",\n                  \"No Surveys Assigned\"\n                ]\n              },\n              \"type\": {\n                \"type\": \"string\",\n                \"minLength\": 1,\n                \"maxLength\": 15\n              }\n            },\n            \"required\": [\n              \"dates\",\n              \"id\",\n              \"raterCategories\",\n              \"reports\",\n              \"status\",\n              \"type\"\n            ]\n          }\n        },\n        \"dates\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"created\": {\n              \"type\": [\n                \"string\",\n                \"null\"\n              ],\n              \"format\": \"date-time\"\n            },\n            \"participantDeadline\": {\n              \"type\": [\n                \"string\",\n                \"null\"\n              ],\n              \"format\": \"date-time\",\n              \"minLength\": 1\n            },\n            \"reportLastProcessed\": {\n              \"type\": [\n                \"string\",\n                \"null\"\n              ],\n              \"format\": \"date-time\"\n            }\n          },\n          \"required\": [\n            \"participantDeadline\",\n            \"created\"\n          ]\n        },\n        \"demographics\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"app\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"id\": {\n                  \"type\": \"string\"\n                },\n                \"version\": {\n                  \"type\": \"string\"\n                }\n              },\n              \"required\": [\n                \"id\",\n                \"version\"\n              ]\n            },\n            \"organisationLevel\": {\n              \"type\": [\n                \"object\",\n                \"null\"\n              ],\n              \"properties\": {\n                \"id\": {\n                  \"type\": \"string\"\n                },\n                \"label\": {\n                  \"type\": \"string\"\n                }\n              },\n              \"required\": [\n                \"id\",\n                \"label\"\n              ]\n            },\n            \"jobFunction\": {\n              \"type\": [\n                \"object\",\n                \"null\"\n              ],\n              \"properties\": {\n                \"id\": {\n                  \"type\": \"string\"\n                },\n                \"label\": {\n                  \"type\": \"string\"\n                }\n              },\n              \"required\": [\n                \"id\",\n                \"label\"\n              ]\n            },\n            \"jobFunctionOther\": {\n              \"type\": [\n                \"string\",\n                \"null\"\n              ]\n            },\n            \"yearsPeopleMgmtRole\": {\n              \"type\": [\n                \"string\",\n                \"null\"\n              ]\n            },\n            \"monthsPeopleMgmtRole\": {\n              \"type\": [\n                \"string\",\n                \"null\"\n              ]\n            },\n            \"inCurrentRoleILead\": {\n              \"type\": [\n                \"object\",\n                \"null\"\n              ],\n              \"properties\": {\n                \"id\": {\n                  \"type\": \"string\"\n                },\n                \"label\": {\n                  \"type\": \"string\"\n                }\n              },\n              \"required\": [\n                \"id\",\n                \"label\"\n              ]\n            },\n            \"yearsWorkingForCompany\": {\n              \"type\": [\n                \"string\",\n                \"null\"\n              ]\n            },\n            \"monthsWorkingForCompany\": {\n              \"type\": [\n                \"string\",\n                \"null\"\n              ]\n            },\n            \"countryOfResidence\": {\n              \"type\": [\n                \"object\",\n                \"null\"\n              ],\n              \"properties\": {\n                \"id\": {\n                  \"type\": \"string\"\n                },\n                \"label\": {\n                  \"type\": \"string\"\n                }\n              },\n              \"required\": [\n                \"id\",\n                \"label\"\n              ]\n            },\n            \"recommendOrganization\": {\n              \"type\": [\n                \"object\",\n                \"null\"\n              ],\n              \"properties\": {\n                \"id\": {\n                  \"type\": \"string\"\n                },\n                \"label\": {\n                  \"type\": \"string\"\n                }\n              },\n              \"required\": [\n                \"id\",\n                \"label\"\n              ]\n            },\n            \"planToWorkForOrganization\": {\n              \"type\": [\n                \"object\",\n                \"null\"\n              ],\n              \"properties\": {\n                \"id\": {\n                  \"type\": \"string\"\n                },\n                \"label\": {\n                  \"type\": \"string\"\n                }\n              },\n              \"required\": [\n                \"id\",\n                \"label\"\n              ]\n            },\n            \"remoteWorking\": {\n              \"type\": [\n                \"string\",\n                \"null\"\n              ]\n            }\n          },\n          \"required\": [\n            \"app\"\n          ]\n        },\n        \"email\": {\n          \"type\": [\n            \"string\",\n            \"null\"\n          ],\n          \"format\": \"email\",\n          \"minLength\": 1\n        },\n        \"firstName\": {\n          \"type\": [\n            \"string\",\n            \"null\"\n          ],\n          \"minLength\": 1\n        },\n        \"id\": {\n          \"type\": \"string\",\n          \"minLength\": 15,\n          \"maxLength\": 15\n        },\n        \"isLocked\": {\n          \"type\": \"boolean\"\n        },\n        \"isTestOrDemo\": {\n          \"type\": \"boolean\"\n        },\n        \"lastName\": {\n          \"type\": [\n            \"string\",\n            \"null\"\n          ],\n          \"minLength\": 1\n        },\n        \"projectId\": {\n          \"type\": \"string\",\n          \"minLength\": 15,\n          \"maxLength\": 15\n        },\n        \"status\": {\n          \"type\": \"string\",\n          \"enum\": [\n            \"No Surveys Complete\",\n            \"No Raters Registered\",\n            \"Insufficient Data\",\n            \"Sufficient Data\",\n            \"All Surveys Complete\",\n            \"Results Viewed\",\n            \"Email Not Yet Sent\",\n            \"Rater email not contacted\",\n            \"PSE needs to be scored manually after submission\",\n            \"No Surveys Assigned\"\n          ]\n        },\n        \"sapClientId\": {\n          \"type\": \"string\",\n          \"minLength\": 1\n        }\n      },\n      \"required\": [\n        \"assessments\",\n        \"dates\",\n        \"demographics\",\n        \"email\",\n        \"firstName\",\n        \"id\",\n        \"isLocked\",\n        \"isTestOrDemo\",\n        \"lastName\",\n        \"projectId\",\n        \"status\",\n        \"sapClientId\"\n      ]\n    }\n  },\n  \"required\": [\n    \"product_name\",\n    \"schema_version\",\n    \"schema\",\n    \"data\"\n  ]\n}","kf_360_role-1.0":"{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"title\": \"Role payload schema\",\n  \"properties\": {\n    \"product_name\": {\n      \"type\": \"string\"\n    },\n    \"schema_version\": {\n      \"type\": \"string\"\n    },\n    \"schema\": {\n      \"type\": \"string\"\n    },\n    \"data\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"adminGroups\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"owner\": {\n              \"type\": \"string\",\n              \"minLength\": 1,\n              \"maxLength\": 15,\n              \"description\": \"The admin group that created the KF360 role\"\n            }\n          },\n          \"required\": [\n            \"owner\"\n          ]\n        },\n        \"competencies\": {\n          \"type\": \"array\",\n          \"minItems\": 1,\n          \"items\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"id\": {\n                \"type\": \"string\",\n                \"description\": \"The competency id\"\n              },\n              \"stage\": {\n                \"type\": [\n                  \"number\",\n                  \"null\"\n                ],\n                \"description\": \"The selected stage for the competency\"\n              }\n            },\n            \"required\": [\n              \"id\",\n              \"stage\"\n            ]\n          }\n        },\n        \"id\": {\n          \"type\": \"number\",\n          \"description\": \"The id for the KF360 role\"\n        },\n        \"isActive\": {\n          \"type\": \"boolean\",\n          \"description\": \"If the KF360 role is active and can be used\"\n        },\n        \"model\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"id\": {\n              \"type\": \"string\",\n              \"minLength\": 1,\n              \"description\": \"The CMS manifest id for the KF360 model\"\n            },\n            \"name\": {\n              \"type\": \"string\",\n              \"minLength\": 1,\n              \"description\": \"Model name\"\n            },\n            \"version\": {\n              \"type\": \"string\",\n               \"minLength\": 1,\n              \"description\": \"The version of the manifest\"\n            }\n          },\n          \"required\": [\n            \"id\",\n            \"name\",\n            \"version\"\n          ]\n        },\n        \"name\": {\n          \"type\": \"string\",\n          \"description\": \"The name for the KF360 role\"\n        },\n        \"options\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"norm\": {\n              \"type\": [\"string\",\"null\"]\n            }\n          },\n          \"required\": []\n        },\n        \"sapClientId\": {\n          \"type\": \"string\",\n          \"description\": \"The organization id from SAP associated with the client\"\n        }\n      },\n      \"required\": [\n        \"adminGroups\",\n        \"competencies\",\n        \"id\",\n        \"isActive\",\n        \"model\",\n        \"name\",\n        \"options\",\n        \"sapClientId\"\n      ]\n    }\n  },\n  \"required\": [\n    \"product_name\",\n    \"schema_version\",\n    \"schema\",\n    \"data\"\n  ]\n}"},"propertyDescriptors":{"kf_360_project-1.0":{"name":"kf_360_project-1.0","displayName":"kf_360_project-1.0","identifiesControllerService":false,"sensitive":false},"JSON Schema Version":{"name":"JSON Schema Version","displayName":"JSON Schema Version","identifiesControllerService":false,"sensitive":false},"kf_360_score-1.0":{"name":"kf_360_score-1.0","displayName":"kf_360_score-1.0","identifiesControllerService":false,"sensitive":false},"kf_360_participant-1.0":{"name":"kf_360_participant-1.0","displayName":"kf_360_participant-1.0","identifiesControllerService":false,"sensitive":false},"kf_360_role-1.0":{"name":"kf_360_role-1.0","displayName":"kf_360_role-1.0","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.schemaregistry.services.JsonSchemaRegistry","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.27.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"3897610e-6def-3170-822d-16c2a5d45c0b"}],"variables":{},"parameterContextName":"idw_db_secrets","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"ebb2785d-4922-38f6-8742-b6a4e3e95c41"},{"identifier":"63fc915a-3bc4-327c-bf6c-b3a38de824b5","instanceIdentifier":"811b394f-a2fa-13be-0000-00001778a6ca","name":"Project","comments":"","position":{"x":544.0,"y":-376.0},"processGroups":[{"identifier":"23b7d7ef-004f-32f2-8163-fc0362e62218","instanceIdentifier":"896616d7-0195-1000-0000-00005f2aa7e7","name":"project_assessment","comments":"","position":{"x":488.0,"y":1040.0},"processGroups":[{"identifier":"656720f1-9c40-38b9-b77d-76535de7913c","instanceIdentifier":"c0813041-9ad4-1ab6-8201-b91769581bd3","name":"FRAME LOGS","comments":"","position":{"x":1048.0,"y":584.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"1b6144ed-5f50-3630-870e-e8d274373100","instanceIdentifier":"4b603654-ec83-1024-8d1a-c04e6d3f0d16","name":"Merge project_assessments","comments":"","position":{"x":984.0,"y":104.0},"type":"org.apache.nifi.processors.standard.MergeContent","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Keep Path":"false","Maximum Group Size":null,"Merge Strategy":"Bin-Packing Algorithm","Attribute Strategy":"Keep All Unique Attributes","Compression Level":"1","Maximum Number of Entries":"10000","Minimum Group Size":"0 B","Maximum number of Bins":"2","Tar Modified Time":"${file.lastModifiedTime}","Delimiter Strategy":"Do Not Use Delimiters","Merge Format":"Binary Concatenation","Footer File":null,"Max Bin Age":"1 min","Demarcator File":null,"Correlation Attribute Name":"merge_key","Header File":null,"mergecontent-metadata-strategy":"Do Not Merge Uncommon Metadata","Minimum Number of Entries":"1000"},"propertyDescriptors":{"Keep Path":{"name":"Keep Path","displayName":"Keep Path","identifiesControllerService":false,"sensitive":false},"Maximum Group Size":{"name":"Maximum Group Size","displayName":"Maximum Group Size","identifiesControllerService":false,"sensitive":false},"Merge Strategy":{"name":"Merge Strategy","displayName":"Merge Strategy","identifiesControllerService":false,"sensitive":false},"Attribute Strategy":{"name":"Attribute Strategy","displayName":"Attribute Strategy","identifiesControllerService":false,"sensitive":false},"Compression Level":{"name":"Compression Level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"Maximum Number of Entries":{"name":"Maximum Number of Entries","displayName":"Maximum Number of Entries","identifiesControllerService":false,"sensitive":false},"Minimum Group Size":{"name":"Minimum Group Size","displayName":"Minimum Group Size","identifiesControllerService":false,"sensitive":false},"Maximum number of Bins":{"name":"Maximum number of Bins","displayName":"Maximum number of Bins","identifiesControllerService":false,"sensitive":false},"Tar Modified Time":{"name":"Tar Modified Time","displayName":"Tar Modified Time","identifiesControllerService":false,"sensitive":false},"Delimiter Strategy":{"name":"Delimiter Strategy","displayName":"Delimiter Strategy","identifiesControllerService":false,"sensitive":false},"Merge Format":{"name":"Merge Format","displayName":"Merge Format","identifiesControllerService":false,"sensitive":false},"Footer File":{"name":"Footer File","displayName":"Footer","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Max Bin Age":{"name":"Max Bin Age","displayName":"Max Bin Age","identifiesControllerService":false,"sensitive":false},"Demarcator File":{"name":"Demarcator File","displayName":"Demarcator","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Correlation Attribute Name":{"name":"Correlation Attribute Name","displayName":"Correlation Attribute Name","identifiesControllerService":false,"sensitive":false},"Header File":{"name":"Header File","displayName":"Header","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"mergecontent-metadata-strategy":{"name":"mergecontent-metadata-strategy","displayName":"Metadata Strategy","identifiesControllerService":false,"sensitive":false},"Minimum Number of Entries":{"name":"Minimum Number of Entries","displayName":"Minimum Number of Entries","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"656720f1-9c40-38b9-b77d-76535de7913c"},{"identifier":"df4e1c3c-51df-35c2-b715-7280f3ce3d58","instanceIdentifier":"48593ef4-c6a6-1664-99cf-33d64d648f67","name":"DB_OPERATION_LOG_ATTRIBUTE","comments":"","position":{"x":984.0,"y":312.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"${flow_name}-Project_assessment","extras":"project_assessment : ${merge.count}","flow_name":"${flow_name}","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"extras":{"name":"extras","displayName":"extras","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"656720f1-9c40-38b9-b77d-76535de7913c"},{"identifier":"5c7cec9a-4580-3c71-9a4d-ec4a68d97a54","instanceIdentifier":"ecdb3cab-080d-150c-b693-1e31fdf4b566","name":"UpdateAttribute","comments":"","position":{"x":984.0,"y":-112.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","merge_key":"${app_uuid}${projectId}${error.message:isEmpty()}${error.sql.state}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"merge_key":{"name":"merge_key","displayName":"merge_key","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"656720f1-9c40-38b9-b77d-76535de7913c"}],"inputPorts":[{"identifier":"1008e348-8ffc-3f6f-a524-b6ceb3277bd4","instanceIdentifier":"757633e0-f84e-1d19-93d1-7c98f788e5ff","name":"log_ip_port","comments":"","position":{"x":1040.0,"y":-240.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"656720f1-9c40-38b9-b77d-76535de7913c"}],"outputPorts":[{"identifier":"2bced172-09f3-3c6f-a2ec-756c99141afd","instanceIdentifier":"2ed7365c-ceed-1c96-be73-7e576b4dda59","name":"log_op_port","comments":"","position":{"x":1040.0,"y":536.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"656720f1-9c40-38b9-b77d-76535de7913c"}],"connections":[{"identifier":"ecdeb8ee-698a-32a1-9545-13294f91da91","instanceIdentifier":"f8e93c13-e1a2-1c42-b84b-f1a38ea03d65","name":"","source":{"id":"1008e348-8ffc-3f6f-a524-b6ceb3277bd4","type":"INPUT_PORT","groupId":"656720f1-9c40-38b9-b77d-76535de7913c","name":"log_ip_port","comments":"","instanceIdentifier":"757633e0-f84e-1d19-93d1-7c98f788e5ff"},"destination":{"id":"5c7cec9a-4580-3c71-9a4d-ec4a68d97a54","type":"PROCESSOR","groupId":"656720f1-9c40-38b9-b77d-76535de7913c","name":"UpdateAttribute","comments":"","instanceIdentifier":"ecdb3cab-080d-150c-b693-1e31fdf4b566"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"656720f1-9c40-38b9-b77d-76535de7913c"},{"identifier":"a8682e2e-6389-3eba-990f-70fd4847ef59","instanceIdentifier":"e8d83f01-5bdf-1fac-91c2-a6b939719f91","name":"","source":{"id":"df4e1c3c-51df-35c2-b715-7280f3ce3d58","type":"PROCESSOR","groupId":"656720f1-9c40-38b9-b77d-76535de7913c","name":"DB_OPERATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"48593ef4-c6a6-1664-99cf-33d64d648f67"},"destination":{"id":"2bced172-09f3-3c6f-a2ec-756c99141afd","type":"OUTPUT_PORT","groupId":"656720f1-9c40-38b9-b77d-76535de7913c","name":"log_op_port","comments":"","instanceIdentifier":"2ed7365c-ceed-1c96-be73-7e576b4dda59"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"656720f1-9c40-38b9-b77d-76535de7913c"},{"identifier":"b1692c90-48e3-3f5d-8db3-4dcbdcf62e67","instanceIdentifier":"22ec31b2-3aaa-1bea-8030-15a398d729e0","name":"","source":{"id":"5c7cec9a-4580-3c71-9a4d-ec4a68d97a54","type":"PROCESSOR","groupId":"656720f1-9c40-38b9-b77d-76535de7913c","name":"UpdateAttribute","comments":"","instanceIdentifier":"ecdb3cab-080d-150c-b693-1e31fdf4b566"},"destination":{"id":"1b6144ed-5f50-3630-870e-e8d274373100","type":"PROCESSOR","groupId":"656720f1-9c40-38b9-b77d-76535de7913c","name":"Merge project_assessments","comments":"","instanceIdentifier":"4b603654-ec83-1024-8d1a-c04e6d3f0d16"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"SINGLE_NODE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"656720f1-9c40-38b9-b77d-76535de7913c"},{"identifier":"60d5be40-706d-3053-a928-0019b651d77a","instanceIdentifier":"c7dc38b6-2eb0-1dcb-97ee-9f1736dbe989","name":"","source":{"id":"1b6144ed-5f50-3630-870e-e8d274373100","type":"PROCESSOR","groupId":"656720f1-9c40-38b9-b77d-76535de7913c","name":"Merge project_assessments","comments":"","instanceIdentifier":"4b603654-ec83-1024-8d1a-c04e6d3f0d16"},"destination":{"id":"df4e1c3c-51df-35c2-b715-7280f3ce3d58","type":"PROCESSOR","groupId":"656720f1-9c40-38b9-b77d-76535de7913c","name":"DB_OPERATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"48593ef4-c6a6-1664-99cf-33d64d648f67"},"labelIndex":1,"zIndex":0,"selectedRelationships":["merged"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"656720f1-9c40-38b9-b77d-76535de7913c"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"23b7d7ef-004f-32f2-8163-fc0362e62218"},{"identifier":"7b6d6abd-b552-3bb4-ad08-7b3ce26e68e8","instanceIdentifier":"8d98910a-0195-1000-0000-0000068baf06","name":"project_assessment_rater_count_check","comments":"","position":{"x":416.0,"y":872.0},"processGroups":[{"identifier":"d981a7a4-a785-3dde-8f78-8d6f7f1d5334","instanceIdentifier":"68503ec2-63c8-1711-aa83-15ab74ec5d85","name":"FRAME LOGS","comments":"","position":{"x":464.0,"y":1192.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"1b6144ed-5f50-3630-870e-e8d274373100","instanceIdentifier":"27513437-d2d0-105f-bb50-e035e64cab9c","name":"Merge project_assessments","comments":"","position":{"x":984.0,"y":104.0},"type":"org.apache.nifi.processors.standard.MergeContent","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Keep Path":"false","Maximum Group Size":null,"Merge Strategy":"Bin-Packing Algorithm","Attribute Strategy":"Keep All Unique Attributes","Compression Level":"1","Maximum Number of Entries":"10000","Minimum Group Size":"0 B","Maximum number of Bins":"2","Tar Modified Time":"${file.lastModifiedTime}","Delimiter Strategy":"Do Not Use Delimiters","Merge Format":"Binary Concatenation","Footer File":null,"Max Bin Age":"1 min","Demarcator File":null,"Correlation Attribute Name":"merge_key","Header File":null,"mergecontent-metadata-strategy":"Do Not Merge Uncommon Metadata","Minimum Number of Entries":"1000"},"propertyDescriptors":{"Keep Path":{"name":"Keep Path","displayName":"Keep Path","identifiesControllerService":false,"sensitive":false},"Maximum Group Size":{"name":"Maximum Group Size","displayName":"Maximum Group Size","identifiesControllerService":false,"sensitive":false},"Merge Strategy":{"name":"Merge Strategy","displayName":"Merge Strategy","identifiesControllerService":false,"sensitive":false},"Attribute Strategy":{"name":"Attribute Strategy","displayName":"Attribute Strategy","identifiesControllerService":false,"sensitive":false},"Compression Level":{"name":"Compression Level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"Maximum Number of Entries":{"name":"Maximum Number of Entries","displayName":"Maximum Number of Entries","identifiesControllerService":false,"sensitive":false},"Minimum Group Size":{"name":"Minimum Group Size","displayName":"Minimum Group Size","identifiesControllerService":false,"sensitive":false},"Maximum number of Bins":{"name":"Maximum number of Bins","displayName":"Maximum number of Bins","identifiesControllerService":false,"sensitive":false},"Tar Modified Time":{"name":"Tar Modified Time","displayName":"Tar Modified Time","identifiesControllerService":false,"sensitive":false},"Delimiter Strategy":{"name":"Delimiter Strategy","displayName":"Delimiter Strategy","identifiesControllerService":false,"sensitive":false},"Merge Format":{"name":"Merge Format","displayName":"Merge Format","identifiesControllerService":false,"sensitive":false},"Footer File":{"name":"Footer File","displayName":"Footer","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Max Bin Age":{"name":"Max Bin Age","displayName":"Max Bin Age","identifiesControllerService":false,"sensitive":false},"Demarcator File":{"name":"Demarcator File","displayName":"Demarcator","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"Correlation Attribute Name":{"name":"Correlation Attribute Name","displayName":"Correlation Attribute Name","identifiesControllerService":false,"sensitive":false},"Header File":{"name":"Header File","displayName":"Header","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["TEXT","FILE"]}},"mergecontent-metadata-strategy":{"name":"mergecontent-metadata-strategy","displayName":"Metadata Strategy","identifiesControllerService":false,"sensitive":false},"Minimum Number of Entries":{"name":"Minimum Number of Entries","displayName":"Minimum Number of Entries","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"d981a7a4-a785-3dde-8f78-8d6f7f1d5334"},{"identifier":"df4e1c3c-51df-35c2-b715-7280f3ce3d58","instanceIdentifier":"1a553b6b-172d-1ec3-90c8-6d3020b19430","name":"DB_OPERATION_LOG_ATTRIBUTE","comments":"","position":{"x":984.0,"y":312.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"${flow_name}-project_assessment_rater_count_check","flow_name":"${flow_name}","extras":"project_assessment_raters : ${merge.count}","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"extras":{"name":"extras","displayName":"extras","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"d981a7a4-a785-3dde-8f78-8d6f7f1d5334"},{"identifier":"5c7cec9a-4580-3c71-9a4d-ec4a68d97a54","instanceIdentifier":"14763372-84af-1175-89db-bb5df0cc453f","name":"UpdateAttribute","comments":"","position":{"x":984.0,"y":-112.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","merge_key":"${app_uuid}${cohort_project_pkey}${error.message:isEmpty()}${error.sql.state}","manual_error":"false","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"merge_key":{"name":"merge_key","displayName":"merge_key","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"d981a7a4-a785-3dde-8f78-8d6f7f1d5334"}],"inputPorts":[{"identifier":"1008e348-8ffc-3f6f-a524-b6ceb3277bd4","instanceIdentifier":"ed5c31a8-4794-1271-94f7-9272d092d5af","name":"log_ip_port","comments":"","position":{"x":1040.0,"y":-240.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"d981a7a4-a785-3dde-8f78-8d6f7f1d5334"}],"outputPorts":[{"identifier":"2bced172-09f3-3c6f-a2ec-756c99141afd","instanceIdentifier":"149a3766-3422-1e4e-90f8-6e4e8e48e9e6","name":"log_op_port","comments":"","position":{"x":1040.0,"y":536.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"d981a7a4-a785-3dde-8f78-8d6f7f1d5334"}],"connections":[{"identifier":"ecdeb8ee-698a-32a1-9545-13294f91da91","instanceIdentifier":"2d0d3bb5-1a3c-15cf-9b2d-3fb0673a4298","name":"","source":{"id":"1008e348-8ffc-3f6f-a524-b6ceb3277bd4","type":"INPUT_PORT","groupId":"d981a7a4-a785-3dde-8f78-8d6f7f1d5334","name":"log_ip_port","comments":"","instanceIdentifier":"ed5c31a8-4794-1271-94f7-9272d092d5af"},"destination":{"id":"5c7cec9a-4580-3c71-9a4d-ec4a68d97a54","type":"PROCESSOR","groupId":"d981a7a4-a785-3dde-8f78-8d6f7f1d5334","name":"UpdateAttribute","comments":"","instanceIdentifier":"14763372-84af-1175-89db-bb5df0cc453f"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d981a7a4-a785-3dde-8f78-8d6f7f1d5334"},{"identifier":"a8682e2e-6389-3eba-990f-70fd4847ef59","instanceIdentifier":"f03f3aec-a1cd-10fd-a25c-779766895e28","name":"","source":{"id":"df4e1c3c-51df-35c2-b715-7280f3ce3d58","type":"PROCESSOR","groupId":"d981a7a4-a785-3dde-8f78-8d6f7f1d5334","name":"DB_OPERATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"1a553b6b-172d-1ec3-90c8-6d3020b19430"},"destination":{"id":"2bced172-09f3-3c6f-a2ec-756c99141afd","type":"OUTPUT_PORT","groupId":"d981a7a4-a785-3dde-8f78-8d6f7f1d5334","name":"log_op_port","comments":"","instanceIdentifier":"149a3766-3422-1e4e-90f8-6e4e8e48e9e6"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d981a7a4-a785-3dde-8f78-8d6f7f1d5334"},{"identifier":"b1692c90-48e3-3f5d-8db3-4dcbdcf62e67","instanceIdentifier":"3e1f3c88-dddb-1246-a317-ccc90afd343d","name":"","source":{"id":"5c7cec9a-4580-3c71-9a4d-ec4a68d97a54","type":"PROCESSOR","groupId":"d981a7a4-a785-3dde-8f78-8d6f7f1d5334","name":"UpdateAttribute","comments":"","instanceIdentifier":"14763372-84af-1175-89db-bb5df0cc453f"},"destination":{"id":"1b6144ed-5f50-3630-870e-e8d274373100","type":"PROCESSOR","groupId":"d981a7a4-a785-3dde-8f78-8d6f7f1d5334","name":"Merge project_assessments","comments":"","instanceIdentifier":"27513437-d2d0-105f-bb50-e035e64cab9c"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"SINGLE_NODE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d981a7a4-a785-3dde-8f78-8d6f7f1d5334"},{"identifier":"60d5be40-706d-3053-a928-0019b651d77a","instanceIdentifier":"1f163fac-70a6-133a-92db-255293f28e9b","name":"","source":{"id":"1b6144ed-5f50-3630-870e-e8d274373100","type":"PROCESSOR","groupId":"d981a7a4-a785-3dde-8f78-8d6f7f1d5334","name":"Merge project_assessments","comments":"","instanceIdentifier":"27513437-d2d0-105f-bb50-e035e64cab9c"},"destination":{"id":"df4e1c3c-51df-35c2-b715-7280f3ce3d58","type":"PROCESSOR","groupId":"d981a7a4-a785-3dde-8f78-8d6f7f1d5334","name":"DB_OPERATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"1a553b6b-172d-1ec3-90c8-6d3020b19430"},"labelIndex":1,"zIndex":0,"selectedRelationships":["merged"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"d981a7a4-a785-3dde-8f78-8d6f7f1d5334"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"7b6d6abd-b552-3bb4-ad08-7b3ce26e68e8"}],"remoteProcessGroups":[],"processors":[{"identifier":"39778e5e-1d73-37ea-810a-d093c5019069","instanceIdentifier":"95a630f9-07a8-1575-a484-e06b572deb9e","name":"Upsert Project Assessments Rater Counts","comments":"","position":{"x":-160.0,"y":1208.0},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":"WITH rater_type AS (\n    SELECT rater_type_key \n    FROM ${db_schema}.a360_rater_type \n    WHERE rater_id = '${id}' \n    LIMIT 1\n)\nINSERT INTO ${db_schema}.a360_project_assessment_rater_count_check (\n    project_assessment_key, \n    rater_type_key, \n    minimum_required_count, \n    minimum_required_count_for_report, \n    required\n)\nVALUES (\n    '${sql.generated.key}', \n    (SELECT rater_type_key FROM rater_type), \n    ${minimumRequired}, \n    ${minimumRequiredForReport}, \n    '${required}'\n)\nON CONFLICT (project_assessment_key, rater_type_key)\nDO UPDATE SET\n    minimum_required_count = EXCLUDED.minimum_required_count,\n    minimum_required_count_for_report = EXCLUDED.minimum_required_count_for_report,\n    required = EXCLUDED.required\nWHERE EXISTS (\n    SELECT 1\n    FROM rater_type\n    WHERE rater_type_key IS NOT NULL\n)\nRETURNING a360_project_assessment_rater_count_check_key;","Transaction Timeout":null,"Batch Size":"50","Obtain Generated Keys":"true","JDBC Connection Pool":"b7d4ceb2-1ff3-34f1-8b82-7f9317e1e31a","database-session-autocommit":"true","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"0 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":2,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":5,"retriedRelationships":["failure","retry"],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"5 sec","componentType":"PROCESSOR","groupIdentifier":"7b6d6abd-b552-3bb4-ad08-7b3ce26e68e8"},{"identifier":"0e002335-7bef-371d-bf90-470cf592b8b9","instanceIdentifier":"3f3035ee-9e9f-12a8-a71a-e56f35d801d6","name":"Split Assessment Array","comments":"","position":{"x":-168.0,"y":784.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.raterCategories.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"7b6d6abd-b552-3bb4-ad08-7b3ce26e68e8"},{"identifier":"1d3c3bd6-785b-3a79-ba91-9bf2c692aa15","instanceIdentifier":"1bcc35cd-78b6-1a4c-9746-ced5a4e454d3","name":"Rater Count Data to Attributes","comments":"","position":{"x":-167.33452100520094,"y":989.2971968664131},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"minimumRequired":"$.minimumRequired","Destination":"flowfile-attribute","Max String Length":"50 MB","Return Type":"json","minimumRequiredForReport":"$.minimumRequiredForReport","Null Value Representation":"the string 'null'","id":"$.id","required":"$.required","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"minimumRequired":{"name":"minimumRequired","displayName":"minimumRequired","identifiesControllerService":false,"sensitive":false},"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"minimumRequiredForReport":{"name":"minimumRequiredForReport","displayName":"minimumRequiredForReport","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"id":{"name":"id","displayName":"id","identifiesControllerService":false,"sensitive":false},"required":{"name":"required","displayName":"required","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":2,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"7b6d6abd-b552-3bb4-ad08-7b3ce26e68e8"}],"inputPorts":[{"identifier":"01a50aa8-74d0-3d04-a2f1-b2509c469134","instanceIdentifier":"8d98fbd6-0195-1000-0000-00002617edd0","name":"input","position":{"x":-112.0,"y":648.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"7b6d6abd-b552-3bb4-ad08-7b3ce26e68e8"}],"outputPorts":[{"identifier":"d9206fb9-2743-3f01-9edf-c18824b0dbb7","instanceIdentifier":"cdc3e24d-0195-1000-ffff-ffffba27ad17","name":"log_out","position":{"x":536.0,"y":1472.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"7b6d6abd-b552-3bb4-ad08-7b3ce26e68e8"}],"connections":[{"identifier":"20d82331-596b-3651-935a-e6d87b4d81db","instanceIdentifier":"3f30366b-9e9f-12a8-ffff-ffffa8287874","name":"","source":{"id":"1d3c3bd6-785b-3a79-ba91-9bf2c692aa15","type":"PROCESSOR","groupId":"7b6d6abd-b552-3bb4-ad08-7b3ce26e68e8","name":"Rater Count Data to Attributes","comments":"","instanceIdentifier":"1bcc35cd-78b6-1a4c-9746-ced5a4e454d3"},"destination":{"id":"39778e5e-1d73-37ea-810a-d093c5019069","type":"PROCESSOR","groupId":"7b6d6abd-b552-3bb4-ad08-7b3ce26e68e8","name":"Upsert Project Assessments Rater Counts","comments":"","instanceIdentifier":"95a630f9-07a8-1575-a484-e06b572deb9e"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"7b6d6abd-b552-3bb4-ad08-7b3ce26e68e8"},{"identifier":"120dcc57-33f1-3219-9bd9-59cd0301ad18","instanceIdentifier":"8d990fc8-0195-1000-0000-00006c35ce86","name":"","source":{"id":"01a50aa8-74d0-3d04-a2f1-b2509c469134","type":"INPUT_PORT","groupId":"7b6d6abd-b552-3bb4-ad08-7b3ce26e68e8","name":"input","instanceIdentifier":"8d98fbd6-0195-1000-0000-00002617edd0"},"destination":{"id":"0e002335-7bef-371d-bf90-470cf592b8b9","type":"PROCESSOR","groupId":"7b6d6abd-b552-3bb4-ad08-7b3ce26e68e8","name":"Split Assessment Array","comments":"","instanceIdentifier":"3f3035ee-9e9f-12a8-a71a-e56f35d801d6"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"7b6d6abd-b552-3bb4-ad08-7b3ce26e68e8"},{"identifier":"c5e65e7f-194b-3562-939f-c1d9ae26b1aa","instanceIdentifier":"516c397c-7aa9-1228-ffff-ffff85ed7701","name":"","source":{"id":"39778e5e-1d73-37ea-810a-d093c5019069","type":"PROCESSOR","groupId":"7b6d6abd-b552-3bb4-ad08-7b3ce26e68e8","name":"Upsert Project Assessments Rater Counts","comments":"","instanceIdentifier":"95a630f9-07a8-1575-a484-e06b572deb9e"},"destination":{"id":"1008e348-8ffc-3f6f-a524-b6ceb3277bd4","type":"INPUT_PORT","groupId":"d981a7a4-a785-3dde-8f78-8d6f7f1d5334","name":"log_ip_port","comments":"","instanceIdentifier":"ed5c31a8-4794-1271-94f7-9272d092d5af"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success","failure","retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"7b6d6abd-b552-3bb4-ad08-7b3ce26e68e8"},{"identifier":"ce50f7cb-830d-3cc2-94ea-d0f05affbe1f","instanceIdentifier":"3f3035ff-9e9f-12a8-ffff-ffff811ecd85","name":"","source":{"id":"0e002335-7bef-371d-bf90-470cf592b8b9","type":"PROCESSOR","groupId":"7b6d6abd-b552-3bb4-ad08-7b3ce26e68e8","name":"Split Assessment Array","comments":"","instanceIdentifier":"3f3035ee-9e9f-12a8-a71a-e56f35d801d6"},"destination":{"id":"1d3c3bd6-785b-3a79-ba91-9bf2c692aa15","type":"PROCESSOR","groupId":"7b6d6abd-b552-3bb4-ad08-7b3ce26e68e8","name":"Rater Count Data to Attributes","comments":"","instanceIdentifier":"1bcc35cd-78b6-1a4c-9746-ced5a4e454d3"},"labelIndex":1,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"7b6d6abd-b552-3bb4-ad08-7b3ce26e68e8"},{"identifier":"72ed2b44-f31c-3d09-ba89-182cf3f70990","instanceIdentifier":"3e1f3ca6-dddb-1246-ffff-ffffe23ebdfa","name":"","source":{"id":"2bced172-09f3-3c6f-a2ec-756c99141afd","type":"OUTPUT_PORT","groupId":"d981a7a4-a785-3dde-8f78-8d6f7f1d5334","name":"log_op_port","comments":"","instanceIdentifier":"149a3766-3422-1e4e-90f8-6e4e8e48e9e6"},"destination":{"id":"d9206fb9-2743-3f01-9edf-c18824b0dbb7","type":"OUTPUT_PORT","groupId":"7b6d6abd-b552-3bb4-ad08-7b3ce26e68e8","name":"log_out","instanceIdentifier":"cdc3e24d-0195-1000-ffff-ffffba27ad17"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"7b6d6abd-b552-3bb4-ad08-7b3ce26e68e8"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"idw_db_secrets","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"23b7d7ef-004f-32f2-8163-fc0362e62218"}],"remoteProcessGroups":[],"processors":[{"identifier":"b3f67a37-2e01-3748-a470-18b8b85423ad","instanceIdentifier":"75bf35ab-e880-1208-b90d-dc433641f4ba","name":"Split Assessment Array","comments":"","position":{"x":416.0,"y":-40.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.assessments.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"23b7d7ef-004f-32f2-8163-fc0362e62218"},{"identifier":"c118be42-4a13-39b8-8b6f-3ffc442dada7","instanceIdentifier":"14363f19-f36d-153d-900c-5a53234fc56a","name":"Upsert Project assessments","comments":"","position":{"x":424.0,"y":608.0},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":"INSERT INTO ${db_schema}.project_assessments (cohort_project_key, source_assessment_type_id, instrument,assessment_type)\nVALUES ('${cohort_project_pkey}','${assessment_id}', '${assessment_instrument}','${surveyType}')\nON CONFLICT (cohort_project_key,source_assessment_type_id)\nDO UPDATE SET\n    instrument = EXCLUDED.instrument,\n    source_assessment_type_id = EXCLUDED.source_assessment_type_id,\n\tassessment_type=EXCLUDED.assessment_type\nRETURNING project_assessment_key;","Transaction Timeout":null,"Batch Size":"50","Obtain Generated Keys":"true","JDBC Connection Pool":"b7d4ceb2-1ff3-34f1-8b82-7f9317e1e31a","database-session-autocommit":"true","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"0 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":2,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":5,"retriedRelationships":["failure","retry"],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"5 sec","componentType":"PROCESSOR","groupIdentifier":"23b7d7ef-004f-32f2-8163-fc0362e62218"},{"identifier":"4cd70f78-1755-301f-bcfe-93457bac3358","instanceIdentifier":"310b396e-2584-19ec-8e15-8a17c9b81810","name":"Assessments Data to Attributes","comments":"","position":{"x":416.0,"y":176.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"surveyType":"$.kF360.surveySetup.surveyType","Destination":"flowfile-attribute","surveyId":"$.surveyId","Max String Length":"50 MB","Return Type":"json","Null Value Representation":"the string 'null'","assessment_id":"$.id","assessment_type":"$.type","kF360RoleType":"$.kF360RoleType","assessment_instrument":"$.type","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"surveyType":{"name":"surveyType","displayName":"surveyType","identifiesControllerService":false,"sensitive":false},"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"surveyId":{"name":"surveyId","displayName":"surveyId","identifiesControllerService":false,"sensitive":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"assessment_id":{"name":"assessment_id","displayName":"assessment_id","identifiesControllerService":false,"sensitive":false},"assessment_type":{"name":"assessment_type","displayName":"assessment_type","identifiesControllerService":false,"sensitive":false},"kF360RoleType":{"name":"kF360RoleType","displayName":"kF360RoleType","identifiesControllerService":false,"sensitive":false},"assessment_instrument":{"name":"assessment_instrument","displayName":"assessment_instrument","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":2,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"23b7d7ef-004f-32f2-8163-fc0362e62218"},{"identifier":"e7aff5d9-ce14-3863-9488-90ce140f0524","instanceIdentifier":"f8bb42a9-811a-19e5-ffff-ffffe18ef643","name":"RouteOnAttribute","comments":"","position":{"x":416.0,"y":392.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"validType":"${assessment_instrument:equals('KF360')}","Routing Strategy":"Route to Property name"},"propertyDescriptors":{"validType":{"name":"validType","displayName":"validType","identifiesControllerService":false,"sensitive":false},"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"23b7d7ef-004f-32f2-8163-fc0362e62218"}],"inputPorts":[{"identifier":"953eb252-4139-39c9-b22d-995f2ee572b1","instanceIdentifier":"89663b25-0195-1000-ffff-ffffeb0cf313","name":"input","position":{"x":472.0,"y":-168.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"23b7d7ef-004f-32f2-8163-fc0362e62218"}],"outputPorts":[{"identifier":"037961ab-f321-3acf-8f87-bb7eb49604da","instanceIdentifier":"9049376c-7a59-16db-8168-cf363dd1a6ee","name":"log_op_port","position":{"x":1120.0,"y":920.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"23b7d7ef-004f-32f2-8163-fc0362e62218"}],"connections":[{"identifier":"7212e76f-e8b2-333f-beb6-6ed1cc3ceddb","instanceIdentifier":"ed803547-6ab4-1260-8aec-157b07ef5f6b","name":"","source":{"id":"4cd70f78-1755-301f-bcfe-93457bac3358","type":"PROCESSOR","groupId":"23b7d7ef-004f-32f2-8163-fc0362e62218","name":"Assessments Data to Attributes","comments":"","instanceIdentifier":"310b396e-2584-19ec-8e15-8a17c9b81810"},"destination":{"id":"e7aff5d9-ce14-3863-9488-90ce140f0524","type":"PROCESSOR","groupId":"23b7d7ef-004f-32f2-8163-fc0362e62218","name":"RouteOnAttribute","comments":"","instanceIdentifier":"f8bb42a9-811a-19e5-ffff-ffffe18ef643"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"23b7d7ef-004f-32f2-8163-fc0362e62218"},{"identifier":"73e5bbe4-78fa-3a36-b55c-798412561fae","instanceIdentifier":"dcce376f-060c-14bd-a4fb-2547b4ea33e8","name":"","source":{"id":"c118be42-4a13-39b8-8b6f-3ffc442dada7","type":"PROCESSOR","groupId":"23b7d7ef-004f-32f2-8163-fc0362e62218","name":"Upsert Project assessments","comments":"","instanceIdentifier":"14363f19-f36d-153d-900c-5a53234fc56a"},"destination":{"id":"01a50aa8-74d0-3d04-a2f1-b2509c469134","type":"INPUT_PORT","groupId":"7b6d6abd-b552-3bb4-ad08-7b3ce26e68e8","name":"input","instanceIdentifier":"8d98fbd6-0195-1000-0000-00002617edd0"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"23b7d7ef-004f-32f2-8163-fc0362e62218"},{"identifier":"9bff19ad-bbcb-3795-978f-18923e0b4b65","instanceIdentifier":"cdc42ef7-0195-1000-0000-000045f61c57","name":"","source":{"id":"d9206fb9-2743-3f01-9edf-c18824b0dbb7","type":"OUTPUT_PORT","groupId":"7b6d6abd-b552-3bb4-ad08-7b3ce26e68e8","name":"log_out","instanceIdentifier":"cdc3e24d-0195-1000-ffff-ffffba27ad17"},"destination":{"id":"037961ab-f321-3acf-8f87-bb7eb49604da","type":"OUTPUT_PORT","groupId":"23b7d7ef-004f-32f2-8163-fc0362e62218","name":"log_op_port","instanceIdentifier":"9049376c-7a59-16db-8168-cf363dd1a6ee"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"23b7d7ef-004f-32f2-8163-fc0362e62218"},{"identifier":"d5013cfa-030a-3431-b872-5570e3fbc60c","instanceIdentifier":"4e9e393f-ddf9-1f5f-bea5-7a14f7dab960","name":"","source":{"id":"2bced172-09f3-3c6f-a2ec-756c99141afd","type":"OUTPUT_PORT","groupId":"656720f1-9c40-38b9-b77d-76535de7913c","name":"log_op_port","comments":"","instanceIdentifier":"2ed7365c-ceed-1c96-be73-7e576b4dda59"},"destination":{"id":"037961ab-f321-3acf-8f87-bb7eb49604da","type":"OUTPUT_PORT","groupId":"23b7d7ef-004f-32f2-8163-fc0362e62218","name":"log_op_port","instanceIdentifier":"9049376c-7a59-16db-8168-cf363dd1a6ee"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"23b7d7ef-004f-32f2-8163-fc0362e62218"},{"identifier":"df674507-83f8-306a-8e15-842e620f9242","instanceIdentifier":"8b82ec30-0195-1000-0000-00004d83f486","name":"","source":{"id":"c118be42-4a13-39b8-8b6f-3ffc442dada7","type":"PROCESSOR","groupId":"23b7d7ef-004f-32f2-8163-fc0362e62218","name":"Upsert Project assessments","comments":"","instanceIdentifier":"14363f19-f36d-153d-900c-5a53234fc56a"},"destination":{"id":"1008e348-8ffc-3f6f-a524-b6ceb3277bd4","type":"INPUT_PORT","groupId":"656720f1-9c40-38b9-b77d-76535de7913c","name":"log_ip_port","comments":"","instanceIdentifier":"757633e0-f84e-1d19-93d1-7c98f788e5ff"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success","failure","retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"23b7d7ef-004f-32f2-8163-fc0362e62218"},{"identifier":"9890f637-b5cc-3cec-8f63-daa914af9578","instanceIdentifier":"ed803562-6ab4-1260-ffff-ffffd6edebf9","name":"","source":{"id":"953eb252-4139-39c9-b22d-995f2ee572b1","type":"INPUT_PORT","groupId":"23b7d7ef-004f-32f2-8163-fc0362e62218","name":"input","instanceIdentifier":"89663b25-0195-1000-ffff-ffffeb0cf313"},"destination":{"id":"b3f67a37-2e01-3748-a470-18b8b85423ad","type":"PROCESSOR","groupId":"23b7d7ef-004f-32f2-8163-fc0362e62218","name":"Split Assessment Array","comments":"","instanceIdentifier":"75bf35ab-e880-1208-b90d-dc433641f4ba"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"23b7d7ef-004f-32f2-8163-fc0362e62218"},{"identifier":"422fe260-c41d-30b3-8d12-a80cd93f89d0","instanceIdentifier":"81c83d29-a2a2-11c7-9203-b634df13f782","name":"","source":{"id":"b3f67a37-2e01-3748-a470-18b8b85423ad","type":"PROCESSOR","groupId":"23b7d7ef-004f-32f2-8163-fc0362e62218","name":"Split Assessment Array","comments":"","instanceIdentifier":"75bf35ab-e880-1208-b90d-dc433641f4ba"},"destination":{"id":"4cd70f78-1755-301f-bcfe-93457bac3358","type":"PROCESSOR","groupId":"23b7d7ef-004f-32f2-8163-fc0362e62218","name":"Assessments Data to Attributes","comments":"","instanceIdentifier":"310b396e-2584-19ec-8e15-8a17c9b81810"},"labelIndex":1,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"23b7d7ef-004f-32f2-8163-fc0362e62218"},{"identifier":"aa519355-ea36-3865-93ea-100ca355af05","instanceIdentifier":"f8bb4312-811a-19e5-0000-00004e0b437c","name":"","source":{"id":"e7aff5d9-ce14-3863-9488-90ce140f0524","type":"PROCESSOR","groupId":"23b7d7ef-004f-32f2-8163-fc0362e62218","name":"RouteOnAttribute","comments":"","instanceIdentifier":"f8bb42a9-811a-19e5-ffff-ffffe18ef643"},"destination":{"id":"c118be42-4a13-39b8-8b6f-3ffc442dada7","type":"PROCESSOR","groupId":"23b7d7ef-004f-32f2-8163-fc0362e62218","name":"Upsert Project assessments","comments":"","instanceIdentifier":"14363f19-f36d-153d-900c-5a53234fc56a"},"labelIndex":1,"zIndex":0,"selectedRelationships":["validType"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"23b7d7ef-004f-32f2-8163-fc0362e62218"}],"labels":[],"funnels":[],"controllerServices":[{"identifier":"671f0a7f-f966-388b-83ad-e96a592e63a3","instanceIdentifier":"8b9619c3-0195-1000-0000-00000242e134","name":"SimpleDatabaseLookupService_Rater_Types","comments":"","type":"org.apache.nifi.lookup.db.SimpleDatabaseLookupService","bundle":{"group":"org.apache.nifi","artifact":"nifi-lookup-services-nar","version":"1.27.0"},"properties":{"dbrecord-lookup-dbcp-service":"b7d4ceb2-1ff3-34f1-8b82-7f9317e1e31a","dbrecord-lookup-clear-cache-on-enabled":"true","lookup-value-column":"rater_type_key","dbrecord-lookup-cache-size":"0","dbrecord-lookup-key-column":"rater_id","Cache Expiration":null,"dbrecord-lookup-table-name":"idw.a360_rater_type"},"propertyDescriptors":{"dbrecord-lookup-dbcp-service":{"name":"dbrecord-lookup-dbcp-service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false},"dbrecord-lookup-clear-cache-on-enabled":{"name":"dbrecord-lookup-clear-cache-on-enabled","displayName":"Clear Cache on Enabled","identifiesControllerService":false,"sensitive":false},"lookup-value-column":{"name":"lookup-value-column","displayName":"Lookup Value Column","identifiesControllerService":false,"sensitive":false},"dbrecord-lookup-cache-size":{"name":"dbrecord-lookup-cache-size","displayName":"Cache Size","identifiesControllerService":false,"sensitive":false},"dbrecord-lookup-key-column":{"name":"dbrecord-lookup-key-column","displayName":"Lookup Key Column","identifiesControllerService":false,"sensitive":false},"Cache Expiration":{"name":"Cache Expiration","displayName":"Cache Expiration","identifiesControllerService":false,"sensitive":false},"dbrecord-lookup-table-name":{"name":"dbrecord-lookup-table-name","displayName":"Table Name","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.lookup.StringLookupService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.27.0"}},{"type":"org.apache.nifi.lookup.LookupService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.27.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"23b7d7ef-004f-32f2-8163-fc0362e62218"}],"variables":{},"parameterContextName":"idw_db_secrets","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"63fc915a-3bc4-327c-bf6c-b3a38de824b5"},{"identifier":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836","instanceIdentifier":"75969f26-9ca0-3bcf-8006-b1b280852cb5","name":"project_type","comments":"","position":{"x":488.0,"y":504.0},"processGroups":[{"identifier":"ef1ea403-eed4-394e-9f70-0083d4c6991e","instanceIdentifier":"0d8909b1-5a41-3383-8f48-2984a8d027f6","name":"FRAME LOGS","comments":"","position":{"x":1080.0,"y":240.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"a5d43049-0256-332f-813a-9c118fe81c7a","instanceIdentifier":"dcd3a336-6469-3d9e-b128-b68167ccc574","name":"DB_OPERATION_LOG_ATTRIBUTE","comments":"","position":{"x":568.0,"y":248.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"Project-project_type","flow_name":"Project","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"ef1ea403-eed4-394e-9f70-0083d4c6991e"},{"identifier":"04b6bd7d-f84b-3afa-95ab-d7e16a2b8f4d","instanceIdentifier":"767c19bf-a5ea-383a-a2f2-3d9ebbd24711","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","position":{"x":984.0,"y":248.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"error.sql.state":"404","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"Project-project_type","flow_name":"Project","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}","log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","error.message":"Invalid client_id present: client_id: ${sapClientId}","manual_error":"true","error.code":"404"},"propertyDescriptors":{"error.sql.state":{"name":"error.sql.state","displayName":"error.sql.state","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false},"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"error.message":{"name":"error.message","displayName":"error.message","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"error.code":{"name":"error.code","displayName":"error.code","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"ef1ea403-eed4-394e-9f70-0083d4c6991e"},{"identifier":"ddb3846f-c05e-30cf-8b15-c3169d95031e","instanceIdentifier":"8706225d-5571-30aa-b873-9520eddb7652","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","position":{"x":1400.0,"y":248.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"Project-project_type","flow_name":"Project","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"ef1ea403-eed4-394e-9f70-0083d4c6991e"}],"inputPorts":[{"identifier":"5454116a-3cd8-35e2-a3df-7d08adac256e","instanceIdentifier":"1e1a120c-3e25-3cce-9b8a-3c17f0dea75e","name":"send_db_logs","comments":"","position":{"x":624.0,"y":128.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"ef1ea403-eed4-394e-9f70-0083d4c6991e"},{"identifier":"b4f17064-1529-3d0c-ba58-7144780778d7","instanceIdentifier":"1174c9f1-092b-36ef-81b1-ff2e71437ced","name":"0-client_id_presence","comments":"","position":{"x":1040.0,"y":128.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"ef1ea403-eed4-394e-9f70-0083d4c6991e"},{"identifier":"33432b3d-6e15-392c-832a-984baa913001","instanceIdentifier":"8a135375-a4f3-3eb1-8db5-630ad3e6a9ca","name":"1 - client_id_presence","comments":"","position":{"x":1456.0,"y":120.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"ef1ea403-eed4-394e-9f70-0083d4c6991e"}],"outputPorts":[{"identifier":"5014d334-1779-39e7-bb97-b7820b72c544","instanceIdentifier":"b55815ae-8da4-39c4-9368-4dc82c69edfa","name":"log_op","position":{"x":1040.0,"y":544.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"ef1ea403-eed4-394e-9f70-0083d4c6991e"}],"connections":[{"identifier":"29f4821d-8ea2-3ee3-8839-0cd10a0fe6e8","instanceIdentifier":"3c302c21-b25f-341a-929f-b8ed1e2a2dbf","name":"","source":{"id":"a5d43049-0256-332f-813a-9c118fe81c7a","type":"PROCESSOR","groupId":"ef1ea403-eed4-394e-9f70-0083d4c6991e","name":"DB_OPERATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"dcd3a336-6469-3d9e-b128-b68167ccc574"},"destination":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"ef1ea403-eed4-394e-9f70-0083d4c6991e","name":"log_op","instanceIdentifier":"b55815ae-8da4-39c4-9368-4dc82c69edfa"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ef1ea403-eed4-394e-9f70-0083d4c6991e"},{"identifier":"5484d9e2-49e5-39b9-8cb7-de5188762ff1","instanceIdentifier":"255c73b6-7dc0-35d9-a6f2-f27f0aa969a6","name":"","source":{"id":"b4f17064-1529-3d0c-ba58-7144780778d7","type":"INPUT_PORT","groupId":"ef1ea403-eed4-394e-9f70-0083d4c6991e","name":"0-client_id_presence","comments":"","instanceIdentifier":"1174c9f1-092b-36ef-81b1-ff2e71437ced"},"destination":{"id":"04b6bd7d-f84b-3afa-95ab-d7e16a2b8f4d","type":"PROCESSOR","groupId":"ef1ea403-eed4-394e-9f70-0083d4c6991e","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"767c19bf-a5ea-383a-a2f2-3d9ebbd24711"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ef1ea403-eed4-394e-9f70-0083d4c6991e"},{"identifier":"d6a81567-0342-3be2-8133-bb7db5e43c9a","instanceIdentifier":"7502fded-1443-3297-a2bf-d2602add386d","name":"","source":{"id":"ddb3846f-c05e-30cf-8b15-c3169d95031e","type":"PROCESSOR","groupId":"ef1ea403-eed4-394e-9f70-0083d4c6991e","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"8706225d-5571-30aa-b873-9520eddb7652"},"destination":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"ef1ea403-eed4-394e-9f70-0083d4c6991e","name":"log_op","instanceIdentifier":"b55815ae-8da4-39c4-9368-4dc82c69edfa"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ef1ea403-eed4-394e-9f70-0083d4c6991e"},{"identifier":"bb37d9ae-43ad-3a51-ba01-066d52a00dec","instanceIdentifier":"af6c1efc-e3d4-3f26-808b-05fddca54c33","name":"","source":{"id":"33432b3d-6e15-392c-832a-984baa913001","type":"INPUT_PORT","groupId":"ef1ea403-eed4-394e-9f70-0083d4c6991e","name":"1 - client_id_presence","comments":"","instanceIdentifier":"8a135375-a4f3-3eb1-8db5-630ad3e6a9ca"},"destination":{"id":"ddb3846f-c05e-30cf-8b15-c3169d95031e","type":"PROCESSOR","groupId":"ef1ea403-eed4-394e-9f70-0083d4c6991e","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"8706225d-5571-30aa-b873-9520eddb7652"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ef1ea403-eed4-394e-9f70-0083d4c6991e"},{"identifier":"a3c27f77-4881-306f-a420-29ec9f2ae60e","instanceIdentifier":"5eeaa2ff-c295-3277-8d97-e72b7112203f","name":"","source":{"id":"5454116a-3cd8-35e2-a3df-7d08adac256e","type":"INPUT_PORT","groupId":"ef1ea403-eed4-394e-9f70-0083d4c6991e","name":"send_db_logs","comments":"","instanceIdentifier":"1e1a120c-3e25-3cce-9b8a-3c17f0dea75e"},"destination":{"id":"a5d43049-0256-332f-813a-9c118fe81c7a","type":"PROCESSOR","groupId":"ef1ea403-eed4-394e-9f70-0083d4c6991e","name":"DB_OPERATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"dcd3a336-6469-3d9e-b128-b68167ccc574"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ef1ea403-eed4-394e-9f70-0083d4c6991e"},{"identifier":"4e116dd8-c815-39e0-8cd8-5413f21c3033","instanceIdentifier":"560895d2-3f2d-36af-bf95-4b1df25a5e4d","name":"","source":{"id":"04b6bd7d-f84b-3afa-95ab-d7e16a2b8f4d","type":"PROCESSOR","groupId":"ef1ea403-eed4-394e-9f70-0083d4c6991e","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"767c19bf-a5ea-383a-a2f2-3d9ebbd24711"},"destination":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"ef1ea403-eed4-394e-9f70-0083d4c6991e","name":"log_op","instanceIdentifier":"b55815ae-8da4-39c4-9368-4dc82c69edfa"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ef1ea403-eed4-394e-9f70-0083d4c6991e"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836"}],"remoteProcessGroups":[],"processors":[{"identifier":"6aa9122c-95df-3f0c-8044-943d7c25ddfd","instanceIdentifier":"09399178-8fd5-3cfe-87aa-8f92981d05fe","name":"Upsert Project Types","comments":"","position":{"x":400.0,"y":96.0},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"true","putsql-sql-statement":"WITH client_check AS (\n     SELECT client_key \n    FROM ${db_schema}.client\n    WHERE sap_client_id = '${sapClientId}'\n\tLIMIT 1\n), assess_product AS (\n    SELECT assess_product_key \n    FROM ${db_schema}.assess_product \n    WHERE assess_product = '360'\n    LIMIT 1\n)\nINSERT INTO ${db_schema}.project_types (assess_product_key ,project_type_name )\nSELECT ap.assess_product_key, NULLIF('${projectType}','null')\nFROM assess_product ap\nWHERE EXISTS (\n    SELECT 1 \n    FROM client_check \n    WHERE client_key IS NOT NULL\n)\nON CONFLICT (assess_product_key,project_type_name)  \nDO UPDATE SET\n    assess_product_key = EXCLUDED.assess_product_key,\n\tproject_type_name = EXCLUDED.project_type_name","Transaction Timeout":null,"Batch Size":"100","Obtain Generated Keys":"true","JDBC Connection Pool":"b7d4ceb2-1ff3-34f1-8b82-7f9317e1e31a","database-session-autocommit":"false","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":5,"retriedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"5 sec","componentType":"PROCESSOR","groupIdentifier":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836"},{"identifier":"2aa24290-13d9-3e89-882d-fad920386fe0","instanceIdentifier":"eb1da909-3784-3ad9-855a-c1da7adb2495","name":"Generated Key To Attributes","comments":"","position":{"x":400.0,"y":304.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"project_types_pkey":"${sql.generated.key}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"project_types_pkey":{"name":"project_types_pkey","displayName":"project_types_pkey","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836"},{"identifier":"2817bdd6-967c-373f-941b-a3faf1a3946c","instanceIdentifier":"d72c4cf1-f67f-3cae-a2aa-a3d9b82b428c","name":"EvaluateJsonPath","comments":"","position":{"x":400.0,"y":-112.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Destination":"flowfile-attribute","adminGroupsAdditional":"$.adminGroups.additional","clientId":"$.clientId","Max String Length":"20 MB","adminGroups":"$.adminGroups","Return Type":"json","projectType":"$.type","sapClientId":"$.sapClientId","Null Value Representation":"empty string","adminGroupsOwner":"$.adminGroups.owner","Path Not Found Behavior":"ignore","projectDeadlineDate":"$.dates.projectDeadline","projectCreatedDate":"$.dates.created","projectName":"$.name","projectId":"$.id"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"adminGroupsAdditional":{"name":"adminGroupsAdditional","displayName":"adminGroupsAdditional","identifiesControllerService":false,"sensitive":false},"clientId":{"name":"clientId","displayName":"clientId","identifiesControllerService":false,"sensitive":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"adminGroups":{"name":"adminGroups","displayName":"adminGroups","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"projectType":{"name":"projectType","displayName":"projectType","identifiesControllerService":false,"sensitive":false},"sapClientId":{"name":"sapClientId","displayName":"sapClientId","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"adminGroupsOwner":{"name":"adminGroupsOwner","displayName":"adminGroupsOwner","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false},"projectDeadlineDate":{"name":"projectDeadlineDate","displayName":"projectDeadlineDate","identifiesControllerService":false,"sensitive":false},"projectCreatedDate":{"name":"projectCreatedDate","displayName":"projectCreatedDate","identifiesControllerService":false,"sensitive":false},"projectName":{"name":"projectName","displayName":"projectName","identifiesControllerService":false,"sensitive":false},"projectId":{"name":"projectId","displayName":"projectId","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836"},{"identifier":"817f181d-ccbc-3eb7-825b-7912078ae965","instanceIdentifier":"8935dd8f-1944-3b0d-89e8-a5ae4cda18cb","name":"Check Presence of ClientId ","comments":"","position":{"x":400.0,"y":520.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Routing Strategy":"Route to Property name","is_client_id_present & upsert success":"${project_types_pkey:isEmpty():not()}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"is_client_id_present & upsert success":{"name":"is_client_id_present & upsert success","displayName":"is_client_id_present & upsert success","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836"}],"inputPorts":[{"identifier":"76083b56-c792-3ddf-83d8-2d0bbf4d366a","instanceIdentifier":"372deb57-d889-30dd-be73-7558b929e28d","name":"project_port","position":{"x":456.0,"y":-232.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836"}],"outputPorts":[{"identifier":"36ffc296-f1f9-32fa-8e77-2e7a8daf5db5","instanceIdentifier":"19827586-33c5-34dd-8cec-3efda68eb71d","name":"project_op","position":{"x":448.0,"y":728.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836"},{"identifier":"c94a82f9-e981-3b28-b1d4-800ec8ed330d","instanceIdentifier":"6e9ffdff-c895-3f5d-86c4-ca2b812d6bca","name":"log_op_port","position":{"x":1152.0,"y":576.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836"}],"connections":[{"identifier":"ad2ca2f6-b173-33fd-9605-17303c0d9019","instanceIdentifier":"2beab0c4-12ed-3658-9382-0081d387e56f","name":"","source":{"id":"6aa9122c-95df-3f0c-8044-943d7c25ddfd","type":"PROCESSOR","groupId":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836","name":"Upsert Project Types","comments":"","instanceIdentifier":"09399178-8fd5-3cfe-87aa-8f92981d05fe"},"destination":{"id":"2aa24290-13d9-3e89-882d-fad920386fe0","type":"PROCESSOR","groupId":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836","name":"Generated Key To Attributes","comments":"","instanceIdentifier":"eb1da909-3784-3ad9-855a-c1da7adb2495"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836"},{"identifier":"77163774-f664-3a04-8f60-56ad0e72cf9a","instanceIdentifier":"36aa149c-d93b-3652-ac70-63c6f0e95e28","name":"","source":{"id":"2aa24290-13d9-3e89-882d-fad920386fe0","type":"PROCESSOR","groupId":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836","name":"Generated Key To Attributes","comments":"","instanceIdentifier":"eb1da909-3784-3ad9-855a-c1da7adb2495"},"destination":{"id":"817f181d-ccbc-3eb7-825b-7912078ae965","type":"PROCESSOR","groupId":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836","name":"Check Presence of ClientId ","comments":"","instanceIdentifier":"8935dd8f-1944-3b0d-89e8-a5ae4cda18cb"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836"},{"identifier":"dc53ffe1-3467-36fb-908b-dfcbba68bcbc","instanceIdentifier":"9d6cd52f-dac6-3c36-8dde-af1d921efe31","name":"","source":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"ef1ea403-eed4-394e-9f70-0083d4c6991e","name":"log_op","instanceIdentifier":"b55815ae-8da4-39c4-9368-4dc82c69edfa"},"destination":{"id":"c94a82f9-e981-3b28-b1d4-800ec8ed330d","type":"OUTPUT_PORT","groupId":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836","name":"log_op_port","instanceIdentifier":"6e9ffdff-c895-3f5d-86c4-ca2b812d6bca"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836"},{"identifier":"0440d354-817e-330e-8bf4-c3621ba9cca7","instanceIdentifier":"072798d6-6e3d-3356-bb10-c508a38b53e2","name":"","source":{"id":"817f181d-ccbc-3eb7-825b-7912078ae965","type":"PROCESSOR","groupId":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836","name":"Check Presence of ClientId ","comments":"","instanceIdentifier":"8935dd8f-1944-3b0d-89e8-a5ae4cda18cb"},"destination":{"id":"36ffc296-f1f9-32fa-8e77-2e7a8daf5db5","type":"OUTPUT_PORT","groupId":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836","name":"project_op","instanceIdentifier":"19827586-33c5-34dd-8cec-3efda68eb71d"},"labelIndex":1,"zIndex":0,"selectedRelationships":["is_client_id_present & upsert success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836"},{"identifier":"a6fb49a3-361c-38ee-a9ed-029ab0e68eec","instanceIdentifier":"95a44115-0834-378c-86d5-ab494fa56dc6","name":"","source":{"id":"76083b56-c792-3ddf-83d8-2d0bbf4d366a","type":"INPUT_PORT","groupId":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836","name":"project_port","instanceIdentifier":"372deb57-d889-30dd-be73-7558b929e28d"},"destination":{"id":"2817bdd6-967c-373f-941b-a3faf1a3946c","type":"PROCESSOR","groupId":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"d72c4cf1-f67f-3cae-a2aa-a3d9b82b428c"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836"},{"identifier":"e9ea32ea-6d90-3f52-b671-fe3e815b680a","instanceIdentifier":"460cb979-5904-34d0-a4e9-ea60debe2b47","name":"","source":{"id":"6aa9122c-95df-3f0c-8044-943d7c25ddfd","type":"PROCESSOR","groupId":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836","name":"Upsert Project Types","comments":"","instanceIdentifier":"09399178-8fd5-3cfe-87aa-8f92981d05fe"},"destination":{"id":"5454116a-3cd8-35e2-a3df-7d08adac256e","type":"INPUT_PORT","groupId":"ef1ea403-eed4-394e-9f70-0083d4c6991e","name":"send_db_logs","comments":"","instanceIdentifier":"1e1a120c-3e25-3cce-9b8a-3c17f0dea75e"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure","retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836"},{"identifier":"763180c1-b42c-38c2-adcd-41a0b92b7e9c","instanceIdentifier":"28a5df42-1dfc-3f83-a1a5-40d349f5483f","name":"","source":{"id":"817f181d-ccbc-3eb7-825b-7912078ae965","type":"PROCESSOR","groupId":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836","name":"Check Presence of ClientId ","comments":"","instanceIdentifier":"8935dd8f-1944-3b0d-89e8-a5ae4cda18cb"},"destination":{"id":"b4f17064-1529-3d0c-ba58-7144780778d7","type":"INPUT_PORT","groupId":"ef1ea403-eed4-394e-9f70-0083d4c6991e","name":"0-client_id_presence","comments":"","instanceIdentifier":"1174c9f1-092b-36ef-81b1-ff2e71437ced"},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":960.0,"y":592.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836"},{"identifier":"b5725fce-87f0-3e21-8e46-e900e291c796","instanceIdentifier":"036816bc-92bc-333c-8166-d1813fcec8f0","name":"","source":{"id":"817f181d-ccbc-3eb7-825b-7912078ae965","type":"PROCESSOR","groupId":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836","name":"Check Presence of ClientId ","comments":"","instanceIdentifier":"8935dd8f-1944-3b0d-89e8-a5ae4cda18cb"},"destination":{"id":"33432b3d-6e15-392c-832a-984baa913001","type":"INPUT_PORT","groupId":"ef1ea403-eed4-394e-9f70-0083d4c6991e","name":"1 - client_id_presence","comments":"","instanceIdentifier":"8a135375-a4f3-3eb1-8db5-630ad3e6a9ca"},"labelIndex":1,"zIndex":0,"selectedRelationships":["is_client_id_present & upsert success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836"},{"identifier":"9224e637-6d4a-3a44-93d7-171fbb656641","instanceIdentifier":"72282e4c-4f44-3b5f-8640-6151a3e0ca0f","name":"","source":{"id":"2817bdd6-967c-373f-941b-a3faf1a3946c","type":"PROCESSOR","groupId":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"d72c4cf1-f67f-3cae-a2aa-a3d9b82b428c"},"destination":{"id":"6aa9122c-95df-3f0c-8044-943d7c25ddfd","type":"PROCESSOR","groupId":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836","name":"Upsert Project Types","comments":"","instanceIdentifier":"09399178-8fd5-3cfe-87aa-8f92981d05fe"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{"var":"123","db_schema":"idw"},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"63fc915a-3bc4-327c-bf6c-b3a38de824b5"},{"identifier":"8bb560d3-a1e9-3508-9ce6-8e724afcf815","instanceIdentifier":"dd75ef21-6d12-38b2-b25b-c6c1ad77398b","name":"cohort_project ","comments":"","position":{"x":488.0,"y":776.0},"processGroups":[{"identifier":"6ab94c9f-ec8d-3ec0-b126-17cd68add918","instanceIdentifier":"7b76a34d-a4ee-3bdf-af60-348f1a2ff3ee","name":"FRAME LOGS","comments":"","position":{"x":1096.0,"y":288.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"a5d43049-0256-332f-813a-9c118fe81c7a","instanceIdentifier":"8a039c6b-e977-3833-ab5a-82ff1991ccda","name":"DB_OPERATION_LOG_ATTRIBUTE","comments":"","position":{"x":568.0,"y":248.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"${flow_name}-cohort_project","flow_name":"${flow_name}","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"6ab94c9f-ec8d-3ec0-b126-17cd68add918"},{"identifier":"04b6bd7d-f84b-3afa-95ab-d7e16a2b8f4d","instanceIdentifier":"7ca4ce2d-4f92-3c43-a1e9-d6fb9b120f63","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","position":{"x":984.0,"y":248.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"error.sql.state":"404","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"${flow_name}-cohort_project","flow_name":"${flow_name}","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}","log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","error.message":"Invalid Cohort Project present: ${cohort_project_pkey}","manual_error":"true","error.code":"404"},"propertyDescriptors":{"error.sql.state":{"name":"error.sql.state","displayName":"error.sql.state","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false},"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"error.message":{"name":"error.message","displayName":"error.message","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"error.code":{"name":"error.code","displayName":"error.code","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"6ab94c9f-ec8d-3ec0-b126-17cd68add918"},{"identifier":"2df6d26e-869c-3d66-be01-4823544bf388","instanceIdentifier":"5f32a9d6-1865-34a0-89ea-044821b2337c","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","position":{"x":1400.0,"y":248.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"log_type":"[${#{log_config}:jsonPath('$.log_type.trans_type')},${#{log_config}:jsonPath('$.log_type.audit_type')}]","Delete Attributes Expression":null,"event_type":"${#{log_config}:jsonPath('$.event_type.db_connect')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","request_uuid":"${app_uuid}","module":"${flow_name}-cohort_project","flow_name":"${flow_name}","manual_error":"false","Stateful Variables Initial Value":null,"event_timestamp":"${now():format(\"yyyy-MM-dd'T'HH:mm:ssXXX\", 'Asia/Kolkata')}"},"propertyDescriptors":{"log_type":{"name":"log_type","displayName":"log_type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"event_type":{"name":"event_type","displayName":"event_type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"request_uuid":{"name":"request_uuid","displayName":"request_uuid","identifiesControllerService":false,"sensitive":false},"module":{"name":"module","displayName":"module","identifiesControllerService":false,"sensitive":false},"flow_name":{"name":"flow_name","displayName":"flow_name","identifiesControllerService":false,"sensitive":false},"manual_error":{"name":"manual_error","displayName":"manual_error","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"6ab94c9f-ec8d-3ec0-b126-17cd68add918"}],"inputPorts":[{"identifier":"8a9e1e5e-00ff-3d73-a63b-8f84a7568130","instanceIdentifier":"69e08d08-912b-3ad1-9262-d16bc8041e62","name":"1 - client_id_presence","comments":"","position":{"x":1456.0,"y":120.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"6ab94c9f-ec8d-3ec0-b126-17cd68add918"},{"identifier":"5454116a-3cd8-35e2-a3df-7d08adac256e","instanceIdentifier":"9fde2edb-b00a-388a-acb9-786130fb4dbe","name":"send_db_logs","comments":"","position":{"x":624.0,"y":128.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"6ab94c9f-ec8d-3ec0-b126-17cd68add918"},{"identifier":"b4f17064-1529-3d0c-ba58-7144780778d7","instanceIdentifier":"adfdea0f-f4c9-396c-9707-fe17997e5409","name":"0-client_id_presence","comments":"","position":{"x":1040.0,"y":128.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"6ab94c9f-ec8d-3ec0-b126-17cd68add918"}],"outputPorts":[{"identifier":"5014d334-1779-39e7-bb97-b7820b72c544","instanceIdentifier":"1a9d1221-ff42-363c-a2a1-9dd31b51c186","name":"log_op","position":{"x":1040.0,"y":544.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"6ab94c9f-ec8d-3ec0-b126-17cd68add918"}],"connections":[{"identifier":"29f4821d-8ea2-3ee3-8839-0cd10a0fe6e8","instanceIdentifier":"e580884a-9512-35be-a955-793f48c9c620","name":"","source":{"id":"a5d43049-0256-332f-813a-9c118fe81c7a","type":"PROCESSOR","groupId":"6ab94c9f-ec8d-3ec0-b126-17cd68add918","name":"DB_OPERATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"8a039c6b-e977-3833-ab5a-82ff1991ccda"},"destination":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"6ab94c9f-ec8d-3ec0-b126-17cd68add918","name":"log_op","instanceIdentifier":"1a9d1221-ff42-363c-a2a1-9dd31b51c186"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6ab94c9f-ec8d-3ec0-b126-17cd68add918"},{"identifier":"5484d9e2-49e5-39b9-8cb7-de5188762ff1","instanceIdentifier":"8896d934-2554-3f5b-9a92-9f227462e0cc","name":"","source":{"id":"b4f17064-1529-3d0c-ba58-7144780778d7","type":"INPUT_PORT","groupId":"6ab94c9f-ec8d-3ec0-b126-17cd68add918","name":"0-client_id_presence","comments":"","instanceIdentifier":"adfdea0f-f4c9-396c-9707-fe17997e5409"},"destination":{"id":"04b6bd7d-f84b-3afa-95ab-d7e16a2b8f4d","type":"PROCESSOR","groupId":"6ab94c9f-ec8d-3ec0-b126-17cd68add918","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"7ca4ce2d-4f92-3c43-a1e9-d6fb9b120f63"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6ab94c9f-ec8d-3ec0-b126-17cd68add918"},{"identifier":"fd29193e-c24a-3557-b19b-be1f5f227946","instanceIdentifier":"1f743a48-0c8a-35fb-914f-1afdbdaa1b24","name":"","source":{"id":"8a9e1e5e-00ff-3d73-a63b-8f84a7568130","type":"INPUT_PORT","groupId":"6ab94c9f-ec8d-3ec0-b126-17cd68add918","name":"1 - client_id_presence","comments":"","instanceIdentifier":"69e08d08-912b-3ad1-9262-d16bc8041e62"},"destination":{"id":"2df6d26e-869c-3d66-be01-4823544bf388","type":"PROCESSOR","groupId":"6ab94c9f-ec8d-3ec0-b126-17cd68add918","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"5f32a9d6-1865-34a0-89ea-044821b2337c"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6ab94c9f-ec8d-3ec0-b126-17cd68add918"},{"identifier":"67aafbbd-9ffc-36c2-8816-c811bcdb9fe3","instanceIdentifier":"f3e5bea9-63d2-3bc1-b674-9f6bbc1081b1","name":"","source":{"id":"2df6d26e-869c-3d66-be01-4823544bf388","type":"PROCESSOR","groupId":"6ab94c9f-ec8d-3ec0-b126-17cd68add918","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"5f32a9d6-1865-34a0-89ea-044821b2337c"},"destination":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"6ab94c9f-ec8d-3ec0-b126-17cd68add918","name":"log_op","instanceIdentifier":"1a9d1221-ff42-363c-a2a1-9dd31b51c186"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6ab94c9f-ec8d-3ec0-b126-17cd68add918"},{"identifier":"a3c27f77-4881-306f-a420-29ec9f2ae60e","instanceIdentifier":"c94da08f-bfaa-32fc-8a8d-ea05f640ef3d","name":"","source":{"id":"5454116a-3cd8-35e2-a3df-7d08adac256e","type":"INPUT_PORT","groupId":"6ab94c9f-ec8d-3ec0-b126-17cd68add918","name":"send_db_logs","comments":"","instanceIdentifier":"9fde2edb-b00a-388a-acb9-786130fb4dbe"},"destination":{"id":"a5d43049-0256-332f-813a-9c118fe81c7a","type":"PROCESSOR","groupId":"6ab94c9f-ec8d-3ec0-b126-17cd68add918","name":"DB_OPERATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"8a039c6b-e977-3833-ab5a-82ff1991ccda"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6ab94c9f-ec8d-3ec0-b126-17cd68add918"},{"identifier":"4e116dd8-c815-39e0-8cd8-5413f21c3033","instanceIdentifier":"7020bca4-bb53-3b57-9e17-7f8559f5a183","name":"","source":{"id":"04b6bd7d-f84b-3afa-95ab-d7e16a2b8f4d","type":"PROCESSOR","groupId":"6ab94c9f-ec8d-3ec0-b126-17cd68add918","name":"VALIDATION_LOG_ATTRIBUTE","comments":"","instanceIdentifier":"7ca4ce2d-4f92-3c43-a1e9-d6fb9b120f63"},"destination":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"6ab94c9f-ec8d-3ec0-b126-17cd68add918","name":"log_op","instanceIdentifier":"1a9d1221-ff42-363c-a2a1-9dd31b51c186"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6ab94c9f-ec8d-3ec0-b126-17cd68add918"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"log_config","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"8bb560d3-a1e9-3508-9ce6-8e724afcf815"}],"remoteProcessGroups":[],"processors":[{"identifier":"6aa9122c-95df-3f0c-8044-943d7c25ddfd","instanceIdentifier":"3a4d8b0a-8345-30a4-b768-20200948bc7f","name":"Upsert Project","comments":"","position":{"x":400.0,"y":96.0},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":"WITH client_check AS (\n    SELECT client_key\n    FROM ${db_schema}.client\n    WHERE sap_client_id = '${sapClientId}'\n    LIMIT 1\n),\nassess_product AS (\n    SELECT assess_product_key\n    FROM ${db_schema}.assess_product\n    WHERE assess_product = '360'\n    LIMIT 1\n)\nINSERT INTO ${db_schema}.cohort_project (\n    source_project_id, created_by_email, project_name,\n    create_date, end_date, client_key, assess_product_key, project_type_key, a360_admin_group\n)\nSELECT\n    '${projectId}',\n    'NiFi',\n    NULLIF('${projectName:replace(\"'\", \"''\")}', 'null'),\n    CAST(NULLIF('${projectCreatedDate}', '') AS DATE),\n    CAST(NULLIF('${projectDeadlineDate}', '') AS TIMESTAMP),\n    (SELECT client_key FROM client_check),\n    (SELECT assess_product_key FROM assess_product),\n    CAST(NULLIF('${project_types_pkey}', '') AS UUID),\n\t    CAST(NULLIF('${adminGroups}', '') AS JSON)\n\nON CONFLICT (source_project_id, assess_product_key)\nDO UPDATE SET\n    project_name = EXCLUDED.project_name,\n    created_by_email = EXCLUDED.created_by_email,\n    create_date = EXCLUDED.create_date,\n    end_date = EXCLUDED.end_date,\n    client_key = EXCLUDED.client_key,\n    project_type_key = EXCLUDED.project_type_key,\n    a360_admin_group = EXCLUDED.a360_admin_group\nRETURNING cohort_project_key;","Transaction Timeout":null,"Batch Size":"100","Obtain Generated Keys":"true","JDBC Connection Pool":"b7d4ceb2-1ff3-34f1-8b82-7f9317e1e31a","database-session-autocommit":"false","rollback-on-failure":"false"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":5,"retriedRelationships":["failure"],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"5 sec","componentType":"PROCESSOR","groupIdentifier":"8bb560d3-a1e9-3508-9ce6-8e724afcf815"},{"identifier":"4e978d2c-cfed-31cb-8773-c6b603081846","instanceIdentifier":"a9e0cff0-fbe4-311a-ad32-74d751fb8c4f","name":"Check Presence of ClientId ","comments":"","position":{"x":400.0,"y":520.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.27.0"},"properties":{"Routing Strategy":"Route to Property name","is_client_id_present & upsert success":"${cohort_project_pkey:isEmpty():not()}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"is_client_id_present & upsert success":{"name":"is_client_id_present & upsert success","displayName":"is_client_id_present & upsert success","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"8bb560d3-a1e9-3508-9ce6-8e724afcf815"},{"identifier":"7ae55c7b-abad-3e88-a803-1631e02e1638","instanceIdentifier":"2f057c62-387e-3544-aafc-e084df58ee79","name":"Generated Key To Attributes","comments":"","position":{"x":400.0,"y":312.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.27.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","cohort_project_pkey":"${sql.generated.key}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"cohort_project_pkey":{"name":"cohort_project_pkey","displayName":"cohort_project_pkey","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"8bb560d3-a1e9-3508-9ce6-8e724afcf815"}],"inputPorts":[{"identifier":"76083b56-c792-3ddf-83d8-2d0bbf4d366a","instanceIdentifier":"79f7be52-4495-33cb-b7a2-1242a32fa614","name":"project_port","position":{"x":456.0,"y":-40.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"8bb560d3-a1e9-3508-9ce6-8e724afcf815"}],"outputPorts":[{"identifier":"36ffc296-f1f9-32fa-8e77-2e7a8daf5db5","instanceIdentifier":"cdfee84d-ea2a-3177-9096-12879d8d81a8","name":"project_op","position":{"x":456.0,"y":728.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"8bb560d3-a1e9-3508-9ce6-8e724afcf815"},{"identifier":"dde2e1a4-ddd7-3cd1-b740-186616d567ff","instanceIdentifier":"50640b18-a478-38cf-9da4-12247f46b332","name":"log_op_port","position":{"x":1168.0,"y":704.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"8bb560d3-a1e9-3508-9ce6-8e724afcf815"}],"connections":[{"identifier":"b605f3d0-ba78-3031-8147-ac15a083a6be","instanceIdentifier":"de401457-11a2-3e9f-afb8-62e2653d5ae6","name":"","source":{"id":"4e978d2c-cfed-31cb-8773-c6b603081846","type":"PROCESSOR","groupId":"8bb560d3-a1e9-3508-9ce6-8e724afcf815","name":"Check Presence of ClientId ","comments":"","instanceIdentifier":"a9e0cff0-fbe4-311a-ad32-74d751fb8c4f"},"destination":{"id":"b4f17064-1529-3d0c-ba58-7144780778d7","type":"INPUT_PORT","groupId":"6ab94c9f-ec8d-3ec0-b126-17cd68add918","name":"0-client_id_presence","comments":"","instanceIdentifier":"adfdea0f-f4c9-396c-9707-fe17997e5409"},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":920.0,"y":376.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8bb560d3-a1e9-3508-9ce6-8e724afcf815"},{"identifier":"a00c9c4a-3b37-3b06-b17b-07c955890b28","instanceIdentifier":"c5269dd5-86cf-33d5-9e77-3ce5f9545795","name":"","source":{"id":"6aa9122c-95df-3f0c-8044-943d7c25ddfd","type":"PROCESSOR","groupId":"8bb560d3-a1e9-3508-9ce6-8e724afcf815","name":"Upsert Project","comments":"","instanceIdentifier":"3a4d8b0a-8345-30a4-b768-20200948bc7f"},"destination":{"id":"7ae55c7b-abad-3e88-a803-1631e02e1638","type":"PROCESSOR","groupId":"8bb560d3-a1e9-3508-9ce6-8e724afcf815","name":"Generated Key To Attributes","comments":"","instanceIdentifier":"2f057c62-387e-3544-aafc-e084df58ee79"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8bb560d3-a1e9-3508-9ce6-8e724afcf815"},{"identifier":"309b346d-580a-36b4-8bb9-614b5838ff2d","instanceIdentifier":"41fa1288-6a41-327c-a980-4c3ae506aded","name":"","source":{"id":"4e978d2c-cfed-31cb-8773-c6b603081846","type":"PROCESSOR","groupId":"8bb560d3-a1e9-3508-9ce6-8e724afcf815","name":"Check Presence of ClientId ","comments":"","instanceIdentifier":"a9e0cff0-fbe4-311a-ad32-74d751fb8c4f"},"destination":{"id":"8a9e1e5e-00ff-3d73-a63b-8f84a7568130","type":"INPUT_PORT","groupId":"6ab94c9f-ec8d-3ec0-b126-17cd68add918","name":"1 - client_id_presence","comments":"","instanceIdentifier":"69e08d08-912b-3ad1-9262-d16bc8041e62"},"labelIndex":1,"zIndex":0,"selectedRelationships":["is_client_id_present & upsert success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8bb560d3-a1e9-3508-9ce6-8e724afcf815"},{"identifier":"afa4d8e3-4d6c-39af-bbf8-513face48791","instanceIdentifier":"6b7a7906-c692-3914-9844-b970805160b1","name":"","source":{"id":"6aa9122c-95df-3f0c-8044-943d7c25ddfd","type":"PROCESSOR","groupId":"8bb560d3-a1e9-3508-9ce6-8e724afcf815","name":"Upsert Project","comments":"","instanceIdentifier":"3a4d8b0a-8345-30a4-b768-20200948bc7f"},"destination":{"id":"5454116a-3cd8-35e2-a3df-7d08adac256e","type":"INPUT_PORT","groupId":"6ab94c9f-ec8d-3ec0-b126-17cd68add918","name":"send_db_logs","comments":"","instanceIdentifier":"9fde2edb-b00a-388a-acb9-786130fb4dbe"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure","retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8bb560d3-a1e9-3508-9ce6-8e724afcf815"},{"identifier":"39d4c1b7-4e4c-3f10-9cf1-fc6aaf5b6e28","instanceIdentifier":"1dca9aaa-f456-31cd-81e2-8b79f76cf463","name":"","source":{"id":"7ae55c7b-abad-3e88-a803-1631e02e1638","type":"PROCESSOR","groupId":"8bb560d3-a1e9-3508-9ce6-8e724afcf815","name":"Generated Key To Attributes","comments":"","instanceIdentifier":"2f057c62-387e-3544-aafc-e084df58ee79"},"destination":{"id":"4e978d2c-cfed-31cb-8773-c6b603081846","type":"PROCESSOR","groupId":"8bb560d3-a1e9-3508-9ce6-8e724afcf815","name":"Check Presence of ClientId ","comments":"","instanceIdentifier":"a9e0cff0-fbe4-311a-ad32-74d751fb8c4f"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8bb560d3-a1e9-3508-9ce6-8e724afcf815"},{"identifier":"a6fb49a3-361c-38ee-a9ed-029ab0e68eec","instanceIdentifier":"2262a163-0d62-3f9f-8e86-82df62eb2fc3","name":"","source":{"id":"76083b56-c792-3ddf-83d8-2d0bbf4d366a","type":"INPUT_PORT","groupId":"8bb560d3-a1e9-3508-9ce6-8e724afcf815","name":"project_port","instanceIdentifier":"79f7be52-4495-33cb-b7a2-1242a32fa614"},"destination":{"id":"6aa9122c-95df-3f0c-8044-943d7c25ddfd","type":"PROCESSOR","groupId":"8bb560d3-a1e9-3508-9ce6-8e724afcf815","name":"Upsert Project","comments":"","instanceIdentifier":"3a4d8b0a-8345-30a4-b768-20200948bc7f"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8bb560d3-a1e9-3508-9ce6-8e724afcf815"},{"identifier":"b754bee5-ea0f-340a-896e-7115183b09ea","instanceIdentifier":"f69e8906-4e3d-3e54-9345-3245a16183d0","name":"","source":{"id":"5014d334-1779-39e7-bb97-b7820b72c544","type":"OUTPUT_PORT","groupId":"6ab94c9f-ec8d-3ec0-b126-17cd68add918","name":"log_op","instanceIdentifier":"1a9d1221-ff42-363c-a2a1-9dd31b51c186"},"destination":{"id":"dde2e1a4-ddd7-3cd1-b740-186616d567ff","type":"OUTPUT_PORT","groupId":"8bb560d3-a1e9-3508-9ce6-8e724afcf815","name":"log_op_port","instanceIdentifier":"50640b18-a478-38cf-9da4-12247f46b332"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8bb560d3-a1e9-3508-9ce6-8e724afcf815"},{"identifier":"2652a4a2-83af-32d9-afb6-81d81d679764","instanceIdentifier":"cc2ec7cf-09bf-39cf-8d88-9faec253685e","name":"","source":{"id":"4e978d2c-cfed-31cb-8773-c6b603081846","type":"PROCESSOR","groupId":"8bb560d3-a1e9-3508-9ce6-8e724afcf815","name":"Check Presence of ClientId ","comments":"","instanceIdentifier":"a9e0cff0-fbe4-311a-ad32-74d751fb8c4f"},"destination":{"id":"36ffc296-f1f9-32fa-8e77-2e7a8daf5db5","type":"OUTPUT_PORT","groupId":"8bb560d3-a1e9-3508-9ce6-8e724afcf815","name":"project_op","instanceIdentifier":"cdfee84d-ea2a-3177-9096-12879d8d81a8"},"labelIndex":1,"zIndex":0,"selectedRelationships":["is_client_id_present & upsert success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8bb560d3-a1e9-3508-9ce6-8e724afcf815"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"63fc915a-3bc4-327c-bf6c-b3a38de824b5"}],"remoteProcessGroups":[],"processors":[],"inputPorts":[{"identifier":"11d6c076-7326-341a-b66d-a1e2191faabd","instanceIdentifier":"4d3243ac-df37-1624-ffff-ffffd5cee19b","name":"input","position":{"x":560.0,"y":328.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"63fc915a-3bc4-327c-bf6c-b3a38de824b5"}],"outputPorts":[{"identifier":"2cd63376-6da0-36c1-9f3c-631ef55608c3","instanceIdentifier":"f8bb3efd-811a-19e5-ffff-ffff80846be3","name":"log_out","position":{"x":1176.0,"y":848.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"63fc915a-3bc4-327c-bf6c-b3a38de824b5"}],"connections":[{"identifier":"8f1e4ed3-899d-398c-ab3d-6a39e8f309c8","instanceIdentifier":"9032723c-1cba-3b63-943f-a4f8a35eae78","name":"","source":{"id":"36ffc296-f1f9-32fa-8e77-2e7a8daf5db5","type":"OUTPUT_PORT","groupId":"8bb560d3-a1e9-3508-9ce6-8e724afcf815","name":"project_op","instanceIdentifier":"cdfee84d-ea2a-3177-9096-12879d8d81a8"},"destination":{"id":"953eb252-4139-39c9-b22d-995f2ee572b1","type":"INPUT_PORT","groupId":"23b7d7ef-004f-32f2-8163-fc0362e62218","name":"input","instanceIdentifier":"89663b25-0195-1000-ffff-ffffeb0cf313"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"63fc915a-3bc4-327c-bf6c-b3a38de824b5"},{"identifier":"6e8074ef-a183-3b58-95cb-5b4bc708f145","instanceIdentifier":"f8bb44be-811a-19e5-0000-0000125f77bb","name":"","source":{"id":"037961ab-f321-3acf-8f87-bb7eb49604da","type":"OUTPUT_PORT","groupId":"23b7d7ef-004f-32f2-8163-fc0362e62218","name":"log_op_port","instanceIdentifier":"9049376c-7a59-16db-8168-cf363dd1a6ee"},"destination":{"id":"2cd63376-6da0-36c1-9f3c-631ef55608c3","type":"OUTPUT_PORT","groupId":"63fc915a-3bc4-327c-bf6c-b3a38de824b5","name":"log_out","instanceIdentifier":"f8bb3efd-811a-19e5-ffff-ffff80846be3"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1296.0,"y":1128.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"63fc915a-3bc4-327c-bf6c-b3a38de824b5"},{"identifier":"eeaf8bb3-1d3f-3559-ba91-efabbb092079","instanceIdentifier":"a52bdda7-0195-1000-ffff-ffffa965b35b","name":"","source":{"id":"11d6c076-7326-341a-b66d-a1e2191faabd","type":"INPUT_PORT","groupId":"63fc915a-3bc4-327c-bf6c-b3a38de824b5","name":"input","instanceIdentifier":"4d3243ac-df37-1624-ffff-ffffd5cee19b"},"destination":{"id":"76083b56-c792-3ddf-83d8-2d0bbf4d366a","type":"INPUT_PORT","groupId":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836","name":"project_port","instanceIdentifier":"372deb57-d889-30dd-be73-7558b929e28d"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"63fc915a-3bc4-327c-bf6c-b3a38de824b5"},{"identifier":"9e4c8ab3-885b-38bf-ac37-33c1f9b2f83f","instanceIdentifier":"f8bb3f00-811a-19e5-ffff-ffff8c7aba3e","name":"","source":{"id":"c94a82f9-e981-3b28-b1d4-800ec8ed330d","type":"OUTPUT_PORT","groupId":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836","name":"log_op_port","instanceIdentifier":"6e9ffdff-c895-3f5d-86c4-ca2b812d6bca"},"destination":{"id":"2cd63376-6da0-36c1-9f3c-631ef55608c3","type":"OUTPUT_PORT","groupId":"63fc915a-3bc4-327c-bf6c-b3a38de824b5","name":"log_out","instanceIdentifier":"f8bb3efd-811a-19e5-ffff-ffff80846be3"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1296.0,"y":592.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"63fc915a-3bc4-327c-bf6c-b3a38de824b5"},{"identifier":"bbdc4015-f28e-3297-aa7b-5603cf994be9","instanceIdentifier":"2bc24998-bdf3-320b-a453-0b7cc8179706","name":"","source":{"id":"36ffc296-f1f9-32fa-8e77-2e7a8daf5db5","type":"OUTPUT_PORT","groupId":"89c7baf5-0855-3c2c-a0b0-22ecd2c6a836","name":"project_op","instanceIdentifier":"19827586-33c5-34dd-8cec-3efda68eb71d"},"destination":{"id":"76083b56-c792-3ddf-83d8-2d0bbf4d366a","type":"INPUT_PORT","groupId":"8bb560d3-a1e9-3508-9ce6-8e724afcf815","name":"project_port","instanceIdentifier":"79f7be52-4495-33cb-b7a2-1242a32fa614"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"63fc915a-3bc4-327c-bf6c-b3a38de824b5"},{"identifier":"e366607c-c433-3105-9309-6421af9a3a65","instanceIdentifier":"f8bb40a8-811a-19e5-0000-0000603e4113","name":"","source":{"id":"dde2e1a4-ddd7-3cd1-b740-186616d567ff","type":"OUTPUT_PORT","groupId":"8bb560d3-a1e9-3508-9ce6-8e724afcf815","name":"log_op_port","instanceIdentifier":"50640b18-a478-38cf-9da4-12247f46b332"},"destination":{"id":"2cd63376-6da0-36c1-9f3c-631ef55608c3","type":"OUTPUT_PORT","groupId":"63fc915a-3bc4-327c-bf6c-b3a38de824b5","name":"log_out","instanceIdentifier":"f8bb3efd-811a-19e5-ffff-ffff80846be3"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"63fc915a-3bc4-327c-bf6c-b3a38de824b5"}],"labels":[],"funnels":[],"controllerServices":[{"identifier":"2baa2ea1-06b6-3a91-969e-aa3e7c24d3d6","instanceIdentifier":"8b951f27-0195-1000-ffff-ffff9333ccbc","name":"JsonTreeReader","comments":"","type":"org.apache.nifi.json.JsonTreeReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.27.0"},"properties":{"schema-branch":null,"Max String Length":"20 MB","schema-application-strategy":"SELECTED_PART","Timestamp Format":null,"schema-inference-cache":null,"Date Format":null,"schema-name":"${schema.name}","starting-field-strategy":"ROOT_NODE","schema-registry":null,"starting-field-name":null,"Time Format":null,"schema-access-strategy":"infer-schema","schema-version":null,"schema-text":"${avro.schema}","Allow Comments":"false"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"schema-application-strategy":{"name":"schema-application-strategy","displayName":"Schema Application Strategy","identifiesControllerService":false,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"schema-inference-cache":{"name":"schema-inference-cache","displayName":"Schema Inference Cache","identifiesControllerService":true,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"starting-field-strategy":{"name":"starting-field-strategy","displayName":"Starting Field Strategy","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"starting-field-name":{"name":"starting-field-name","displayName":"Starting Field Name","identifiesControllerService":false,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false},"Allow Comments":{"name":"Allow Comments","displayName":"Allow Comments","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.27.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"63fc915a-3bc4-327c-bf6c-b3a38de824b5"},{"identifier":"b7d4ceb2-1ff3-34f1-8b82-7f9317e1e31a","instanceIdentifier":"444b85b3-8124-329d-89ca-cf281e5d6b29","name":"DBCPConnectionPool_KF","comments":"","type":"org.apache.nifi.dbcp.DBCPConnectionPool","bundle":{"group":"org.apache.nifi","artifact":"nifi-dbcp-service-nar","version":"1.27.0"},"properties":{"dbcp-min-idle-conns":"0","Max Wait Time":"500 millis","Database Driver Class Name":"org.postgresql.Driver","dbcp-min-evictable-idle-time":"30 mins","kerberos-principal":null,"Max Total Connections":"8","kerberos-credentials-service":null,"dbcp-max-conn-lifetime":"-1","Validation-query":null,"Database Connection URL":"jdbc:postgresql://#{host}:5432/insights_dw","dbcp-time-between-eviction-runs":"-1","Database User":"#{username}","kerberos-user-service":null,"dbcp-soft-min-evictable-idle-time":"-1","database-driver-locations":"/stackable/userdata/nifi-user-volume/postgresql-42.2.23.jar","dbcp-max-idle-conns":"8","Password":"#{password}"},"propertyDescriptors":{"kerberos-password":{"name":"kerberos-password","displayName":"Kerberos Password","identifiesControllerService":false,"sensitive":true},"dbcp-min-idle-conns":{"name":"dbcp-min-idle-conns","displayName":"Minimum Idle Connections","identifiesControllerService":false,"sensitive":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Driver Class Name":{"name":"Database Driver Class Name","displayName":"Database Driver Class Name","identifiesControllerService":false,"sensitive":false},"dbcp-min-evictable-idle-time":{"name":"dbcp-min-evictable-idle-time","displayName":"Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false},"kerberos-principal":{"name":"kerberos-principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"Max Total Connections":{"name":"Max Total Connections","displayName":"Max Total Connections","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"dbcp-max-conn-lifetime":{"name":"dbcp-max-conn-lifetime","displayName":"Max Connection Lifetime","identifiesControllerService":false,"sensitive":false},"Validation-query":{"name":"Validation-query","displayName":"Validation query","identifiesControllerService":false,"sensitive":false},"Database Connection URL":{"name":"Database Connection URL","displayName":"Database Connection URL","identifiesControllerService":false,"sensitive":false},"dbcp-time-between-eviction-runs":{"name":"dbcp-time-between-eviction-runs","displayName":"Time Between Eviction Runs","identifiesControllerService":false,"sensitive":false},"Database User":{"name":"Database User","displayName":"Database User","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"dbcp-soft-min-evictable-idle-time":{"name":"dbcp-soft-min-evictable-idle-time","displayName":"Soft Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false},"database-driver-locations":{"name":"database-driver-locations","displayName":"Database Driver Location(s)","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["URL","DIRECTORY","FILE"]}},"dbcp-max-idle-conns":{"name":"dbcp-max-idle-conns","displayName":"Max Idle Connections","identifiesControllerService":false,"sensitive":false},"Password":{"name":"Password","displayName":"Password","identifiesControllerService":false,"sensitive":true}},"controllerServiceApis":[{"type":"org.apache.nifi.dbcp.DBCPService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.27.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"63fc915a-3bc4-327c-bf6c-b3a38de824b5"},{"identifier":"582ec731-ba03-3190-8e7e-be30d7728215","instanceIdentifier":"8b954df1-0195-1000-ffff-ffffea23b14b","name":"JsonRecordSetWriter","comments":"","type":"org.apache.nifi.json.JsonRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.27.0"},"properties":{"schema-branch":null,"Allow Scientific Notation":"false","compression-level":"1","schema-cache":null,"Timestamp Format":null,"Date Format":null,"Pretty Print JSON":"false","compression-format":"none","Schema Write Strategy":"no-schema","suppress-nulls":"never-suppress","output-grouping":"output-array","schema-name":"${schema.name}","schema-registry":null,"Time Format":null,"schema-access-strategy":"inherit-record-schema","schema-protocol-version":"1","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"Allow Scientific Notation":{"name":"Allow Scientific Notation","displayName":"Allow Scientific Notation","identifiesControllerService":false,"sensitive":false},"compression-level":{"name":"compression-level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"Pretty Print JSON":{"name":"Pretty Print JSON","displayName":"Pretty Print JSON","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false},"suppress-nulls":{"name":"suppress-nulls","displayName":"Suppress Null Values","identifiesControllerService":false,"sensitive":false},"output-grouping":{"name":"output-grouping","displayName":"Output Grouping","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-protocol-version":{"name":"schema-protocol-version","displayName":"Schema Protocol Version","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.27.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"63fc915a-3bc4-327c-bf6c-b3a38de824b5"}],"variables":{"flow_name":"Project","db_schema":"idw"},"parameterContextName":"idw_db_secrets","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","logFileSuffix":"","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"ebb2785d-4922-38f6-8742-b6a4e3e95c41"}],"remoteProcessGroups":[],"processors":[],"inputPorts":[{"identifier":"5ba3e113-e656-3c1a-be5a-cbf878e84ff4","instanceIdentifier":"7e8535ee-c674-1e87-0000-000061a02370","name":"input","position":{"x":-624.0,"y":-56.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"ebb2785d-4922-38f6-8742-b6a4e3e95c41"}],"outputPorts":[],"connections":[{"identifier":"dd23d121-3c6c-3600-aad4-b9cab907e488","instanceIdentifier":"f8bb3f0b-811a-19e5-ffff-ffff892c7249","name":"","source":{"id":"2cd63376-6da0-36c1-9f3c-631ef55608c3","type":"OUTPUT_PORT","groupId":"63fc915a-3bc4-327c-bf6c-b3a38de824b5","name":"log_out","instanceIdentifier":"f8bb3efd-811a-19e5-ffff-ffff80846be3"},"destination":{"id":"0ecc5fff-3822-3a06-b4ad-533382eaba86","type":"FUNNEL","groupId":"ebb2785d-4922-38f6-8742-b6a4e3e95c41","name":"Funnel","comments":"","instanceIdentifier":"ccc6b281-0195-1000-0000-0000031cd5e8"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1112.0,"y":-288.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb2785d-4922-38f6-8742-b6a4e3e95c41"},{"identifier":"547b1a2b-09ae-3c39-bccd-e76fd11e4732","instanceIdentifier":"ccc6d788-0195-1000-ffff-ffffbf4aee88","name":"","source":{"id":"0ecc5fff-3822-3a06-b4ad-533382eaba86","type":"FUNNEL","groupId":"ebb2785d-4922-38f6-8742-b6a4e3e95c41","name":"Funnel","comments":"","instanceIdentifier":"ccc6b281-0195-1000-0000-0000031cd5e8"},"destination":{"id":"6bf74781-2291-3357-8a57-8e0b60cfb40b","type":"INPUT_PORT","groupId":"b172deae-91d1-3b64-a4fc-57ce504b78ae","name":"logger_ip_port","comments":"","instanceIdentifier":"b7e83d18-d09c-1a9a-897a-23c9baef5b31"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1224.0,"y":352.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb2785d-4922-38f6-8742-b6a4e3e95c41"},{"identifier":"9c342169-a01d-36b8-9970-47a3ba086d0f","instanceIdentifier":"c3113a7e-6430-1e1d-ffff-fffffc507c42","name":"","source":{"id":"e2c60f0d-8650-37e2-82f8-7ce5af16586b","type":"OUTPUT_PORT","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"log_out","instanceIdentifier":"c3113a55-6430-1e1d-0000-0000419f8557"},"destination":{"id":"0ecc5fff-3822-3a06-b4ad-533382eaba86","type":"FUNNEL","groupId":"ebb2785d-4922-38f6-8742-b6a4e3e95c41","name":"Funnel","comments":"","instanceIdentifier":"ccc6b281-0195-1000-0000-0000031cd5e8"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1104.0,"y":216.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb2785d-4922-38f6-8742-b6a4e3e95c41"},{"identifier":"631994b0-bd7f-3300-8efb-97ac1339c6d8","instanceIdentifier":"fa63a616-0195-1000-0000-00000b4392c1","name":"","source":{"id":"cacd444a-f083-3385-bcef-fe423d121ef0","type":"OUTPUT_PORT","groupId":"e1772894-f075-3819-83b8-d4459bf746e3","name":"log_out","comments":"","instanceIdentifier":"fa63030b-0195-1000-ffff-ffffb854446a"},"destination":{"id":"0ecc5fff-3822-3a06-b4ad-533382eaba86","type":"FUNNEL","groupId":"ebb2785d-4922-38f6-8742-b6a4e3e95c41","name":"Funnel","comments":"","instanceIdentifier":"ccc6b281-0195-1000-0000-0000031cd5e8"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1224.0,"y":-520.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb2785d-4922-38f6-8742-b6a4e3e95c41"},{"identifier":"d22036e8-a5e5-325a-862a-3bb744119d86","instanceIdentifier":"c3113a6b-6430-1e1d-0000-00007bc49d4d","name":"","source":{"id":"31bcd449-7bfb-3097-9ddf-8fe94dd3e838","type":"OUTPUT_PORT","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"scoreData","comments":"","instanceIdentifier":"0e7f3a27-6c9d-1757-9ec7-f1710db69101"},"destination":{"id":"ce503de7-3462-3c00-a7e8-23840f504a3b","type":"INPUT_PORT","groupId":"bbd8bb02-4466-3ab6-9f4f-33a88a1c4763","name":"input","instanceIdentifier":"c3113a4c-6430-1e1d-0000-0000688ceb16"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb2785d-4922-38f6-8742-b6a4e3e95c41"},{"identifier":"78a4a6cc-b757-33fc-8bd2-8998930fd091","instanceIdentifier":"8a5b3540-526c-10c3-0000-000002a3bae8","name":"","source":{"id":"7d74d4e1-8302-3e8c-9d40-337db0074f24","type":"OUTPUT_PORT","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"role","comments":"Routing to Role flow","instanceIdentifier":"8a5b34a7-526c-10c3-8116-1de4b386208f"},"destination":{"id":"5ec56411-5640-36c2-a7b2-42dcd3f2ba42","type":"INPUT_PORT","groupId":"2ab28661-a7b2-3130-9b13-bbca66016bfa","name":"RoleInput","instanceIdentifier":"8a5b3517-526c-10c3-0000-00001a32d6a0"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb2785d-4922-38f6-8742-b6a4e3e95c41"},{"identifier":"b4d01062-fac0-31d2-85e5-9d9a4f07503e","instanceIdentifier":"a9f132d2-0196-1000-0000-00004901561b","name":"","source":{"id":"57d1bf0e-ff2a-38b8-9dbb-c789347a2d6b","type":"OUTPUT_PORT","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"cms","instanceIdentifier":"a9ceb85e-0196-1000-0000-000079635bbd"},"destination":{"id":"1bebca25-c496-3dc1-acd6-b27b33633aea","type":"INPUT_PORT","groupId":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9","name":"triggerFromAPI","comments":"","instanceIdentifier":"a9f0f7b2-0196-1000-0000-00007035fa07"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":48.0,"y":-632.0},{"x":2000.0,"y":-632.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb2785d-4922-38f6-8742-b6a4e3e95c41"},{"identifier":"621c9240-d0ab-3ecf-a640-afcb8ab72acb","instanceIdentifier":"ad0630e7-f4ef-1aad-ffff-ffffa508e193","name":"","source":{"id":"0c59926c-e3f9-3c48-b2b4-3b635ceff75d","type":"OUTPUT_PORT","groupId":"2ab28661-a7b2-3130-9b13-bbca66016bfa","name":"trigger CMS","instanceIdentifier":"ad063055-f4ef-1aad-afe4-6411075ebebe"},"destination":{"id":"df93ce68-9beb-3435-a9e0-c07a77571ac8","type":"INPUT_PORT","groupId":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9","name":"triigerFromRolePayload","comments":"","instanceIdentifier":"ae926469-3882-3eb5-9436-d3a74e54c5b3"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb2785d-4922-38f6-8742-b6a4e3e95c41"},{"identifier":"41c78bde-0579-3622-b85b-2b680fa3296a","instanceIdentifier":"7e8535f1-c674-1e87-ffff-ffff872bbabf","name":"","source":{"id":"5ba3e113-e656-3c1a-be5a-cbf878e84ff4","type":"INPUT_PORT","groupId":"ebb2785d-4922-38f6-8742-b6a4e3e95c41","name":"input","instanceIdentifier":"7e8535ee-c674-1e87-0000-000061a02370"},"destination":{"id":"20c5ea65-01b3-3340-bf5c-df178f2ce02a","type":"INPUT_PORT","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"input","instanceIdentifier":"3d5a32c4-e0bf-1ead-92ad-5877bd12d5f8"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb2785d-4922-38f6-8742-b6a4e3e95c41"},{"identifier":"0433415e-98da-3ec6-aac0-2ff293fcadc7","instanceIdentifier":"b8a819e3-0195-1000-0000-000015073582","name":"","source":{"id":"10462d4c-371b-38c1-90df-f8dd01138e84","type":"OUTPUT_PORT","groupId":"2ab28661-a7b2-3130-9b13-bbca66016bfa","name":"log_op_port","instanceIdentifier":"b3ca805c-0195-1000-ffff-ffffd3690fc1"},"destination":{"id":"0ecc5fff-3822-3a06-b4ad-533382eaba86","type":"FUNNEL","groupId":"ebb2785d-4922-38f6-8742-b6a4e3e95c41","name":"Funnel","comments":"","instanceIdentifier":"ccc6b281-0195-1000-0000-0000031cd5e8"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb2785d-4922-38f6-8742-b6a4e3e95c41"},{"identifier":"666cd23c-d6bc-3ad1-b80b-2ab58e3a8a14","instanceIdentifier":"cca27876-0195-1000-0000-0000094df624","name":"","source":{"id":"b4f109bc-13fe-3ac2-bc4e-08d4736c233e","type":"OUTPUT_PORT","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"output","instanceIdentifier":"cca1f968-0195-1000-ffff-ffffadea68ac"},"destination":{"id":"6bf74781-2291-3357-8a57-8e0b60cfb40b","type":"INPUT_PORT","groupId":"b172deae-91d1-3b64-a4fc-57ce504b78ae","name":"logger_ip_port","comments":"","instanceIdentifier":"b7e83d18-d09c-1a9a-897a-23c9baef5b31"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb2785d-4922-38f6-8742-b6a4e3e95c41"},{"identifier":"f777898b-77f1-3f1f-b168-b7569e48cd3c","instanceIdentifier":"9fb39cc0-0196-1000-ffff-ffffec196fe3","name":"","source":{"id":"72645833-2b0b-3efd-a421-e5c5d9f05776","type":"OUTPUT_PORT","groupId":"185b32d0-d6ca-31a9-ad0a-4508b63dfba9","name":"to_logs","comments":"","instanceIdentifier":"6a193213-45a5-39a1-9555-4e8c36a17968"},"destination":{"id":"6bf74781-2291-3357-8a57-8e0b60cfb40b","type":"INPUT_PORT","groupId":"b172deae-91d1-3b64-a4fc-57ce504b78ae","name":"logger_ip_port","comments":"","instanceIdentifier":"b7e83d18-d09c-1a9a-897a-23c9baef5b31"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2000.0,"y":352.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb2785d-4922-38f6-8742-b6a4e3e95c41"},{"identifier":"e0c9c0ca-1b45-3400-81b9-054938bc46fb","instanceIdentifier":"f4bd3d71-0195-1000-ffff-ffff86646e2e","name":"","source":{"id":"c61bd0e5-ae3c-3121-bd40-a228cc3a3725","type":"OUTPUT_PORT","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"participant","comments":"","instanceIdentifier":"e5263907-1c09-1717-a8b7-36c79cb389e1"},"destination":{"id":"51ecfacd-b7aa-3a10-ae82-23fe5d08c55c","type":"INPUT_PORT","groupId":"e1772894-f075-3819-83b8-d4459bf746e3","name":"input","instanceIdentifier":"d1b99d31-0195-1000-ffff-ffffc01992af"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":392.0,"y":-520.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb2785d-4922-38f6-8742-b6a4e3e95c41"},{"identifier":"86000b9e-f7b4-3e29-bc47-0efcd9538fe7","instanceIdentifier":"a52b7368-0195-1000-ffff-ffffe69c9a31","name":"","source":{"id":"0fa43b56-1268-3a52-9841-ac3afc46317b","type":"OUTPUT_PORT","groupId":"3897610e-6def-3170-822d-16c2a5d45c0b","name":"project","comments":"","instanceIdentifier":"391b3e34-e907-1d4d-a2f1-820b78de31bc"},"destination":{"id":"11d6c076-7326-341a-b66d-a1e2191faabd","type":"INPUT_PORT","groupId":"63fc915a-3bc4-327c-bf6c-b3a38de824b5","name":"input","instanceIdentifier":"4d3243ac-df37-1624-ffff-ffffd5cee19b"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"ebb2785d-4922-38f6-8742-b6a4e3e95c41"}],"labels":[],"funnels":[{"identifier":"0ecc5fff-3822-3a06-b4ad-533382eaba86","instanceIdentifier":"ccc6b281-0195-1000-0000-0000031cd5e8","position":{"x":1200.0,"y":-40.0},"componentType":"FUNNEL","groupIdentifier":"ebb2785d-4922-38f6-8742-b6a4e3e95c41"}],"controllerServices":[{"identifier":"6a9e07b5-a216-35ab-8a86-e1c698aa771b","instanceIdentifier":"8fab6ada-0196-1000-0000-000010eda3b5","name":"kfProducts-StandardSSLContextService","comments":"","type":"org.apache.nifi.ssl.StandardSSLContextService","bundle":{"group":"org.apache.nifi","artifact":"nifi-ssl-context-service-nar","version":"1.27.0"},"properties":{"Truststore Type":"PKCS12","SSL Protocol":"TLS","Keystore Type":null,"Truststore Filename":"/stackable/userdata/nifi-user-volume/api-kfproducts.p12","Keystore Filename":null},"propertyDescriptors":{"Truststore Type":{"name":"Truststore Type","displayName":"Truststore Type","identifiesControllerService":false,"sensitive":false},"SSL Protocol":{"name":"SSL Protocol","displayName":"TLS Protocol","identifiesControllerService":false,"sensitive":false},"Keystore Type":{"name":"Keystore Type","displayName":"Keystore Type","identifiesControllerService":false,"sensitive":false},"Truststore Filename":{"name":"Truststore Filename","displayName":"Truststore Filename","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Keystore Password":{"name":"Keystore Password","displayName":"Keystore Password","identifiesControllerService":false,"sensitive":true},"key-password":{"name":"key-password","displayName":"Key Password","identifiesControllerService":false,"sensitive":true},"Truststore Password":{"name":"Truststore Password","displayName":"Truststore Password","identifiesControllerService":false,"sensitive":true},"Keystore Filename":{"name":"Keystore Filename","displayName":"Keystore Filename","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}}},"controllerServiceApis":[{"type":"org.apache.nifi.ssl.SSLContextService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.27.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"65179079-0195-1000-0000-00000b406dee"},{"identifier":"4fa59f61-4b0b-326a-ac65-0dbc4ed6c1bb","instanceIdentifier":"6eb53a7f-90f8-1fd7-ffff-ffff8022a4db","name":"ws-StandardHttpContextMap","comments":"","type":"org.apache.nifi.http.StandardHttpContextMap","bundle":{"group":"org.apache.nifi","artifact":"nifi-http-context-map-nar","version":"1.27.0"},"properties":{"Request Expiration":"1 min","Maximum Outstanding Requests":"5000"},"propertyDescriptors":{"Request Expiration":{"name":"Request Expiration","displayName":"Request Expiration","identifiesControllerService":false,"sensitive":false},"Maximum Outstanding Requests":{"name":"Maximum Outstanding Requests","displayName":"Maximum Outstanding Requests","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.http.HttpContextMap","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.27.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"65179079-0195-1000-0000-00000b406dee"}],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE"},"externalControllerServices":{},"parameterContexts":{"shared_db_secrets":{"name":"shared_db_secrets","parameters":[{"name":"dbInstanceIdentifier","sensitive":false,"provided":true,"value":"kfone-dev-use1-shared-psql-001"},{"name":"password","sensitive":true,"provided":true},{"name":"engine","sensitive":false,"provided":true,"value":"postgres"},{"name":"host","sensitive":false,"provided":true,"value":"kfone-dev-use1-shared-psql-001.cnosksgsira5.us-east-1.rds.amazonaws.com"},{"name":"username","sensitive":false,"provided":true,"value":"kfone_core_user"}],"inheritedParameterContexts":[],"parameterProvider":"4924fc83-0193-1000-ffff-ffffcb908a1c","parameterGroupName":"/system/platform/postgres/shared/kfone-core-user-pwd","synchronized":true,"componentType":"PARAMETER_CONTEXT"},"elastic_search_secrets":{"name":"elastic_search_secrets","parameters":[{"name":"api_key","sensitive":false,"provided":true,"value":"zvqpi5MBN9Q8xXNzvjJs"},{"name":"host","sensitive":false,"provided":true,"value":"https://d531b09dc0ef48dc8992493b16cdae6e.eastus.azure.elastic-cloud.com:443"},{"name":"name","sensitive":false,"provided":true,"value":"nifi-dev"},{"name":"encoded","sensitive":false,"provided":true,"value":"enZxcGk1TUJOOVE4eFhOenZqSnM6VnB2QjJJNUhTZ0NMNjEzVjFfblE2dw=="},{"name":"api_secret","sensitive":true,"provided":true}],"inheritedParameterContexts":[],"parameterProvider":"4e43d868-0193-1000-0000-00002f6e31e6","parameterGroupName":"/system/platform/elasticsearch_cluster","synchronized":true,"componentType":"PARAMETER_CONTEXT"},"idw_db_secrets":{"name":"idw_db_secrets","parameters":[{"name":"dbInstanceIdentifier","sensitive":false,"provided":true,"value":"kfone-dev-use1-idw-psql-001"},{"name":"password","sensitive":true,"provided":true},{"name":"engine","sensitive":false,"provided":true,"value":"postgres"},{"name":"host","sensitive":false,"provided":true,"value":"kfone-dev-use1-idw-psql-001.cnosksgsira5.us-east-1.rds.amazonaws.com"},{"name":"username","sensitive":false,"provided":true,"value":"idw_user"}],"inheritedParameterContexts":[],"parameterProvider":"866d3b22-696b-18b7-ffff-ffffd53f5313","parameterGroupName":"/system/platform/postgres/idw/idw-user-pwd","synchronized":true,"componentType":"PARAMETER_CONTEXT"},"log_config":{"name":"log_config","parameters":[{"name":"csv","description":"","sensitive":false,"provided":false,"value":"${filename:contains('sc_dev_difficulty_data.csv')}"},{"name":"Merge Format","description":"","sensitive":false,"provided":false,"value":"JSON"},{"name":"log_config","description":"","sensitive":false,"provided":false,"value":"{\n  \"log_type\": {\n    \"audit_type\": \"AUDIT\",\n    \"trans_type\": \"TRANSACTIONAL\"\n  },\n  \"system_name\": {\n    \"nifi\": \"NIFI\",\n    \"api\": \"REST_API\"\n  },\n  \"log_level\": {\n    \"info\": \"INFO\",\n    \"warn\": \"WARN\",\n    \"error\": \"ERROR\",\n    \"debug\": \"DEBUG\"\n  },\n  \"event_type\": {\n    \"queue_consume\": \"QUEUE_CONSUME_OPERATION\",\n    \"queue_publish\": \"QUEUE_PUBLISH_OPERATION\",\n    \"validation\": \"VALIDATION_OPERATION\",\n    \"db_connect\": \"DATABASE_OPERATION\",\n    \"s3_consume\": \"S3_CONSUME_OPERATION\",\n    \"s3_publish\": \"S3_PUBLISH_OPERATION\",\n    \"api_request\":\"API_REQUEST\"\n  }\n}"}],"inheritedParameterContexts":[],"componentType":"PARAMETER_CONTEXT"},"cms_api":{"name":"cms_api","parameters":[{"name":"endpoint","description":"","sensitive":false,"provided":false,"value":"dev-coreaas-api.kfproducts.com"},{"name":"token","description":"","sensitive":true,"provided":false}],"inheritedParameterContexts":[],"componentType":"PARAMETER_CONTEXT"}},"flowEncodingVersion":"1.0","parameterProviders":{"866d3b22-696b-18b7-ffff-ffffd53f5313":{"identifier":"866d3b22-696b-18b7-ffff-ffffd53f5313","name":"idw_db_secrets","type":"org.apache.nifi.parameter.aws.AwsSecretsManagerParameterProvider","bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-nar","version":"1.27.0"}},"4924fc83-0193-1000-ffff-ffffcb908a1c":{"identifier":"4924fc83-0193-1000-ffff-ffffcb908a1c","name":"shared_db_secrets","type":"org.apache.nifi.parameter.aws.AwsSecretsManagerParameterProvider","bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-nar","version":"1.27.0"}},"4e43d868-0193-1000-0000-00002f6e31e6":{"identifier":"4e43d868-0193-1000-0000-00002f6e31e6","name":"elastic_search_secrets","type":"org.apache.nifi.parameter.aws.AwsSecretsManagerParameterProvider","bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-nar","version":"1.27.0"}}},"latest":false}